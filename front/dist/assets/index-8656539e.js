function bT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var CT={exports:{}},Mh={},ST={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),JA=Symbol.for("react.portal"),QA=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),XA=Symbol.for("react.profiler"),ZA=Symbol.for("react.provider"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),iN=Symbol.for("react.lazy"),Xk=Symbol.iterator;function oN(e){return e===null||typeof e!="object"?null:(e=Xk&&e[Xk]||e["@@iterator"],typeof e=="function"?e:null)}var wT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TT=Object.assign,ET={};function $l(e,t,n){this.props=e,this.context=t,this.refs=ET,this.updater=n||wT}$l.prototype.isReactComponent={};$l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _T(){}_T.prototype=$l.prototype;function $0(e,t,n){this.props=e,this.context=t,this.refs=ET,this.updater=n||wT}var z0=$0.prototype=new _T;z0.constructor=$0;TT(z0,$l.prototype);z0.isPureReactComponent=!0;var Zk=Array.isArray,xT=Object.prototype.hasOwnProperty,B0={current:null},PT={key:!0,ref:!0,__self:!0,__source:!0};function RT(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)xT.call(t,r)&&!PT.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Du,type:e,key:o,ref:s,props:i,_owner:B0.current}}function sN(e,t){return{$$typeof:Du,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function V0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Du}function aN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eC=/\/+/g;function zm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aN(""+e.key):t.toString(36)}function ff(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Du:case JA:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+zm(s,0):r,Zk(i)?(n="",e!=null&&(n=e.replace(eC,"$&/")+"/"),ff(i,t,n,"",function(d){return d})):i!=null&&(V0(i)&&(i=sN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(eC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Zk(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+zm(o,l);s+=ff(o,t,n,u,i)}else if(u=oN(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+zm(o,l++),s+=ff(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ud(e,t,n){if(e==null)return e;var r=[],i=0;return ff(e,r,"","",function(o){return t.call(n,o,i++)}),r}function lN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kn={current:null},hf={transition:null},cN={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:hf,ReactCurrentOwner:B0};Ze.Children={map:Ud,forEach:function(e,t,n){Ud(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ud(e,function(){t++}),t},toArray:function(e){return Ud(e,function(t){return t})||[]},only:function(e){if(!V0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=$l;Ze.Fragment=QA;Ze.Profiler=XA;Ze.PureComponent=$0;Ze.StrictMode=YA;Ze.Suspense=nN;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;Ze.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TT({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=B0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)xT.call(t,u)&&!PT.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Du,type:e.type,key:i,ref:o,props:r,_owner:s}};Ze.createContext=function(e){return e={$$typeof:eN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZA,_context:e},e.Consumer=e};Ze.createElement=RT;Ze.createFactory=function(e){var t=RT.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:tN,render:e}};Ze.isValidElement=V0;Ze.lazy=function(e){return{$$typeof:iN,_payload:{_status:-1,_result:e},_init:lN}};Ze.memo=function(e,t){return{$$typeof:rN,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=hf.transition;hf.transition={};try{e()}finally{hf.transition=t}};Ze.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ze.useCallback=function(e,t){return Kn.current.useCallback(e,t)};Ze.useContext=function(e){return Kn.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return Kn.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return Kn.current.useEffect(e,t)};Ze.useId=function(){return Kn.current.useId()};Ze.useImperativeHandle=function(e,t,n){return Kn.current.useImperativeHandle(e,t,n)};Ze.useInsertionEffect=function(e,t){return Kn.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return Kn.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return Kn.current.useMemo(e,t)};Ze.useReducer=function(e,t,n){return Kn.current.useReducer(e,t,n)};Ze.useRef=function(e){return Kn.current.useRef(e)};Ze.useState=function(e){return Kn.current.useState(e)};Ze.useSyncExternalStore=function(e,t,n){return Kn.current.useSyncExternalStore(e,t,n)};Ze.useTransition=function(){return Kn.current.useTransition()};Ze.version="18.2.0";ST.exports=Ze;var b=ST.exports;const H=kT(b),IT=bT({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=b,dN=Symbol.for("react.element"),fN=Symbol.for("react.fragment"),hN=Object.prototype.hasOwnProperty,pN=uN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mN={key:!0,ref:!0,__self:!0,__source:!0};function OT(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)hN.call(t,r)&&!mN.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:dN,type:e,key:o,ref:s,props:i,_owner:pN.current}}Mh.Fragment=fN;Mh.jsx=OT;Mh.jsxs=OT;CT.exports=Mh;var ee=CT.exports,Qg={},MT={exports:{}},xr={},LT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,ae){var Ee=re.length;re.push(ae);e:for(;0<Ee;){var ke=Ee-1>>>1,Pe=re[ke];if(0<i(Pe,ae))re[ke]=ae,re[Ee]=Pe,Ee=ke;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],Ee=re.pop();if(Ee!==ae){re[0]=Ee;e:for(var ke=0,Pe=re.length,ze=Pe>>>1;ke<ze;){var Et=2*(ke+1)-1,mt=re[Et],lt=Et+1,Xt=re[lt];if(0>i(mt,Ee))lt<Pe&&0>i(Xt,mt)?(re[ke]=Xt,re[lt]=Ee,ke=lt):(re[ke]=mt,re[Et]=Ee,ke=Et);else if(lt<Pe&&0>i(Xt,Ee))re[ke]=Xt,re[lt]=Ee,ke=lt;else break e}}return ae}function i(re,ae){var Ee=re.sortIndex-ae.sortIndex;return Ee!==0?Ee:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],h=1,p=null,m=3,y=!1,C=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var ae=n(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=re)r(d),ae.sortIndex=ae.expirationTime,t(u,ae);else break;ae=n(d)}}function E(re){if(k=!1,P(re),!C)if(n(u)!==null)C=!0,Qe(I);else{var ae=n(d);ae!==null&&De(E,ae.startTime-re)}}function I(re,ae){C=!1,k&&(k=!1,v(_),_=-1),y=!0;var Ee=m;try{for(P(ae),p=n(u);p!==null&&(!(p.expirationTime>ae)||re&&!V());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,m=p.priorityLevel;var Pe=ke(p.expirationTime<=ae);ae=e.unstable_now(),typeof Pe=="function"?p.callback=Pe:p===n(u)&&r(u),P(ae)}else r(u);p=n(u)}if(p!==null)var ze=!0;else{var Et=n(d);Et!==null&&De(E,Et.startTime-ae),ze=!1}return ze}finally{p=null,m=Ee,y=!1}}var M=!1,N=null,_=-1,z=5,F=-1;function V(){return!(e.unstable_now()-F<z)}function q(){if(N!==null){var re=e.unstable_now();F=re;var ae=!0;try{ae=N(!0,re)}finally{ae?ve():(M=!1,N=null)}}else M=!1}var ve;if(typeof w=="function")ve=function(){w(q)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,$e=he.port2;he.port1.onmessage=q,ve=function(){$e.postMessage(null)}}else ve=function(){T(q,0)};function Qe(re){N=re,M||(M=!0,ve())}function De(re,ae){_=T(function(){re(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){C||y||(C=!0,Qe(I))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(re){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var Ee=m;m=ae;try{return re()}finally{m=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Ee=m;m=re;try{return ae()}finally{m=Ee}},e.unstable_scheduleCallback=function(re,ae,Ee){var ke=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ke+Ee:ke):Ee=ke,re){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=Ee+Pe,re={id:h++,callback:ae,priorityLevel:re,startTime:Ee,expirationTime:Pe,sortIndex:-1},Ee>ke?(re.sortIndex=Ee,t(d,re),n(u)===null&&re===n(d)&&(k?(v(_),_=-1):k=!0,De(E,Ee-ke))):(re.sortIndex=Pe,t(u,re),C||y||(C=!0,Qe(I))),re},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(re){var ae=m;return function(){var Ee=m;m=ae;try{return re.apply(this,arguments)}finally{m=Ee}}}})(AT);LT.exports=AT;var gN=LT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=b,Tr=gN;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,su={};function la(e,t){_l(e,t),_l(e+"Capture",t)}function _l(e,t){for(su[e]=t,e=0;e<t.length;e++)DT.add(t[e])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yg=Object.prototype.hasOwnProperty,vN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tC={},nC={};function yN(e){return Yg.call(nC,e)?!0:Yg.call(tC,e)?!1:vN.test(e)?nC[e]=!0:(tC[e]=!0,!1)}function bN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kN(e,t,n,r){if(t===null||typeof t>"u"||bN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xn[e]=new Jn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xn[t]=new Jn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xn[e]=new Jn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xn[e]=new Jn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xn[e]=new Jn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xn[e]=new Jn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xn[e]=new Jn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xn[e]=new Jn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xn[e]=new Jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function H0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W0,H0);xn[t]=new Jn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W0,H0);xn[t]=new Jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W0,H0);xn[t]=new Jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function G0(e,t,n,r){var i=xn.hasOwnProperty(t)?xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kN(t,n,i,r)&&(n=null),r||i===null?yN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Co=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),FT=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),jT=Symbol.for("react.offscreen"),rC=Symbol.iterator;function mc(e){return e===null||typeof e!="object"?null:(e=rC&&e[rC]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,Bm;function Ac(e){if(Bm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bm=t&&t[1]||""}return`
`+Bm+e}var Vm=!1;function Wm(e,t){if(!e||Vm)return"";Vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{Vm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ac(e):""}function CN(e){switch(e.tag){case 5:return Ac(e.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return e=Wm(e.type,!1),e;case 11:return e=Wm(e.type.render,!1),e;case 1:return e=Wm(e.type,!0),e;default:return""}}function tv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qa:return"Fragment";case Ja:return"Portal";case Xg:return"Profiler";case q0:return"StrictMode";case Zg:return"Suspense";case ev:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FT:return(e.displayName||"Context")+".Consumer";case UT:return(e._context.displayName||"Context")+".Provider";case K0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J0:return t=e.displayName||null,t!==null?t:tv(e.type)||"Memo";case Wo:t=e._payload,e=e._init;try{return tv(e(t))}catch{}}return null}function SN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(t);case 8:return t===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $T(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wN(e){var t=$T(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jd(e){e._valueTracker||(e._valueTracker=wN(e))}function zT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$T(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nv(e,t){var n=t.checked;return Bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BT(e,t){t=t.checked,t!=null&&G0(e,"checked",t,!1)}function rv(e,t){BT(e,t);var n=cs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iv(e,t.type,n):t.hasOwnProperty("defaultValue")&&iv(e,t.type,cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iv(e,t,n){(t!=="number"||zf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nc=Array.isArray;function ul(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ov(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(Nc(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cs(n)}}function VT(e,t){var n=cs(t.value),r=cs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function aC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $d,HT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function au(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TN=["Webkit","ms","Moz","O"];Object.keys(Vc).forEach(function(e){TN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vc[t]=Vc[e]})});function GT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vc.hasOwnProperty(e)&&Vc[e]?(""+t).trim():t+"px"}function qT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var EN=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(e,t){if(t){if(EN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function lv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uv=null,dl=null,fl=null;function lC(e){if(e=ju(e)){if(typeof uv!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Uh(t),uv(e.stateNode,e.type,t))}}function KT(e){dl?fl?fl.push(e):fl=[e]:dl=e}function JT(){if(dl){var e=dl,t=fl;if(fl=dl=null,lC(e),t)for(e=0;e<t.length;e++)lC(t[e])}}function QT(e,t){return e(t)}function YT(){}var Hm=!1;function XT(e,t,n){if(Hm)return e(t,n);Hm=!0;try{return QT(e,t,n)}finally{Hm=!1,(dl!==null||fl!==null)&&(YT(),JT())}}function lu(e,t){var n=e.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var dv=!1;if(ho)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){dv=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{dv=!1}function _N(e,t,n,r,i,o,s,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Wc=!1,Bf=null,Vf=!1,fv=null,xN={onError:function(e){Wc=!0,Bf=e}};function PN(e,t,n,r,i,o,s,l,u){Wc=!1,Bf=null,_N.apply(xN,arguments)}function RN(e,t,n,r,i,o,s,l,u){if(PN.apply(this,arguments),Wc){if(Wc){var d=Bf;Wc=!1,Bf=null}else throw Error(oe(198));Vf||(Vf=!0,fv=d)}}function ca(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ZT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cC(e){if(ca(e)!==e)throw Error(oe(188))}function IN(e){var t=e.alternate;if(!t){if(t=ca(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cC(i),e;if(o===r)return cC(i),t;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function eE(e){return e=IN(e),e!==null?tE(e):null}function tE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tE(e);if(t!==null)return t;e=e.sibling}return null}var nE=Tr.unstable_scheduleCallback,uC=Tr.unstable_cancelCallback,ON=Tr.unstable_shouldYield,MN=Tr.unstable_requestPaint,Qt=Tr.unstable_now,LN=Tr.unstable_getCurrentPriorityLevel,Y0=Tr.unstable_ImmediatePriority,rE=Tr.unstable_UserBlockingPriority,Wf=Tr.unstable_NormalPriority,AN=Tr.unstable_LowPriority,iE=Tr.unstable_IdlePriority,Lh=null,Fi=null;function NN(e){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Lh,e,void 0,(e.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:FN,DN=Math.log,UN=Math.LN2;function FN(e){return e>>>=0,e===0?32:31-(DN(e)/UN|0)|0}var zd=64,Bd=4194304;function Dc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Dc(l):(o&=s,o!==0&&(r=Dc(o)))}else s=n&~i,s!==0?r=Dc(s):o!==0&&(r=Dc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bi(t),i=1<<n,r|=e[n],t&=~i;return r}function jN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $N(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-bi(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=jN(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function hv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oE(){var e=zd;return zd<<=1,!(zd&4194240)&&(zd=64),e}function Gm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bi(t),e[t]=n}function zN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bi(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function X0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ft=0;function sE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aE,Z0,lE,cE,uE,pv=!1,Vd=[],Zo=null,es=null,ts=null,cu=new Map,uu=new Map,Go=[],BN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dC(e,t){switch(e){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(t.pointerId)}}function vc(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ju(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VN(e,t,n,r,i){switch(t){case"focusin":return Zo=vc(Zo,e,t,n,r,i),!0;case"dragenter":return es=vc(es,e,t,n,r,i),!0;case"mouseover":return ts=vc(ts,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return cu.set(o,vc(cu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uu.set(o,vc(uu.get(o)||null,e,t,n,r,i)),!0}return!1}function dE(e){var t=Fs(e.target);if(t!==null){var n=ca(t);if(n!==null){if(t=n.tag,t===13){if(t=ZT(n),t!==null){e.blockedOn=t,uE(e.priority,function(){lE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cv=r,n.target.dispatchEvent(r),cv=null}else return t=ju(n),t!==null&&Z0(t),e.blockedOn=n,!1;t.shift()}return!0}function fC(e,t,n){pf(e)&&n.delete(t)}function WN(){pv=!1,Zo!==null&&pf(Zo)&&(Zo=null),es!==null&&pf(es)&&(es=null),ts!==null&&pf(ts)&&(ts=null),cu.forEach(fC),uu.forEach(fC)}function yc(e,t){e.blockedOn===t&&(e.blockedOn=null,pv||(pv=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,WN)))}function du(e){function t(i){return yc(i,e)}if(0<Vd.length){yc(Vd[0],e);for(var n=1;n<Vd.length;n++){var r=Vd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zo!==null&&yc(Zo,e),es!==null&&yc(es,e),ts!==null&&yc(ts,e),cu.forEach(t),uu.forEach(t),n=0;n<Go.length;n++)r=Go[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Go.length&&(n=Go[0],n.blockedOn===null);)dE(n),n.blockedOn===null&&Go.shift()}var hl=Co.ReactCurrentBatchConfig,Gf=!0;function HN(e,t,n,r){var i=ft,o=hl.transition;hl.transition=null;try{ft=1,ey(e,t,n,r)}finally{ft=i,hl.transition=o}}function GN(e,t,n,r){var i=ft,o=hl.transition;hl.transition=null;try{ft=4,ey(e,t,n,r)}finally{ft=i,hl.transition=o}}function ey(e,t,n,r){if(Gf){var i=mv(e,t,n,r);if(i===null)ng(e,t,r,qf,n),dC(e,r);else if(VN(i,e,t,n,r))r.stopPropagation();else if(dC(e,r),t&4&&-1<BN.indexOf(e)){for(;i!==null;){var o=ju(i);if(o!==null&&aE(o),o=mv(e,t,n,r),o===null&&ng(e,t,r,qf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ng(e,t,r,null,n)}}var qf=null;function mv(e,t,n,r){if(qf=null,e=Q0(r),e=Fs(e),e!==null)if(t=ca(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ZT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qf=e,null}function fE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LN()){case Y0:return 1;case rE:return 4;case Wf:case AN:return 16;case iE:return 536870912;default:return 16}default:return 16}}var Ko=null,ty=null,mf=null;function hE(){if(mf)return mf;var e,t=ty,n=t.length,r,i="value"in Ko?Ko.value:Ko.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return mf=i.slice(e,1<r?1-r:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wd(){return!0}function hC(){return!1}function Pr(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wd:hC,this.isPropagationStopped=hC,this}return Bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),t}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Pr(zl),Fu=Bt({},zl,{view:0,detail:0}),qN=Pr(Fu),qm,Km,bc,Ah=Bt({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bc&&(bc&&e.type==="mousemove"?(qm=e.screenX-bc.screenX,Km=e.screenY-bc.screenY):Km=qm=0,bc=e),qm)},movementY:function(e){return"movementY"in e?e.movementY:Km}}),pC=Pr(Ah),KN=Bt({},Ah,{dataTransfer:0}),JN=Pr(KN),QN=Bt({},Fu,{relatedTarget:0}),Jm=Pr(QN),YN=Bt({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),XN=Pr(YN),ZN=Bt({},zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eD=Pr(ZN),tD=Bt({},zl,{data:0}),mC=Pr(tD),nD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iD[e])?!!t[e]:!1}function ry(){return oD}var sD=Bt({},Fu,{key:function(e){if(e.key){var t=nD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aD=Pr(sD),lD=Bt({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gC=Pr(lD),cD=Bt({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),uD=Pr(cD),dD=Bt({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fD=Pr(dD),hD=Bt({},Ah,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pD=Pr(hD),mD=[9,13,27,32],iy=ho&&"CompositionEvent"in window,Hc=null;ho&&"documentMode"in document&&(Hc=document.documentMode);var gD=ho&&"TextEvent"in window&&!Hc,pE=ho&&(!iy||Hc&&8<Hc&&11>=Hc),vC=String.fromCharCode(32),yC=!1;function mE(e,t){switch(e){case"keyup":return mD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function vD(e,t){switch(e){case"compositionend":return gE(t);case"keypress":return t.which!==32?null:(yC=!0,vC);case"textInput":return e=t.data,e===vC&&yC?null:e;default:return null}}function yD(e,t){if(Ya)return e==="compositionend"||!iy&&mE(e,t)?(e=hE(),mf=ty=Ko=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pE&&t.locale!=="ko"?null:t.data;default:return null}}var bD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bD[e.type]:t==="textarea"}function vE(e,t,n,r){KT(r),t=Kf(t,"onChange"),0<t.length&&(n=new ny("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gc=null,fu=null;function kD(e){PE(e,0)}function Nh(e){var t=el(e);if(zT(t))return e}function CD(e,t){if(e==="change")return t}var yE=!1;if(ho){var Qm;if(ho){var Ym="oninput"in document;if(!Ym){var kC=document.createElement("div");kC.setAttribute("oninput","return;"),Ym=typeof kC.oninput=="function"}Qm=Ym}else Qm=!1;yE=Qm&&(!document.documentMode||9<document.documentMode)}function CC(){Gc&&(Gc.detachEvent("onpropertychange",bE),fu=Gc=null)}function bE(e){if(e.propertyName==="value"&&Nh(fu)){var t=[];vE(t,fu,e,Q0(e)),XT(kD,t)}}function SD(e,t,n){e==="focusin"?(CC(),Gc=t,fu=n,Gc.attachEvent("onpropertychange",bE)):e==="focusout"&&CC()}function wD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(fu)}function TD(e,t){if(e==="click")return Nh(t)}function ED(e,t){if(e==="input"||e==="change")return Nh(t)}function _D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ci=typeof Object.is=="function"?Object.is:_D;function hu(e,t){if(Ci(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yg.call(t,i)||!Ci(e[i],t[i]))return!1}return!0}function SC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wC(e,t){var n=SC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SC(n)}}function kE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CE(){for(var e=window,t=zf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zf(e.document)}return t}function oy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xD(e){var t=CE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kE(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wC(n,o);var s=wC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PD=ho&&"documentMode"in document&&11>=document.documentMode,Xa=null,gv=null,qc=null,vv=!1;function TC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||Xa==null||Xa!==zf(r)||(r=Xa,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qc&&hu(qc,r)||(qc=r,r=Kf(gv,"onSelect"),0<r.length&&(t=new ny("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xa)))}function Hd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Za={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},Xm={},SE={};ho&&(SE=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Dh(e){if(Xm[e])return Xm[e];if(!Za[e])return e;var t=Za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in SE)return Xm[e]=t[n];return e}var wE=Dh("animationend"),TE=Dh("animationiteration"),EE=Dh("animationstart"),_E=Dh("transitionend"),xE=new Map,EC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(e,t){xE.set(e,t),la(t,[e])}for(var Zm=0;Zm<EC.length;Zm++){var eg=EC[Zm],RD=eg.toLowerCase(),ID=eg[0].toUpperCase()+eg.slice(1);ms(RD,"on"+ID)}ms(wE,"onAnimationEnd");ms(TE,"onAnimationIteration");ms(EE,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(_E,"onTransitionEnd");_l("onMouseEnter",["mouseout","mouseover"]);_l("onMouseLeave",["mouseout","mouseover"]);_l("onPointerEnter",["pointerout","pointerover"]);_l("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function _C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RN(r,t,void 0,e),e.currentTarget=null}function PE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;_C(i,l,d),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,d=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;_C(i,l,d),o=u}}}if(Vf)throw e=fv,Vf=!1,fv=null,e}function Mt(e,t){var n=t[Sv];n===void 0&&(n=t[Sv]=new Set);var r=e+"__bubble";n.has(r)||(RE(t,e,2,!1),n.add(r))}function tg(e,t,n){var r=0;t&&(r|=4),RE(n,e,r,t)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Gd]){e[Gd]=!0,DT.forEach(function(n){n!=="selectionchange"&&(OD.has(n)||tg(n,!1,e),tg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gd]||(t[Gd]=!0,tg("selectionchange",!1,t))}}function RE(e,t,n,r){switch(fE(t)){case 1:var i=HN;break;case 4:i=GN;break;default:i=ey}n=i.bind(null,t,n,e),i=void 0,!dv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ng(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fs(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}XT(function(){var d=o,h=Q0(n),p=[];e:{var m=xE.get(e);if(m!==void 0){var y=ny,C=e;switch(e){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":y=aD;break;case"focusin":C="focus",y=Jm;break;case"focusout":C="blur",y=Jm;break;case"beforeblur":case"afterblur":y=Jm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=pC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=JN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=uD;break;case wE:case TE:case EE:y=XN;break;case _E:y=fD;break;case"scroll":y=qN;break;case"wheel":y=pD;break;case"copy":case"cut":case"paste":y=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gC}var k=(t&4)!==0,T=!k&&e==="scroll",v=k?m!==null?m+"Capture":null:m;k=[];for(var w=d,P;w!==null;){P=w;var E=P.stateNode;if(P.tag===5&&E!==null&&(P=E,v!==null&&(E=lu(w,v),E!=null&&k.push(mu(w,E,P)))),T)break;w=w.return}0<k.length&&(m=new y(m,C,null,n,h),p.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==cv&&(C=n.relatedTarget||n.fromElement)&&(Fs(C)||C[po]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=d,C=C?Fs(C):null,C!==null&&(T=ca(C),C!==T||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=d),y!==C)){if(k=pC,E="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(k=gC,E="onPointerLeave",v="onPointerEnter",w="pointer"),T=y==null?m:el(y),P=C==null?m:el(C),m=new k(E,w+"leave",y,n,h),m.target=T,m.relatedTarget=P,E=null,Fs(h)===d&&(k=new k(v,w+"enter",C,n,h),k.target=P,k.relatedTarget=T,E=k),T=E,y&&C)t:{for(k=y,v=C,w=0,P=k;P;P=Fa(P))w++;for(P=0,E=v;E;E=Fa(E))P++;for(;0<w-P;)k=Fa(k),w--;for(;0<P-w;)v=Fa(v),P--;for(;w--;){if(k===v||v!==null&&k===v.alternate)break t;k=Fa(k),v=Fa(v)}k=null}else k=null;y!==null&&xC(p,m,y,k,!1),C!==null&&T!==null&&xC(p,T,C,k,!0)}}e:{if(m=d?el(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var I=CD;else if(bC(m))if(yE)I=ED;else{I=wD;var M=SD}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=TD);if(I&&(I=I(e,d))){vE(p,I,n,h);break e}M&&M(e,m,d),e==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&iv(m,"number",m.value)}switch(M=d?el(d):window,e){case"focusin":(bC(M)||M.contentEditable==="true")&&(Xa=M,gv=d,qc=null);break;case"focusout":qc=gv=Xa=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,TC(p,n,h);break;case"selectionchange":if(PD)break;case"keydown":case"keyup":TC(p,n,h)}var N;if(iy)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ya?mE(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(pE&&n.locale!=="ko"&&(Ya||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ya&&(N=hE()):(Ko=h,ty="value"in Ko?Ko.value:Ko.textContent,Ya=!0)),M=Kf(d,_),0<M.length&&(_=new mC(_,e,null,n,h),p.push({event:_,listeners:M}),N?_.data=N:(N=gE(n),N!==null&&(_.data=N)))),(N=gD?vD(e,n):yD(e,n))&&(d=Kf(d,"onBeforeInput"),0<d.length&&(h=new mC("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=N))}PE(p,t)})}function mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lu(e,n),o!=null&&r.unshift(mu(e,o,i)),o=lu(e,t),o!=null&&r.push(mu(e,o,i))),e=e.return}return r}function Fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xC(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=lu(n,o),u!=null&&s.unshift(mu(n,u,l))):i||(u=lu(n,o),u!=null&&s.push(mu(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var MD=/\r\n?/g,LD=/\u0000|\uFFFD/g;function PC(e){return(typeof e=="string"?e:""+e).replace(MD,`
`).replace(LD,"")}function qd(e,t,n){if(t=PC(t),PC(e)!==t&&n)throw Error(oe(425))}function Jf(){}var yv=null,bv=null;function kv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,AD=typeof clearTimeout=="function"?clearTimeout:void 0,RC=typeof Promise=="function"?Promise:void 0,ND=typeof queueMicrotask=="function"?queueMicrotask:typeof RC<"u"?function(e){return RC.resolve(null).then(e).catch(DD)}:Cv;function DD(e){setTimeout(function(){throw e})}function rg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),du(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);du(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function IC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Di="__reactFiber$"+Bl,gu="__reactProps$"+Bl,po="__reactContainer$"+Bl,Sv="__reactEvents$"+Bl,UD="__reactListeners$"+Bl,FD="__reactHandles$"+Bl;function Fs(e){var t=e[Di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[po]||n[Di]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=IC(e);e!==null;){if(n=e[Di])return n;e=IC(e)}return t}e=n,n=e.parentNode}return null}function ju(e){return e=e[Di]||e[po],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function el(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Uh(e){return e[gu]||null}var wv=[],tl=-1;function gs(e){return{current:e}}function Lt(e){0>tl||(e.current=wv[tl],wv[tl]=null,tl--)}function Tt(e,t){tl++,wv[tl]=e.current,e.current=t}var us={},jn=gs(us),or=gs(!1),Ys=us;function xl(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function Qf(){Lt(or),Lt(jn)}function OC(e,t,n){if(jn.current!==us)throw Error(oe(168));Tt(jn,t),Tt(or,n)}function IE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(oe(108,SN(e)||"Unknown",i));return Bt({},n,r)}function Yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,Ys=jn.current,Tt(jn,e),Tt(or,or.current),!0}function MC(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=IE(e,t,Ys),r.__reactInternalMemoizedMergedChildContext=e,Lt(or),Lt(jn),Tt(jn,e)):Lt(or),Tt(or,n)}var no=null,Fh=!1,ig=!1;function OE(e){no===null?no=[e]:no.push(e)}function jD(e){Fh=!0,OE(e)}function vs(){if(!ig&&no!==null){ig=!0;var e=0,t=ft;try{var n=no;for(ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}no=null,Fh=!1}catch(i){throw no!==null&&(no=no.slice(e+1)),nE(Y0,vs),i}finally{ft=t,ig=!1}}return null}var nl=[],rl=0,Xf=null,Zf=0,Br=[],Vr=0,Xs=null,so=1,ao="";function Ls(e,t){nl[rl++]=Zf,nl[rl++]=Xf,Xf=e,Zf=t}function ME(e,t,n){Br[Vr++]=so,Br[Vr++]=ao,Br[Vr++]=Xs,Xs=e;var r=so;e=ao;var i=32-bi(r)-1;r&=~(1<<i),n+=1;var o=32-bi(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,so=1<<32-bi(t)+i|n<<i|r,ao=o+e}else so=1<<o|n<<i|r,ao=e}function sy(e){e.return!==null&&(Ls(e,1),ME(e,1,0))}function ay(e){for(;e===Xf;)Xf=nl[--rl],nl[rl]=null,Zf=nl[--rl],nl[rl]=null;for(;e===Xs;)Xs=Br[--Vr],Br[Vr]=null,ao=Br[--Vr],Br[Vr]=null,so=Br[--Vr],Br[Vr]=null}var Cr=null,br=null,Dt=!1,mi=null;function LE(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function LC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cr=e,br=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cr=e,br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xs!==null?{id:so,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cr=e,br=null,!0):!1;default:return!1}}function Tv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ev(e){if(Dt){var t=br;if(t){var n=t;if(!LC(e,t)){if(Tv(e))throw Error(oe(418));t=ns(n.nextSibling);var r=Cr;t&&LC(e,t)?LE(r,n):(e.flags=e.flags&-4097|2,Dt=!1,Cr=e)}}else{if(Tv(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Dt=!1,Cr=e}}}function AC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cr=e}function Kd(e){if(e!==Cr)return!1;if(!Dt)return AC(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kv(e.type,e.memoizedProps)),t&&(t=br)){if(Tv(e))throw AE(),Error(oe(418));for(;t;)LE(e,t),t=ns(t.nextSibling)}if(AC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){br=ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}br=null}}else br=Cr?ns(e.stateNode.nextSibling):null;return!0}function AE(){for(var e=br;e;)e=ns(e.nextSibling)}function Pl(){br=Cr=null,Dt=!1}function ly(e){mi===null?mi=[e]:mi.push(e)}var $D=Co.ReactCurrentBatchConfig;function di(e,t){if(e&&e.defaultProps){t=Bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var eh=gs(null),th=null,il=null,cy=null;function uy(){cy=il=th=null}function dy(e){var t=eh.current;Lt(eh),e._currentValue=t}function _v(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pl(e,t){th=e,cy=il=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(cy!==e)if(e={context:e,memoizedValue:t,next:null},il===null){if(th===null)throw Error(oe(308));il=e,th.dependencies={lanes:0,firstContext:e}}else il=il.next=e;return t}var js=null;function fy(e){js===null?js=[e]:js.push(e)}function NE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fy(t)):(n.next=i.next,i.next=n),t.interleaved=n,mo(e,r)}function mo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ho=!1;function hy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mo(e,n)}return i=r.interleaved,i===null?(t.next=t,fy(r)):(t.next=i.next,i.next=t),r.interleaved=t,mo(e,n)}function vf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,X0(e,n)}}function NC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nh(e,t,n,r){var i=e.updateQueue;Ho=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,s===null?o=d:s.next=d,s=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,h=d=u=null,l=o;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,k=l;switch(m=t,y=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){p=C.call(y,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,m=typeof C=="function"?C.call(y,p,m):C,m==null)break e;p=Bt({},p,m);break e;case 2:Ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,u=p):h=h.next=y,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ea|=s,e.lanes=s,e.memoizedState=p}}function DC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var UE=new NT.Component().refs;function xv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jh={isMounted:function(e){return(e=e._reactInternals)?ca(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qn(),i=os(e),o=lo(r,i);o.payload=t,n!=null&&(o.callback=n),t=rs(e,o,i),t!==null&&(ki(t,e,i,r),vf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qn(),i=os(e),o=lo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=rs(e,o,i),t!==null&&(ki(t,e,i,r),vf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qn(),r=os(e),i=lo(n,r);i.tag=2,t!=null&&(i.callback=t),t=rs(e,i,r),t!==null&&(ki(t,e,r,n),vf(t,e,r))}};function UC(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!hu(n,r)||!hu(i,o):!0}function FE(e,t,n){var r=!1,i=us,o=t.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(i=sr(t)?Ys:jn.current,r=t.contextTypes,o=(r=r!=null)?xl(e,i):us),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function FC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jh.enqueueReplaceState(t,t.state,null)}function Pv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=UE,hy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yr(o):(o=sr(t)?Ys:jn.current,i.context=xl(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jh.enqueueReplaceState(i,i.state,null),nh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===UE&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function Jd(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jC(e){var t=e._init;return t(e._payload)}function jE(e){function t(v,w){if(e){var P=v.deletions;P===null?(v.deletions=[w],v.flags|=16):P.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=ss(v,w),v.index=0,v.sibling=null,v}function o(v,w,P){return v.index=P,e?(P=v.alternate,P!==null?(P=P.index,P<w?(v.flags|=2,w):P):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,P,E){return w===null||w.tag!==6?(w=dg(P,v.mode,E),w.return=v,w):(w=i(w,P),w.return=v,w)}function u(v,w,P,E){var I=P.type;return I===Qa?h(v,w,P.props.children,E,P.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wo&&jC(I)===w.type)?(E=i(w,P.props),E.ref=kc(v,w,P),E.return=v,E):(E=wf(P.type,P.key,P.props,null,v.mode,E),E.ref=kc(v,w,P),E.return=v,E)}function d(v,w,P,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=fg(P,v.mode,E),w.return=v,w):(w=i(w,P.children||[]),w.return=v,w)}function h(v,w,P,E,I){return w===null||w.tag!==7?(w=Hs(P,v.mode,E,I),w.return=v,w):(w=i(w,P),w.return=v,w)}function p(v,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dg(""+w,v.mode,P),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fd:return P=wf(w.type,w.key,w.props,null,v.mode,P),P.ref=kc(v,null,w),P.return=v,P;case Ja:return w=fg(w,v.mode,P),w.return=v,w;case Wo:var E=w._init;return p(v,E(w._payload),P)}if(Nc(w)||mc(w))return w=Hs(w,v.mode,P,null),w.return=v,w;Jd(v,w)}return null}function m(v,w,P,E){var I=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return I!==null?null:l(v,w,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fd:return P.key===I?u(v,w,P,E):null;case Ja:return P.key===I?d(v,w,P,E):null;case Wo:return I=P._init,m(v,w,I(P._payload),E)}if(Nc(P)||mc(P))return I!==null?null:h(v,w,P,E,null);Jd(v,P)}return null}function y(v,w,P,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(P)||null,l(w,v,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fd:return v=v.get(E.key===null?P:E.key)||null,u(w,v,E,I);case Ja:return v=v.get(E.key===null?P:E.key)||null,d(w,v,E,I);case Wo:var M=E._init;return y(v,w,P,M(E._payload),I)}if(Nc(E)||mc(E))return v=v.get(P)||null,h(w,v,E,I,null);Jd(w,E)}return null}function C(v,w,P,E){for(var I=null,M=null,N=w,_=w=0,z=null;N!==null&&_<P.length;_++){N.index>_?(z=N,N=null):z=N.sibling;var F=m(v,N,P[_],E);if(F===null){N===null&&(N=z);break}e&&N&&F.alternate===null&&t(v,N),w=o(F,w,_),M===null?I=F:M.sibling=F,M=F,N=z}if(_===P.length)return n(v,N),Dt&&Ls(v,_),I;if(N===null){for(;_<P.length;_++)N=p(v,P[_],E),N!==null&&(w=o(N,w,_),M===null?I=N:M.sibling=N,M=N);return Dt&&Ls(v,_),I}for(N=r(v,N);_<P.length;_++)z=y(N,v,_,P[_],E),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?_:z.key),w=o(z,w,_),M===null?I=z:M.sibling=z,M=z);return e&&N.forEach(function(V){return t(v,V)}),Dt&&Ls(v,_),I}function k(v,w,P,E){var I=mc(P);if(typeof I!="function")throw Error(oe(150));if(P=I.call(P),P==null)throw Error(oe(151));for(var M=I=null,N=w,_=w=0,z=null,F=P.next();N!==null&&!F.done;_++,F=P.next()){N.index>_?(z=N,N=null):z=N.sibling;var V=m(v,N,F.value,E);if(V===null){N===null&&(N=z);break}e&&N&&V.alternate===null&&t(v,N),w=o(V,w,_),M===null?I=V:M.sibling=V,M=V,N=z}if(F.done)return n(v,N),Dt&&Ls(v,_),I;if(N===null){for(;!F.done;_++,F=P.next())F=p(v,F.value,E),F!==null&&(w=o(F,w,_),M===null?I=F:M.sibling=F,M=F);return Dt&&Ls(v,_),I}for(N=r(v,N);!F.done;_++,F=P.next())F=y(N,v,_,F.value,E),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?_:F.key),w=o(F,w,_),M===null?I=F:M.sibling=F,M=F);return e&&N.forEach(function(q){return t(v,q)}),Dt&&Ls(v,_),I}function T(v,w,P,E){if(typeof P=="object"&&P!==null&&P.type===Qa&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Fd:e:{for(var I=P.key,M=w;M!==null;){if(M.key===I){if(I=P.type,I===Qa){if(M.tag===7){n(v,M.sibling),w=i(M,P.props.children),w.return=v,v=w;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wo&&jC(I)===M.type){n(v,M.sibling),w=i(M,P.props),w.ref=kc(v,M,P),w.return=v,v=w;break e}n(v,M);break}else t(v,M);M=M.sibling}P.type===Qa?(w=Hs(P.props.children,v.mode,E,P.key),w.return=v,v=w):(E=wf(P.type,P.key,P.props,null,v.mode,E),E.ref=kc(v,w,P),E.return=v,v=E)}return s(v);case Ja:e:{for(M=P.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){n(v,w.sibling),w=i(w,P.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=fg(P,v.mode,E),w.return=v,v=w}return s(v);case Wo:return M=P._init,T(v,w,M(P._payload),E)}if(Nc(P))return C(v,w,P,E);if(mc(P))return k(v,w,P,E);Jd(v,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,P),w.return=v,v=w):(n(v,w),w=dg(P,v.mode,E),w.return=v,v=w),s(v)):n(v,w)}return T}var Rl=jE(!0),$E=jE(!1),$u={},ji=gs($u),vu=gs($u),yu=gs($u);function $s(e){if(e===$u)throw Error(oe(174));return e}function py(e,t){switch(Tt(yu,t),Tt(vu,e),Tt(ji,$u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sv(t,e)}Lt(ji),Tt(ji,t)}function Il(){Lt(ji),Lt(vu),Lt(yu)}function zE(e){$s(yu.current);var t=$s(ji.current),n=sv(t,e.type);t!==n&&(Tt(vu,e),Tt(ji,n))}function my(e){vu.current===e&&(Lt(ji),Lt(vu))}var $t=gs(0);function rh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var og=[];function gy(){for(var e=0;e<og.length;e++)og[e]._workInProgressVersionPrimary=null;og.length=0}var yf=Co.ReactCurrentDispatcher,sg=Co.ReactCurrentBatchConfig,Zs=0,zt=null,un=null,mn=null,ih=!1,Kc=!1,bu=0,zD=0;function Ln(){throw Error(oe(321))}function vy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ci(e[n],t[n]))return!1;return!0}function yy(e,t,n,r,i,o){if(Zs=o,zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?HD:GD,e=n(r,i),Kc){o=0;do{if(Kc=!1,bu=0,25<=o)throw Error(oe(301));o+=1,mn=un=null,t.updateQueue=null,yf.current=qD,e=n(r,i)}while(Kc)}if(yf.current=oh,t=un!==null&&un.next!==null,Zs=0,mn=un=zt=null,ih=!1,t)throw Error(oe(300));return e}function by(){var e=bu!==0;return bu=0,e}function Mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?zt.memoizedState=mn=e:mn=mn.next=e,mn}function Xr(){if(un===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=un.next;var t=mn===null?zt.memoizedState:mn.next;if(t!==null)mn=t,un=e;else{if(e===null)throw Error(oe(310));un=e,e={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?zt.memoizedState=mn=e:mn=mn.next=e}return mn}function ku(e,t){return typeof t=="function"?t(e):t}function ag(e){var t=Xr(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=un,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,d=o;do{var h=d.lane;if((Zs&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,zt.lanes|=h,ea|=h}d=d.next}while(d!==null&&d!==o);u===null?s=r:u.next=l,Ci(r,t.memoizedState)||(ir=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,zt.lanes|=o,ea|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lg(e){var t=Xr(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ci(o,t.memoizedState)||(ir=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function BE(){}function VE(e,t){var n=zt,r=Xr(),i=t(),o=!Ci(r.memoizedState,i);if(o&&(r.memoizedState=i,ir=!0),r=r.queue,ky(GE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Cu(9,HE.bind(null,n,r,i,t),void 0,null),gn===null)throw Error(oe(349));Zs&30||WE(n,t,i)}return i}function WE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function HE(e,t,n,r){t.value=n,t.getSnapshot=r,qE(t)&&KE(e)}function GE(e,t,n){return n(function(){qE(t)&&KE(e)})}function qE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ci(e,n)}catch{return!0}}function KE(e){var t=mo(e,1);t!==null&&ki(t,e,1,-1)}function $C(e){var t=Mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:e},t.queue=e,e=e.dispatch=WD.bind(null,zt,e),[t.memoizedState,e]}function Cu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JE(){return Xr().memoizedState}function bf(e,t,n,r){var i=Mi();zt.flags|=e,i.memoizedState=Cu(1|t,n,void 0,r===void 0?null:r)}function $h(e,t,n,r){var i=Xr();r=r===void 0?null:r;var o=void 0;if(un!==null){var s=un.memoizedState;if(o=s.destroy,r!==null&&vy(r,s.deps)){i.memoizedState=Cu(t,n,o,r);return}}zt.flags|=e,i.memoizedState=Cu(1|t,n,o,r)}function zC(e,t){return bf(8390656,8,e,t)}function ky(e,t){return $h(2048,8,e,t)}function QE(e,t){return $h(4,2,e,t)}function YE(e,t){return $h(4,4,e,t)}function XE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZE(e,t,n){return n=n!=null?n.concat([e]):null,$h(4,4,XE.bind(null,t,e),n)}function Cy(){}function e_(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function t_(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function n_(e,t,n){return Zs&21?(Ci(n,t)||(n=oE(),zt.lanes|=n,ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=n)}function BD(e,t){var n=ft;ft=n!==0&&4>n?n:4,e(!0);var r=sg.transition;sg.transition={};try{e(!1),t()}finally{ft=n,sg.transition=r}}function r_(){return Xr().memoizedState}function VD(e,t,n){var r=os(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i_(e))o_(t,n);else if(n=NE(e,t,n,r),n!==null){var i=qn();ki(n,e,r,i),s_(n,t,r)}}function WD(e,t,n){var r=os(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i_(e))o_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ci(l,s)){var u=t.interleaved;u===null?(i.next=i,fy(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=NE(e,t,i,r),n!==null&&(i=qn(),ki(n,e,r,i),s_(n,t,r))}}function i_(e){var t=e.alternate;return e===zt||t!==null&&t===zt}function o_(e,t){Kc=ih=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,X0(e,n)}}var oh={readContext:Yr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},HD={readContext:Yr,useCallback:function(e,t){return Mi().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:zC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bf(4194308,4,XE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bf(4194308,4,e,t)},useInsertionEffect:function(e,t){return bf(4,2,e,t)},useMemo:function(e,t){var n=Mi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VD.bind(null,zt,e),[r.memoizedState,e]},useRef:function(e){var t=Mi();return e={current:e},t.memoizedState=e},useState:$C,useDebugValue:Cy,useDeferredValue:function(e){return Mi().memoizedState=e},useTransition:function(){var e=$C(!1),t=e[0];return e=BD.bind(null,e[1]),Mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=zt,i=Mi();if(Dt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),gn===null)throw Error(oe(349));Zs&30||WE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zC(GE.bind(null,r,o,e),[e]),r.flags|=2048,Cu(9,HE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mi(),t=gn.identifierPrefix;if(Dt){var n=ao,r=so;n=(r&~(1<<32-bi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GD={readContext:Yr,useCallback:e_,useContext:Yr,useEffect:ky,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:t_,useReducer:ag,useRef:JE,useState:function(){return ag(ku)},useDebugValue:Cy,useDeferredValue:function(e){var t=Xr();return n_(t,un.memoizedState,e)},useTransition:function(){var e=ag(ku)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:BE,useSyncExternalStore:VE,useId:r_,unstable_isNewReconciler:!1},qD={readContext:Yr,useCallback:e_,useContext:Yr,useEffect:ky,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:t_,useReducer:lg,useRef:JE,useState:function(){return lg(ku)},useDebugValue:Cy,useDeferredValue:function(e){var t=Xr();return un===null?t.memoizedState=e:n_(t,un.memoizedState,e)},useTransition:function(){var e=lg(ku)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:BE,useSyncExternalStore:VE,useId:r_,unstable_isNewReconciler:!1};function Ol(e,t){try{var n="",r=t;do n+=CN(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function cg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KD=typeof WeakMap=="function"?WeakMap:Map;function a_(e,t,n){n=lo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ah||(ah=!0,jv=r),Rv(e,t)},n}function l_(e,t,n){n=lo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rv(e,t),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function BC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=l9.bind(null,e,t,n),t.then(e,e))}function VC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lo(-1,1),t.tag=2,rs(n,t,1))),n.lanes|=1),e)}var JD=Co.ReactCurrentOwner,ir=!1;function Hn(e,t,n,r){t.child=e===null?$E(t,null,n,r):Rl(t,e.child,n,r)}function HC(e,t,n,r,i){n=n.render;var o=t.ref;return pl(t,i),r=yy(e,t,n,r,o,i),n=by(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,go(e,t,i)):(Dt&&n&&sy(t),t.flags|=1,Hn(e,t,r,i),t.child)}function GC(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ry(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,c_(e,t,o,r,i)):(e=wf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(s,r)&&e.ref===t.ref)return go(e,t,i)}return t.flags|=1,e=ss(o,r),e.ref=t.ref,e.return=t,t.child=e}function c_(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(hu(o,r)&&e.ref===t.ref)if(ir=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,go(e,t,i)}return Iv(e,t,n,r,i)}function u_(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(sl,vr),vr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(sl,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Tt(sl,vr),vr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Tt(sl,vr),vr|=r;return Hn(e,t,i,n),t.child}function d_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iv(e,t,n,r,i){var o=sr(n)?Ys:jn.current;return o=xl(t,o),pl(t,i),n=yy(e,t,n,r,o,i),r=by(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,go(e,t,i)):(Dt&&r&&sy(t),t.flags|=1,Hn(e,t,n,i),t.child)}function qC(e,t,n,r,i){if(sr(n)){var o=!0;Yf(t)}else o=!1;if(pl(t,i),t.stateNode===null)kf(e,t),FE(t,n,r),Pv(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Yr(d):(d=sr(n)?Ys:jn.current,d=xl(t,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==d)&&FC(t,s,r,d),Ho=!1;var m=t.memoizedState;s.state=m,nh(t,r,s,i),u=t.memoizedState,l!==r||m!==u||or.current||Ho?(typeof h=="function"&&(xv(t,n,h,r),u=t.memoizedState),(l=Ho||UC(t,n,l,r,m,u,d))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,DE(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:di(t.type,l),s.props=d,p=t.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Yr(u):(u=sr(n)?Ys:jn.current,u=xl(t,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&FC(t,s,r,u),Ho=!1,m=t.memoizedState,s.state=m,nh(t,r,s,i);var C=t.memoizedState;l!==p||m!==C||or.current||Ho?(typeof y=="function"&&(xv(t,n,y,r),C=t.memoizedState),(d=Ho||UC(t,n,d,r,m,C,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),s.props=r,s.state=C,s.context=u,r=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ov(e,t,n,r,o,i)}function Ov(e,t,n,r,i,o){d_(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&MC(t,n,!1),go(e,t,o);r=t.stateNode,JD.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Rl(t,e.child,null,o),t.child=Rl(t,null,l,o)):Hn(e,t,l,o),t.memoizedState=r.state,i&&MC(t,n,!0),t.child}function f_(e){var t=e.stateNode;t.pendingContext?OC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OC(e,t.context,!1),py(e,t.containerInfo)}function KC(e,t,n,r,i){return Pl(),ly(i),t.flags|=256,Hn(e,t,n,r),t.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Lv(e){return{baseLanes:e,cachePool:null,transitions:null}}function h_(e,t,n){var r=t.pendingProps,i=$t.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tt($t,i&1),e===null)return Ev(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Vh(s,r,0,null),e=Hs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lv(n),t.memoizedState=Mv,e):Sy(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QD(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ss(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ss(l,o):(o=Hs(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Lv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Mv,r}return o=e.child,e=o.sibling,r=ss(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sy(e,t){return t=Vh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qd(e,t,n,r){return r!==null&&ly(r),Rl(t,e.child,null,n),e=Sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QD(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=cg(Error(oe(422))),Qd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Vh({mode:"visible",children:r.children},i,0,null),o=Hs(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Rl(t,e.child,null,s),t.child.memoizedState=Lv(s),t.memoizedState=Mv,o);if(!(t.mode&1))return Qd(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(oe(419)),r=cg(o,r,void 0),Qd(e,t,s,r)}if(l=(s&e.childLanes)!==0,ir||l){if(r=gn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mo(e,i),ki(r,e,i,-1))}return Py(),r=cg(Error(oe(421))),Qd(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c9.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,br=ns(i.nextSibling),Cr=t,Dt=!0,mi=null,e!==null&&(Br[Vr++]=so,Br[Vr++]=ao,Br[Vr++]=Xs,so=e.id,ao=e.overflow,Xs=t),t=Sy(t,r.children),t.flags|=4096,t)}function JC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_v(e.return,t,n)}function ug(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function p_(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Hn(e,t,r.children,n),r=$t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JC(e,n,t);else if(e.tag===19)JC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Tt($t,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ug(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ug(t,!0,n,null,o);break;case"together":ug(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function go(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=ss(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ss(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function YD(e,t,n){switch(t.tag){case 3:f_(t),Pl();break;case 5:zE(t);break;case 1:sr(t.type)&&Yf(t);break;case 4:py(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Tt(eh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Tt($t,$t.current&1),t.flags|=128,null):n&t.child.childLanes?h_(e,t,n):(Tt($t,$t.current&1),e=go(e,t,n),e!==null?e.sibling:null);Tt($t,$t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return p_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt($t,$t.current),r)break;return null;case 22:case 23:return t.lanes=0,u_(e,t,n)}return go(e,t,n)}var m_,Av,g_,v_;m_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Av=function(){};g_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$s(ji.current);var o=null;switch(n){case"input":i=nv(e,i),r=nv(e,r),o=[];break;case"select":i=Bt({},i,{value:void 0}),r=Bt({},r,{value:void 0}),o=[];break;case"textarea":i=ov(e,i),r=ov(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jf)}av(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(su.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(l=i?.[d],r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(su.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Mt("scroll",e),o||l===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};v_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cc(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XD(e,t,n){var r=t.pendingProps;switch(ay(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return sr(t.type)&&Qf(),An(t),null;case 3:return r=t.stateNode,Il(),Lt(or),Lt(jn),gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mi!==null&&(Bv(mi),mi=null))),Av(e,t),An(t),null;case 5:my(t);var i=$s(yu.current);if(n=t.type,e!==null&&t.stateNode!=null)g_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return An(t),null}if(e=$s(ji.current),Kd(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Di]=t,r[gu]=o,e=(t.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Uc.length;i++)Mt(Uc[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":iC(r,o),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mt("invalid",r);break;case"textarea":sC(r,o),Mt("invalid",r)}av(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&qd(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&qd(r.textContent,l,e),i=["children",""+l]):su.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Mt("scroll",r)}switch(n){case"input":jd(r),oC(r,o,!0);break;case"textarea":jd(r),aC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Di]=t,e[gu]=r,m_(e,t,!1,!1),t.stateNode=e;e:{switch(s=lv(n,r),n){case"dialog":Mt("cancel",e),Mt("close",e),i=r;break;case"iframe":case"object":case"embed":Mt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Uc.length;i++)Mt(Uc[i],e);i=r;break;case"source":Mt("error",e),i=r;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),i=r;break;case"details":Mt("toggle",e),i=r;break;case"input":iC(e,r),i=nv(e,r),Mt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Bt({},r,{value:void 0}),Mt("invalid",e);break;case"textarea":sC(e,r),i=ov(e,r),Mt("invalid",e);break;default:i=r}av(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?qT(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&HT(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&au(e,u):typeof u=="number"&&au(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(su.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Mt("scroll",e):u!=null&&G0(e,o,u,s))}switch(n){case"input":jd(e),oC(e,r,!1);break;case"textarea":jd(e),aC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ul(e,!!r.multiple,o,!1):r.defaultValue!=null&&ul(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)v_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=$s(yu.current),$s(ji.current),Kd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Di]=t,(o=r.nodeValue!==n)&&(e=Cr,e!==null))switch(e.tag){case 3:qd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qd(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Di]=t,t.stateNode=r}return An(t),null;case 13:if(Lt($t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&br!==null&&t.mode&1&&!(t.flags&128))AE(),Pl(),t.flags|=98560,o=!1;else if(o=Kd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Di]=t}else Pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),o=!1}else mi!==null&&(Bv(mi),mi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?dn===0&&(dn=3):Py())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return Il(),Av(e,t),e===null&&pu(t.stateNode.containerInfo),An(t),null;case 10:return dy(t.type._context),An(t),null;case 17:return sr(t.type)&&Qf(),An(t),null;case 19:if(Lt($t),o=t.memoizedState,o===null)return An(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Cc(o,!1);else{if(dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=rh(e),s!==null){for(t.flags|=128,Cc(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tt($t,$t.current&1|2),t.child}e=e.sibling}o.tail!==null&&Qt()>Ml&&(t.flags|=128,r=!0,Cc(o,!1),t.lanes=4194304)}else{if(!r)if(e=rh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Dt)return An(t),null}else 2*Qt()-o.renderingStartTime>Ml&&n!==1073741824&&(t.flags|=128,r=!0,Cc(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qt(),t.sibling=null,n=$t.current,Tt($t,r?n&1|2:n&1),t):(An(t),null);case 22:case 23:return xy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vr&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function ZD(e,t){switch(ay(t),t.tag){case 1:return sr(t.type)&&Qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Il(),Lt(or),Lt(jn),gy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return my(t),null;case 13:if(Lt($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt($t),null;case 4:return Il(),null;case 10:return dy(t.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var Yd=!1,Un=!1,e9=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ol(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(e,t,r)}else n.current=null}function Nv(e,t,n){try{n()}catch(r){Ht(e,t,r)}}var QC=!1;function t9(e,t){if(yv=Gf,e=CE(),oy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,d=0,h=0,p=e,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break t;if(m===n&&++d===i&&(l=s),m===o&&++h===r&&(u=s),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bv={focusedElem:e,selectionRange:n},Gf=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,T=C.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?k:di(t.type,k),T);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(E){Ht(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return C=QC,QC=!1,C}function Jc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nv(t,n,o)}i=i.next}while(i!==r)}}function zh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y_(e){var t=e.alternate;t!==null&&(e.alternate=null,y_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Di],delete t[gu],delete t[Sv],delete t[UD],delete t[FD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b_(e){return e.tag===5||e.tag===3||e.tag===4}function YC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jf));else if(r!==4&&(e=e.child,e!==null))for(Uv(e,t,n),e=e.sibling;e!==null;)Uv(e,t,n),e=e.sibling}function Fv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fv(e,t,n),e=e.sibling;e!==null;)Fv(e,t,n),e=e.sibling}var Sn=null,fi=!1;function jo(e,t,n){for(n=n.child;n!==null;)k_(e,t,n),n=n.sibling}function k_(e,t,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Un||ol(n,t);case 6:var r=Sn,i=fi;Sn=null,jo(e,t,n),Sn=r,fi=i,Sn!==null&&(fi?(e=Sn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(fi?(e=Sn,n=n.stateNode,e.nodeType===8?rg(e.parentNode,n):e.nodeType===1&&rg(e,n),du(e)):rg(Sn,n.stateNode));break;case 4:r=Sn,i=fi,Sn=n.stateNode.containerInfo,fi=!0,jo(e,t,n),Sn=r,fi=i;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nv(n,t,s),i=i.next}while(i!==r)}jo(e,t,n);break;case 1:if(!Un&&(ol(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ht(n,t,l)}jo(e,t,n);break;case 21:jo(e,t,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,jo(e,t,n),Un=r):jo(e,t,n);break;default:jo(e,t,n)}}function XC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new e9),t.forEach(function(r){var i=u9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function li(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Sn=l.stateNode,fi=!1;break e;case 3:Sn=l.stateNode.containerInfo,fi=!0;break e;case 4:Sn=l.stateNode.containerInfo,fi=!0;break e}l=l.return}if(Sn===null)throw Error(oe(160));k_(o,s,i),Sn=null,fi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Ht(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C_(t,e),t=t.sibling}function C_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(li(t,e),Ri(e),r&4){try{Jc(3,e,e.return),zh(3,e)}catch(k){Ht(e,e.return,k)}try{Jc(5,e,e.return)}catch(k){Ht(e,e.return,k)}}break;case 1:li(t,e),Ri(e),r&512&&n!==null&&ol(n,n.return);break;case 5:if(li(t,e),Ri(e),r&512&&n!==null&&ol(n,n.return),e.flags&32){var i=e.stateNode;try{au(i,"")}catch(k){Ht(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&BT(i,o),lv(l,s);var d=lv(l,o);for(s=0;s<u.length;s+=2){var h=u[s],p=u[s+1];h==="style"?qT(i,p):h==="dangerouslySetInnerHTML"?HT(i,p):h==="children"?au(i,p):G0(i,h,p,d)}switch(l){case"input":rv(i,o);break;case"textarea":VT(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ul(i,!!o.multiple,y,!1):m!==!!o.multiple&&(o.defaultValue!=null?ul(i,!!o.multiple,o.defaultValue,!0):ul(i,!!o.multiple,o.multiple?[]:"",!1))}i[gu]=o}catch(k){Ht(e,e.return,k)}}break;case 6:if(li(t,e),Ri(e),r&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){Ht(e,e.return,k)}}break;case 3:if(li(t,e),Ri(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{du(t.containerInfo)}catch(k){Ht(e,e.return,k)}break;case 4:li(t,e),Ri(e);break;case 13:li(t,e),Ri(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ey=Qt())),r&4&&XC(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Un=(d=Un)||h,li(t,e),Un=d):li(t,e),Ri(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(ge=e,h=e.child;h!==null;){for(p=ge=h;ge!==null;){switch(m=ge,y=m.child,m.tag){case 0:case 11:case 14:case 15:Jc(4,m,m.return);break;case 1:ol(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(k){Ht(r,n,k)}}break;case 5:ol(m,m.return);break;case 22:if(m.memoizedState!==null){eS(p);continue}}y!==null?(y.return=m,ge=y):eS(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=GT("display",s))}catch(k){Ht(e,e.return,k)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){Ht(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:li(t,e),Ri(e),r&4&&XC(e);break;case 21:break;default:li(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b_(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(au(i,""),r.flags&=-33);var o=YC(e);Fv(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=YC(e);Uv(e,l,s);break;default:throw Error(oe(161))}}catch(u){Ht(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n9(e,t,n){ge=e,S_(e)}function S_(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Yd;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Un;l=Yd;var d=Un;if(Yd=s,(Un=u)&&!d)for(ge=i;ge!==null;)s=ge,u=s.child,s.tag===22&&s.memoizedState!==null?tS(i):u!==null?(u.return=s,ge=u):tS(i);for(;o!==null;)ge=o,S_(o),o=o.sibling;ge=i,Yd=l,Un=d}ZC(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):ZC(e)}}function ZC(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Un||zh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Un)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:di(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&DC(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DC(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&du(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Un||t.flags&512&&Dv(t)}catch(m){Ht(t,t.return,m)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function eS(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function tS(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zh(4,t)}catch(u){Ht(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ht(t,i,u)}}var o=t.return;try{Dv(t)}catch(u){Ht(t,o,u)}break;case 5:var s=t.return;try{Dv(t)}catch(u){Ht(t,s,u)}}}catch(u){Ht(t,t.return,u)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var r9=Math.ceil,sh=Co.ReactCurrentDispatcher,wy=Co.ReactCurrentOwner,Qr=Co.ReactCurrentBatchConfig,ot=0,gn=null,nn=null,_n=0,vr=0,sl=gs(0),dn=0,Su=null,ea=0,Bh=0,Ty=0,Qc=null,tr=null,Ey=0,Ml=1/0,to=null,ah=!1,jv=null,is=null,Xd=!1,Jo=null,lh=0,Yc=0,$v=null,Cf=-1,Sf=0;function qn(){return ot&6?Qt():Cf!==-1?Cf:Cf=Qt()}function os(e){return e.mode&1?ot&2&&_n!==0?_n&-_n:$D.transition!==null?(Sf===0&&(Sf=oE()),Sf):(e=ft,e!==0||(e=window.event,e=e===void 0?16:fE(e.type)),e):1}function ki(e,t,n,r){if(50<Yc)throw Yc=0,$v=null,Error(oe(185));Uu(e,n,r),(!(ot&2)||e!==gn)&&(e===gn&&(!(ot&2)&&(Bh|=n),dn===4&&qo(e,_n)),ar(e,r),n===1&&ot===0&&!(t.mode&1)&&(Ml=Qt()+500,Fh&&vs()))}function ar(e,t){var n=e.callbackNode;$N(e,t);var r=Hf(e,e===gn?_n:0);if(r===0)n!==null&&uC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uC(n),t===1)e.tag===0?jD(nS.bind(null,e)):OE(nS.bind(null,e)),ND(function(){!(ot&6)&&vs()}),n=null;else{switch(sE(r)){case 1:n=Y0;break;case 4:n=rE;break;case 16:n=Wf;break;case 536870912:n=iE;break;default:n=Wf}n=I_(n,w_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function w_(e,t){if(Cf=-1,Sf=0,ot&6)throw Error(oe(327));var n=e.callbackNode;if(ml()&&e.callbackNode!==n)return null;var r=Hf(e,e===gn?_n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ch(e,r);else{t=r;var i=ot;ot|=2;var o=E_();(gn!==e||_n!==t)&&(to=null,Ml=Qt()+500,Ws(e,t));do try{s9();break}catch(l){T_(e,l)}while(1);uy(),sh.current=o,ot=i,nn!==null?t=0:(gn=null,_n=0,t=dn)}if(t!==0){if(t===2&&(i=hv(e),i!==0&&(r=i,t=zv(e,i))),t===1)throw n=Su,Ws(e,0),qo(e,r),ar(e,Qt()),n;if(t===6)qo(e,r);else{if(i=e.current.alternate,!(r&30)&&!i9(i)&&(t=ch(e,r),t===2&&(o=hv(e),o!==0&&(r=o,t=zv(e,o))),t===1))throw n=Su,Ws(e,0),qo(e,r),ar(e,Qt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:As(e,tr,to);break;case 3:if(qo(e,r),(r&130023424)===r&&(t=Ey+500-Qt(),10<t)){if(Hf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Cv(As.bind(null,e,tr,to),t);break}As(e,tr,to);break;case 4:if(qo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bi(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r9(r/1960))-r,10<r){e.timeoutHandle=Cv(As.bind(null,e,tr,to),r);break}As(e,tr,to);break;case 5:As(e,tr,to);break;default:throw Error(oe(329))}}}return ar(e,Qt()),e.callbackNode===n?w_.bind(null,e):null}function zv(e,t){var n=Qc;return e.current.memoizedState.isDehydrated&&(Ws(e,t).flags|=256),e=ch(e,t),e!==2&&(t=tr,tr=n,t!==null&&Bv(t)),e}function Bv(e){tr===null?tr=e:tr.push.apply(tr,e)}function i9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ci(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qo(e,t){for(t&=~Ty,t&=~Bh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bi(t),r=1<<n;e[n]=-1,t&=~r}}function nS(e){if(ot&6)throw Error(oe(327));ml();var t=Hf(e,0);if(!(t&1))return ar(e,Qt()),null;var n=ch(e,t);if(e.tag!==0&&n===2){var r=hv(e);r!==0&&(t=r,n=zv(e,r))}if(n===1)throw n=Su,Ws(e,0),qo(e,t),ar(e,Qt()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,tr,to),ar(e,Qt()),null}function _y(e,t){var n=ot;ot|=1;try{return e(t)}finally{ot=n,ot===0&&(Ml=Qt()+500,Fh&&vs())}}function ta(e){Jo!==null&&Jo.tag===0&&!(ot&6)&&ml();var t=ot;ot|=1;var n=Qr.transition,r=ft;try{if(Qr.transition=null,ft=1,e)return e()}finally{ft=r,Qr.transition=n,ot=t,!(ot&6)&&vs()}}function xy(){vr=sl.current,Lt(sl)}function Ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,AD(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qf();break;case 3:Il(),Lt(or),Lt(jn),gy();break;case 5:my(r);break;case 4:Il();break;case 13:Lt($t);break;case 19:Lt($t);break;case 10:dy(r.type._context);break;case 22:case 23:xy()}n=n.return}if(gn=e,nn=e=ss(e.current,null),_n=vr=t,dn=0,Su=null,Ty=Bh=ea=0,tr=Qc=null,js!==null){for(t=0;t<js.length;t++)if(n=js[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}js=null}return e}function T_(e,t){do{var n=nn;try{if(uy(),yf.current=oh,ih){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}if(Zs=0,mn=un=zt=null,Kc=!1,bu=0,wy.current=null,n===null||n.return===null){dn=1,Su=t,nn=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=_n,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=VC(s);if(y!==null){y.flags&=-257,WC(y,s,l,o,t),y.mode&1&&BC(o,d,t),t=y,u=d;var C=t.updateQueue;if(C===null){var k=new Set;k.add(u),t.updateQueue=k}else C.add(u);break e}else{if(!(t&1)){BC(o,d,t),Py();break e}u=Error(oe(426))}}else if(Dt&&l.mode&1){var T=VC(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),WC(T,s,l,o,t),ly(Ol(u,l));break e}}o=u=Ol(u,l),dn!==4&&(dn=2),Qc===null?Qc=[o]:Qc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=a_(o,u,t);NC(o,v);break e;case 1:l=u;var w=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(is===null||!is.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=l_(o,l,t);NC(o,E);break e}}o=o.return}while(o!==null)}x_(n)}catch(I){t=I,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(1)}function E_(){var e=sh.current;return sh.current=oh,e===null?oh:e}function Py(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||!(ea&268435455)&&!(Bh&268435455)||qo(gn,_n)}function ch(e,t){var n=ot;ot|=2;var r=E_();(gn!==e||_n!==t)&&(to=null,Ws(e,t));do try{o9();break}catch(i){T_(e,i)}while(1);if(uy(),ot=n,sh.current=r,nn!==null)throw Error(oe(261));return gn=null,_n=0,dn}function o9(){for(;nn!==null;)__(nn)}function s9(){for(;nn!==null&&!ON();)__(nn)}function __(e){var t=R_(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?x_(e):nn=t,wy.current=null}function x_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZD(n,t),n!==null){n.flags&=32767,nn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dn=6,nn=null;return}}else if(n=XD(n,t,vr),n!==null){nn=n;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);dn===0&&(dn=5)}function As(e,t,n){var r=ft,i=Qr.transition;try{Qr.transition=null,ft=1,a9(e,t,n,r)}finally{Qr.transition=i,ft=r}return null}function a9(e,t,n,r){do ml();while(Jo!==null);if(ot&6)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zN(e,o),e===gn&&(nn=gn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,I_(Wf,function(){return ml(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qr.transition,Qr.transition=null;var s=ft;ft=1;var l=ot;ot|=4,wy.current=null,t9(e,n),C_(n,e),xD(bv),Gf=!!yv,bv=yv=null,e.current=n,n9(n),MN(),ot=l,ft=s,Qr.transition=o}else e.current=n;if(Xd&&(Xd=!1,Jo=e,lh=i),o=e.pendingLanes,o===0&&(is=null),NN(n.stateNode),ar(e,Qt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,e=jv,jv=null,e;return lh&1&&e.tag!==0&&ml(),o=e.pendingLanes,o&1?e===$v?Yc++:(Yc=0,$v=e):Yc=0,vs(),null}function ml(){if(Jo!==null){var e=sE(lh),t=Qr.transition,n=ft;try{if(Qr.transition=null,ft=16>e?16:e,Jo===null)var r=!1;else{if(e=Jo,Jo=null,lh=0,ot&6)throw Error(oe(331));var i=ot;for(ot|=4,ge=e.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(ge=d;ge!==null;){var h=ge;switch(h.tag){case 0:case 11:case 15:Jc(8,h,o)}var p=h.child;if(p!==null)p.return=h,ge=p;else for(;ge!==null;){h=ge;var m=h.sibling,y=h.return;if(y_(h),h===d){ge=null;break}if(m!==null){m.return=y,ge=m;break}ge=y}}}var C=o.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ge=v;break e}ge=o.return}}var w=e.current;for(ge=w;ge!==null;){s=ge;var P=s.child;if(s.subtreeFlags&2064&&P!==null)P.return=s,ge=P;else e:for(s=w;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zh(9,l)}}catch(I){Ht(l,l.return,I)}if(l===s){ge=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ge=E;break e}ge=l.return}}if(ot=i,vs(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Lh,e)}catch{}r=!0}return r}finally{ft=n,Qr.transition=t}}return!1}function rS(e,t,n){t=Ol(n,t),t=a_(e,t,1),e=rs(e,t,1),t=qn(),e!==null&&(Uu(e,1,t),ar(e,t))}function Ht(e,t,n){if(e.tag===3)rS(e,e,n);else for(;t!==null;){if(t.tag===3){rS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){e=Ol(n,e),e=l_(t,e,1),t=rs(t,e,1),e=qn(),t!==null&&(Uu(t,1,e),ar(t,e));break}}t=t.return}}function l9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qn(),e.pingedLanes|=e.suspendedLanes&n,gn===e&&(_n&n)===n&&(dn===4||dn===3&&(_n&130023424)===_n&&500>Qt()-Ey?Ws(e,0):Ty|=n),ar(e,t)}function P_(e,t){t===0&&(e.mode&1?(t=Bd,Bd<<=1,!(Bd&130023424)&&(Bd=4194304)):t=1);var n=qn();e=mo(e,t),e!==null&&(Uu(e,t,n),ar(e,n))}function c9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),P_(e,n)}function u9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),P_(e,n)}var R_;R_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ir=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ir=!1,YD(e,t,n);ir=!!(e.flags&131072)}else ir=!1,Dt&&t.flags&1048576&&ME(t,Zf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kf(e,t),e=t.pendingProps;var i=xl(t,jn.current);pl(t,n),i=yy(null,t,r,e,i,n);var o=by();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(r)?(o=!0,Yf(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(t),i.updater=jh,t.stateNode=i,i._reactInternals=t,Pv(t,r,e,n),t=Ov(null,t,r,!0,o,n)):(t.tag=0,Dt&&o&&sy(t),Hn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=f9(r),e=di(r,e),i){case 0:t=Iv(null,t,r,e,n);break e;case 1:t=qC(null,t,r,e,n);break e;case 11:t=HC(null,t,r,e,n);break e;case 14:t=GC(null,t,r,di(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),Iv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),qC(e,t,r,i,n);case 3:e:{if(f_(t),e===null)throw Error(oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,DE(e,t),nh(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ol(Error(oe(423)),t),t=KC(e,t,r,n,i);break e}else if(r!==i){i=Ol(Error(oe(424)),t),t=KC(e,t,r,n,i);break e}else for(br=ns(t.stateNode.containerInfo.firstChild),Cr=t,Dt=!0,mi=null,n=$E(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pl(),r===i){t=go(e,t,n);break e}Hn(e,t,r,n)}t=t.child}return t;case 5:return zE(t),e===null&&Ev(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,kv(r,i)?s=null:o!==null&&kv(r,o)&&(t.flags|=32),d_(e,t),Hn(e,t,s,n),t.child;case 6:return e===null&&Ev(t),null;case 13:return h_(e,t,n);case 4:return py(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rl(t,null,r,n):Hn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),HC(e,t,r,i,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Tt(eh,r._currentValue),r._currentValue=s,o!==null)if(Ci(o.value,s)){if(o.children===i.children&&!or.current){t=go(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=lo(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_v(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(oe(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_v(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Hn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pl(t,n),i=Yr(i),r=r(i),t.flags|=1,Hn(e,t,r,n),t.child;case 14:return r=t.type,i=di(r,t.pendingProps),i=di(r.type,i),GC(e,t,r,i,n);case 15:return c_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:di(r,i),kf(e,t),t.tag=1,sr(r)?(e=!0,Yf(t)):e=!1,pl(t,n),FE(t,r,i),Pv(t,r,i,n),Ov(null,t,r,!0,e,n);case 19:return p_(e,t,n);case 22:return u_(e,t,n)}throw Error(oe(156,t.tag))};function I_(e,t){return nE(e,t)}function d9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new d9(e,t,n,r)}function Ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f9(e){if(typeof e=="function")return Ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K0)return 11;if(e===J0)return 14}return 2}function ss(e,t){var n=e.alternate;return n===null?(n=qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wf(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ry(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qa:return Hs(n.children,i,o,t);case q0:s=8,i|=8;break;case Xg:return e=qr(12,n,t,i|2),e.elementType=Xg,e.lanes=o,e;case Zg:return e=qr(13,n,t,i),e.elementType=Zg,e.lanes=o,e;case ev:return e=qr(19,n,t,i),e.elementType=ev,e.lanes=o,e;case jT:return Vh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UT:s=10;break e;case FT:s=9;break e;case K0:s=11;break e;case J0:s=14;break e;case Wo:s=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=qr(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Hs(e,t,n,r){return e=qr(7,e,r,t),e.lanes=n,e}function Vh(e,t,n,r){return e=qr(22,e,r,t),e.elementType=jT,e.lanes=n,e.stateNode={isHidden:!1},e}function dg(e,t,n){return e=qr(6,e,null,t),e.lanes=n,e}function fg(e,t,n){return t=qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iy(e,t,n,r,i,o,s,l,u){return e=new h9(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(o),e}function p9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O_(e){if(!e)return us;e=e._reactInternals;e:{if(ca(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(sr(n))return IE(e,n,t)}return t}function M_(e,t,n,r,i,o,s,l,u){return e=Iy(n,r,!0,e,i,o,s,l,u),e.context=O_(null),n=e.current,r=qn(),i=os(n),o=lo(r,i),o.callback=t??null,rs(n,o,i),e.current.lanes=i,Uu(e,i,r),ar(e,r),e}function Wh(e,t,n,r){var i=t.current,o=qn(),s=os(i);return n=O_(n),t.context===null?t.context=n:t.pendingContext=n,t=lo(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rs(i,t,s),e!==null&&(ki(e,i,s,o),vf(e,i,s)),s}function uh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oy(e,t){iS(e,t),(e=e.alternate)&&iS(e,t)}function m9(){return null}var L_=typeof reportError=="function"?reportError:function(e){console.error(e)};function My(e){this._internalRoot=e}Hh.prototype.render=My.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Wh(e,t,null,null)};Hh.prototype.unmount=My.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ta(function(){Wh(null,e,null,null)}),t[po]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var t=cE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Go.length&&t!==0&&t<Go[n].priority;n++);Go.splice(n,0,e),n===0&&dE(e)}};function Ly(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oS(){}function g9(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=uh(s);o.call(d)}}var s=M_(t,r,e,0,null,!1,!1,"",oS);return e._reactRootContainer=s,e[po]=s.current,pu(e.nodeType===8?e.parentNode:e),ta(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=uh(u);l.call(d)}}var u=Iy(e,0,!1,null,null,!1,!1,"",oS);return e._reactRootContainer=u,e[po]=u.current,pu(e.nodeType===8?e.parentNode:e),ta(function(){Wh(t,u,n,r)}),u}function qh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=uh(s);l.call(u)}}Wh(t,s,e,i)}else s=g9(n,t,e,i,r);return uh(s)}aE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dc(t.pendingLanes);n!==0&&(X0(t,n|1),ar(t,Qt()),!(ot&6)&&(Ml=Qt()+500,vs()))}break;case 13:ta(function(){var r=mo(e,1);if(r!==null){var i=qn();ki(r,e,1,i)}}),Oy(e,1)}};Z0=function(e){if(e.tag===13){var t=mo(e,134217728);if(t!==null){var n=qn();ki(t,e,134217728,n)}Oy(e,134217728)}};lE=function(e){if(e.tag===13){var t=os(e),n=mo(e,t);if(n!==null){var r=qn();ki(n,e,t,r)}Oy(e,t)}};cE=function(){return ft};uE=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}};uv=function(e,t,n){switch(t){case"input":if(rv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Uh(r);if(!i)throw Error(oe(90));zT(r),rv(r,i)}}}break;case"textarea":VT(e,n);break;case"select":t=n.value,t!=null&&ul(e,!!n.multiple,t,!1)}};QT=_y;YT=ta;var v9={usingClientEntryPoint:!1,Events:[ju,el,Uh,KT,JT,_y]},Sc={findFiberByHostInstance:Fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},y9={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eE(e),e===null?null:e.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||m9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{Lh=Zd.inject(y9),Fi=Zd}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v9;xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ly(t))throw Error(oe(200));return p9(e,t,null,n)};xr.createRoot=function(e,t){if(!Ly(e))throw Error(oe(299));var n=!1,r="",i=L_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Iy(e,1,!1,null,null,n,!1,r,i),e[po]=t.current,pu(e.nodeType===8?e.parentNode:e),new My(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=eE(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return ta(e)};xr.hydrate=function(e,t,n){if(!Gh(t))throw Error(oe(200));return qh(null,e,t,!0,n)};xr.hydrateRoot=function(e,t,n){if(!Ly(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=L_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=M_(t,null,e,1,n??null,i,!1,o,s),e[po]=t.current,pu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hh(t)};xr.render=function(e,t,n){if(!Gh(t))throw Error(oe(200));return qh(null,e,t,!1,n)};xr.unmountComponentAtNode=function(e){if(!Gh(e))throw Error(oe(40));return e._reactRootContainer?(ta(function(){qh(null,null,e,!1,function(){e._reactRootContainer=null,e[po]=null})}),!0):!1};xr.unstable_batchedUpdates=_y;xr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gh(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return qh(e,t,n,!1,r)};xr.version="18.2.0-next-9e3b772b8-20220608";function A_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A_)}catch(e){console.error(e)}}A_(),MT.exports=xr;var Kh=MT.exports;const b9=kT(Kh),k9=bT({__proto__:null,default:b9},[Kh]);var sS=Kh;Qg.createRoot=sS.createRoot,Qg.hydrateRoot=sS.hydrateRoot;var C9=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function N_({packageName:e,customMessages:t}){let n=e;const r={...C9,...t};function i(o,s){if(!s)return`${n}: ${o}`;let l=o;const u=o.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const d of u){const h=(s[d[1]]||"").toString();l=l.replace(`{{${d[1]}}}`,h)}return`${n}: ${l}`}return{setPackageName({packageName:o}){return typeof o=="string"&&(n=o),this},setMessages({customMessages:o}){return Object.assign(r,o||{}),this},throwInvalidPublishableKeyError(o){throw new Error(i(r.InvalidPublishableKeyErrorMessage,o))},throwInvalidProxyUrl(o){throw new Error(i(r.InvalidProxyUrlErrorMessage,o))},throwMissingPublishableKeyError(){throw new Error(i(r.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(i(r.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(o){throw new Error(i(r.MissingClerkProvider,o))},throw(o){throw new Error(i(o))}}}var D_=Object.defineProperty,S9=Object.getOwnPropertyDescriptor,w9=Object.getOwnPropertyNames,T9=Object.prototype.hasOwnProperty,E9=(e,t)=>{for(var n in t)D_(e,n,{get:t[n],enumerable:!0})},aS=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of w9(t))!T9.call(e,i)&&i!==n&&D_(e,i,{get:()=>t[i],enumerable:!(r=S9(t,i))||r.enumerable});return e},_9=(e,t,n)=>(aS(e,t,"default"),n&&aS(n,t,"default")),U_={"A1.10min":10,"A2.1hr":60,"A3.4hr":240,"A4.1day":1440,"A5.1wk":10080},x9=new Set(Object.keys(U_)),P9=new Set(["L1.firstFactor","L2.secondFactor","L3.multiFactor"]),R9=e=>x9.has(e),I9=e=>P9.has(e),O9=(e,t)=>{const{orgId:n,orgRole:r,orgPermissions:i}=t;return!e.role&&!e.permission||!n||!r||!i?null:e.permission?i.includes(e.permission):e.role?r===e.role:null},M9=(e,{__experimental_factorVerificationAge:t})=>{if(!e.__experimental_assurance||!t)return null;const{level:n,maxAge:r}=e.__experimental_assurance;if(!I9(n)||!R9(r))return null;const[i,o]=t,s=U_[r],l=i!==-1?s>i:null,u=o!==-1?s>o:null;switch(n){case"L1.firstFactor":return l;case"L2.secondFactor":return o!==-1?u:l;case"L3.multiFactor":return o===-1?l:l&&u}},L9=e=>t=>{if(!e.userId)return!1;const n=O9(t,e),r=M9(t,e);return[n,r].some(i=>i===null)?[n,r].some(i=>i===!0):[n,r].every(i=>i===!0)},F_={exports:{}},j_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=b;function A9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N9=typeof Object.is=="function"?Object.is:A9,D9=Ll.useState,U9=Ll.useEffect,F9=Ll.useLayoutEffect,j9=Ll.useDebugValue;function $9(e,t){var n=t(),r=D9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return F9(function(){i.value=n,i.getSnapshot=t,hg(i)&&o({inst:i})},[e,n,t]),U9(function(){return hg(i)&&o({inst:i}),e(function(){hg(i)&&o({inst:i})})},[e]),j9(n),n}function hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N9(e,n)}catch{return!0}}function z9(e,t){return t()}var B9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z9:$9;j_.useSyncExternalStore=Ll.useSyncExternalStore!==void 0?Ll.useSyncExternalStore:B9;F_.exports=j_;var Ay=F_.exports;const Qo=()=>{},tn=Qo(),Xc=Object,we=e=>e===tn,rr=e=>typeof e=="function",Bi=(e,t)=>({...e,...t}),V9=e=>rr(e.then),ef=new WeakMap;let W9=0;const wu=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,o;if(Xc(e)===e&&!r&&n!=RegExp){if(i=ef.get(e),i)return i;if(i=++W9+"~",ef.set(e,i),n==Array){for(i="@",o=0;o<e.length;o++)i+=wu(e[o])+",";ef.set(e,i)}if(n==Xc){i="#";const s=Xc.keys(e).sort();for(;!we(o=s.pop());)we(e[o])||(i+=o+":"+wu(e[o])+",");ef.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Hr=new WeakMap,pg={},tf={},Ny="undefined",Jh=typeof window!=Ny,Vv=typeof document!=Ny,H9=()=>Jh&&typeof window.requestAnimationFrame!=Ny,ro=(e,t)=>{const n=Hr.get(e);return[()=>!we(t)&&e.get(t)||pg,r=>{if(!we(t)){const i=e.get(t);t in tf||(tf[t]=i),n[5](t,Bi(i,r),i||pg)}},n[6],()=>!we(t)&&t in tf?tf[t]:!we(t)&&e.get(t)||pg]};let Wv=!0;const G9=()=>Wv,[Hv,Gv]=Jh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Qo,Qo],q9=()=>{const e=Vv&&document.visibilityState;return we(e)||e!=="hidden"},K9=e=>(Vv&&document.addEventListener("visibilitychange",e),Hv("focus",e),()=>{Vv&&document.removeEventListener("visibilitychange",e),Gv("focus",e)}),J9=e=>{const t=()=>{Wv=!0,e()},n=()=>{Wv=!1};return Hv("online",t),Hv("offline",n),()=>{Gv("online",t),Gv("offline",n)}},Q9={isOnline:G9,isVisible:q9},Y9={initFocus:K9,initReconnect:J9},dh=!H.useId,na=!Jh||"Deno"in window,$_=e=>H9()?window.requestAnimationFrame(e):setTimeout(e,1),as=na?b.useEffect:b.useLayoutEffect,mg=typeof navigator<"u"&&navigator.connection,lS=!na&&mg&&(["slow-2g","2g"].includes(mg.effectiveType)||mg.saveData),vo=e=>{if(rr(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?wu(e):"",[e,t]};let X9=0;const fh=()=>++X9,z_=0,B_=1,V_=2,Z9=3;var Ui={__proto__:null,ERROR_REVALIDATE_EVENT:Z9,FOCUS_EVENT:z_,MUTATE_EVENT:V_,RECONNECT_EVENT:B_};async function Dy(...e){const[t,n,r,i]=e,o=Bi({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=o.populateCache;const l=o.rollbackOnError;let u=o.optimisticData;const d=m=>typeof l=="function"?l(m):l!==!1,h=o.throwOnError;if(rr(n)){const m=n,y=[],C=t.keys();for(const k of C)!/^\$(inf|sub)\$/.test(k)&&m(t.get(k)._k)&&y.push(k);return Promise.all(y.map(p))}return p(n);async function p(m){const[y]=vo(m);if(!y)return;const[C,k]=ro(t,y),[T,v,w,P]=Hr.get(t),E=()=>{const ve=T[y];return(rr(o.revalidate)?o.revalidate(C().data,m):o.revalidate!==!1)&&(delete w[y],delete P[y],ve&&ve[0])?ve[0](V_).then(()=>C().data):C().data};if(e.length<3)return E();let I=r,M;const N=fh();v[y]=[N,0];const _=!we(u),z=C(),F=z.data,V=z._c,q=we(V)?F:V;if(_&&(u=rr(u)?u(q,F):u,k({data:u,_c:q})),rr(I))try{I=I(q)}catch(ve){M=ve}if(I&&V9(I))if(I=await I.catch(ve=>{M=ve}),N!==v[y][0]){if(M)throw M;return I}else M&&_&&d(M)&&(s=!0,k({data:q,_c:tn}));if(s&&!M)if(rr(s)){const ve=s(I,q);k({data:ve,error:tn,_c:tn})}else k({data:I,error:tn,_c:tn});if(v[y][1]=fh(),Promise.resolve(E()).then(()=>{k({_c:tn})}),M){if(h)throw M;return}return I}}const cS=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},W_=(e,t)=>{if(!Hr.has(e)){const n=Bi(Y9,t),r={},i=Dy.bind(tn,e);let o=Qo;const s={},l=(h,p)=>{const m=s[h]||[];return s[h]=m,m.push(p),()=>m.splice(m.indexOf(p),1)},u=(h,p,m)=>{e.set(h,p);const y=s[h];if(y)for(const C of y)C(p,m)},d=()=>{if(!Hr.has(e)&&(Hr.set(e,[r,{},{},{},i,u,l]),!na)){const h=n.initFocus(setTimeout.bind(tn,cS.bind(tn,r,z_))),p=n.initReconnect(setTimeout.bind(tn,cS.bind(tn,r,B_)));o=()=>{h&&h(),p&&p(),Hr.delete(e)}}};return d(),[e,i,d,o]}return[e,Hr.get(e)[4]]},e4=(e,t,n,r,i)=>{const o=n.errorRetryCount,s=i.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!we(o)&&s>o||setTimeout(r,l,i)},t4=(e,t)=>wu(e)==wu(t),[zu,H_]=W_(new Map),Uy=Bi({onLoadingSlow:Qo,onSuccess:Qo,onError:Qo,onErrorRetry:e4,onDiscarded:Qo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:lS?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:lS?5e3:3e3,compare:t4,isPaused:()=>!1,cache:zu,mutate:H_,fallback:{}},Q9),G_=(e,t)=>{const n=Bi(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:s}=t;r&&o&&(n.use=r.concat(o)),i&&s&&(n.fallback=Bi(i,s))}return n},qv=b.createContext({}),q_=e=>{const{value:t}=e,n=b.useContext(qv),r=rr(t),i=b.useMemo(()=>r?t(n):t,[r,n,t]),o=b.useMemo(()=>r?i:G_(n,i),[r,n,i]),s=i&&i.provider,l=b.useRef(tn);s&&!l.current&&(l.current=W_(s(o.cache||zu),i));const u=l.current;return u&&(o.cache=u[0],o.mutate=u[1]),as(()=>{if(u)return u[2]&&u[2](),u[3]},[]),b.createElement(qv.Provider,Bi(e,{value:o}))},K_="$inf$",J_=Jh&&window.__SWR_DEVTOOLS_USE__,n4=J_?window.__SWR_DEVTOOLS_USE__:[],r4=()=>{J_&&(window.__SWR_DEVTOOLS_REACT__=H)},Q_=e=>rr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Y_=()=>Bi(Uy,b.useContext(qv)),i4=(e,t)=>{const[n,r]=vo(e),[,,,i]=Hr.get(zu);if(i[n])return i[n];const o=t(r);return i[n]=o,o},o4=e=>(t,n,r)=>e(t,n&&((...o)=>{const[s]=vo(t),[,,,l]=Hr.get(zu);if(s.startsWith(K_))return n(...o);const u=l[s];return we(u)?n(...o):(delete l[s],u)}),r),s4=n4.concat(o4),X_=e=>function(...n){const r=Y_(),[i,o,s]=Q_(n),l=G_(r,s);let u=e;const{use:d}=l,h=(d||[]).concat(s4);for(let p=h.length;p--;)u=h[p](u);return u(i,o||l.fetcher||null,l)},Z_=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},a4=(e,t)=>(...n)=>{const[r,i,o]=Q_(n),s=(o.use||[]).concat(t);return e(r,i,{...o,use:s})};r4();const l4=e=>vo(e)[0],uS=H.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),gg={dedupe:!0},c4=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:l,revalidateIfStale:u,refreshInterval:d,refreshWhenHidden:h,refreshWhenOffline:p,keepPreviousData:m}=n,[y,C,k,T]=Hr.get(r),[v,w]=vo(e),P=b.useRef(!1),E=b.useRef(!1),I=b.useRef(v),M=b.useRef(t),N=b.useRef(n),_=()=>N.current,z=()=>_().isVisible()&&_().isOnline(),[F,V,q,ve]=ro(r,v),he=b.useRef({}).current,$e=we(s)?n.fallback[v]:s,Qe=(Te,Re)=>{for(const ye in he){const Ie=ye;if(Ie==="data"){if(!i(Te[Ie],Re[Ie])&&(!we(Te[Ie])||!i(mt,Re[Ie])))return!1}else if(Re[Ie]!==Te[Ie])return!1}return!0},De=b.useMemo(()=>{const Te=(()=>!v||!t?!1:we(l)?_().isPaused()||o?!1:we(u)?!0:u:l)(),Re=et=>{const gt=Bi(et);return delete gt._k,Te?{isValidating:!0,isLoading:!0,...gt}:gt},ye=F(),Ie=ve(),Ct=Re(ye),_t=ye===Ie?Ct:Re(Ie);let Ue=Ct;return[()=>{const et=Re(F());return Qe(et,Ue)?(Ue.data=et.data,Ue.isLoading=et.isLoading,Ue.isValidating=et.isValidating,Ue.error=et.error,Ue):(Ue=et,et)},()=>_t]},[r,v]),re=Ay.useSyncExternalStore(b.useCallback(Te=>q(v,(Re,ye)=>{Qe(ye,Re)||Te()}),[r,v]),De[0],De[1]),ae=!P.current,Ee=y[v]&&y[v].length>0,ke=re.data,Pe=we(ke)?$e:ke,ze=re.error,Et=b.useRef(Pe),mt=m?we(ke)?Et.current:ke:Pe,lt=(()=>Ee&&!we(ze)?!1:ae&&!we(l)?l:_().isPaused()?!1:o?we(Pe)?!1:u:we(Pe)||u)(),Xt=!!(v&&t&&ae&&lt),vn=we(re.isValidating)?Xt:re.isValidating,ti=we(re.isLoading)?Xt:re.isLoading,hn=b.useCallback(async Te=>{const Re=M.current;if(!v||!Re||E.current||_().isPaused())return!1;let ye,Ie,Ct=!0;const _t=Te||{},Ue=!k[v]||!_t.dedupe,et=()=>dh?!E.current&&v===I.current&&P.current:v===I.current,gt={isValidating:!1,isLoading:!1},Zt=()=>{V(gt)},lr=()=>{const ut=k[v];ut&&ut[1]===Ie&&delete k[v]},Ir={isValidating:!0};we(F().data)&&(Ir.isLoading=!0);try{if(Ue&&(V(Ir),n.loadingTimeout&&we(F().data)&&setTimeout(()=>{Ct&&et()&&_().onLoadingSlow(v,n)},n.loadingTimeout),k[v]=[Re(w),fh()]),[ye,Ie]=k[v],ye=await ye,Ue&&setTimeout(lr,n.dedupingInterval),!k[v]||k[v][1]!==Ie)return Ue&&et()&&_().onDiscarded(v),!1;gt.error=tn;const ut=C[v];if(!we(ut)&&(Ie<=ut[0]||Ie<=ut[1]||ut[1]===0))return Zt(),Ue&&et()&&_().onDiscarded(v),!1;const vt=F().data;gt.data=i(vt,ye)?vt:ye,Ue&&et()&&_().onSuccess(ye,v,n)}catch(ut){lr();const vt=_(),{shouldRetryOnError:yn}=vt;vt.isPaused()||(gt.error=ut,Ue&&et()&&(vt.onError(ut,v,vt),(yn===!0||rr(yn)&&yn(ut))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||z())&&vt.onErrorRetry(ut,v,vt,$n=>{const bn=y[v];bn&&bn[0]&&bn[0](Ui.ERROR_REVALIDATE_EVENT,$n)},{retryCount:(_t.retryCount||0)+1,dedupe:!0})))}return Ct=!1,Zt(),!0},[v,r]),Rr=b.useCallback((...Te)=>Dy(r,I.current,...Te),[]);if(as(()=>{M.current=t,N.current=n,we(ke)||(Et.current=ke)}),as(()=>{if(!v)return;const Te=hn.bind(tn,gg);let Re=0;const Ie=Z_(v,y,(Ct,_t={})=>{if(Ct==Ui.FOCUS_EVENT){const Ue=Date.now();_().revalidateOnFocus&&Ue>Re&&z()&&(Re=Ue+_().focusThrottleInterval,Te())}else if(Ct==Ui.RECONNECT_EVENT)_().revalidateOnReconnect&&z()&&Te();else{if(Ct==Ui.MUTATE_EVENT)return hn();if(Ct==Ui.ERROR_REVALIDATE_EVENT)return hn(_t)}});return E.current=!1,I.current=v,P.current=!0,V({_k:w}),lt&&(we(Pe)||na?Te():$_(Te)),()=>{E.current=!0,Ie()}},[v]),as(()=>{let Te;function Re(){const Ie=rr(d)?d(F().data):d;Ie&&Te!==-1&&(Te=setTimeout(ye,Ie))}function ye(){!F().error&&(h||_().isVisible())&&(p||_().isOnline())?hn(gg).then(Re):Re()}return Re(),()=>{Te&&(clearTimeout(Te),Te=-1)}},[d,h,p,v]),b.useDebugValue(mt),o&&we(Pe)&&v){if(!dh&&na)throw new Error("Fallback data is required when using suspense in SSR.");M.current=t,N.current=n,E.current=!1;const Te=T[v];if(!we(Te)){const Re=Rr(Te);uS(Re)}if(we(ze)){const Re=hn(gg);we(mt)||(Re.status="fulfilled",Re.value=!0),uS(Re)}else throw ze}return{mutate:Rr,get data(){return he.data=!0,mt},get error(){return he.error=!0,ze},get isValidating(){return he.isValidating=!0,vn},get isLoading(){return he.isLoading=!0,ti}}},Fy=Xc.defineProperty(q_,"defaultValue",{value:Uy}),ex=X_(c4),u4=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:Fy,default:ex,mutate:H_,preload:i4,unstable_serialize:l4,useSWRConfig:Y_},Symbol.toStringTag,{value:"Module"})),dS=H.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),vg={dedupe:!0},d4=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:l,revalidateIfStale:u,refreshInterval:d,refreshWhenHidden:h,refreshWhenOffline:p,keepPreviousData:m}=n,[y,C,k,T]=Hr.get(r),[v,w]=vo(e),P=b.useRef(!1),E=b.useRef(!1),I=b.useRef(v),M=b.useRef(t),N=b.useRef(n),_=()=>N.current,z=()=>_().isVisible()&&_().isOnline(),[F,V,q,ve]=ro(r,v),he=b.useRef({}).current,$e=we(s)?n.fallback[v]:s,Qe=(Te,Re)=>{for(const ye in he){const Ie=ye;if(Ie==="data"){if(!i(Te[Ie],Re[Ie])&&(!we(Te[Ie])||!i(mt,Re[Ie])))return!1}else if(Re[Ie]!==Te[Ie])return!1}return!0},De=b.useMemo(()=>{const Te=(()=>!v||!t?!1:we(l)?_().isPaused()||o?!1:we(u)?!0:u:l)(),Re=et=>{const gt=Bi(et);return delete gt._k,Te?{isValidating:!0,isLoading:!0,...gt}:gt},ye=F(),Ie=ve(),Ct=Re(ye),_t=ye===Ie?Ct:Re(Ie);let Ue=Ct;return[()=>{const et=Re(F());return Qe(et,Ue)?(Ue.data=et.data,Ue.isLoading=et.isLoading,Ue.isValidating=et.isValidating,Ue.error=et.error,Ue):(Ue=et,et)},()=>_t]},[r,v]),re=Ay.useSyncExternalStore(b.useCallback(Te=>q(v,(Re,ye)=>{Qe(ye,Re)||Te()}),[r,v]),De[0],De[1]),ae=!P.current,Ee=y[v]&&y[v].length>0,ke=re.data,Pe=we(ke)?$e:ke,ze=re.error,Et=b.useRef(Pe),mt=m?we(ke)?Et.current:ke:Pe,lt=(()=>Ee&&!we(ze)?!1:ae&&!we(l)?l:_().isPaused()?!1:o?we(Pe)?!1:u:we(Pe)||u)(),Xt=!!(v&&t&&ae&&lt),vn=we(re.isValidating)?Xt:re.isValidating,ti=we(re.isLoading)?Xt:re.isLoading,hn=b.useCallback(async Te=>{const Re=M.current;if(!v||!Re||E.current||_().isPaused())return!1;let ye,Ie,Ct=!0;const _t=Te||{},Ue=!k[v]||!_t.dedupe,et=()=>dh?!E.current&&v===I.current&&P.current:v===I.current,gt={isValidating:!1,isLoading:!1},Zt=()=>{V(gt)},lr=()=>{const ut=k[v];ut&&ut[1]===Ie&&delete k[v]},Ir={isValidating:!0};we(F().data)&&(Ir.isLoading=!0);try{if(Ue&&(V(Ir),n.loadingTimeout&&we(F().data)&&setTimeout(()=>{Ct&&et()&&_().onLoadingSlow(v,n)},n.loadingTimeout),k[v]=[Re(w),fh()]),[ye,Ie]=k[v],ye=await ye,Ue&&setTimeout(lr,n.dedupingInterval),!k[v]||k[v][1]!==Ie)return Ue&&et()&&_().onDiscarded(v),!1;gt.error=tn;const ut=C[v];if(!we(ut)&&(Ie<=ut[0]||Ie<=ut[1]||ut[1]===0))return Zt(),Ue&&et()&&_().onDiscarded(v),!1;const vt=F().data;gt.data=i(vt,ye)?vt:ye,Ue&&et()&&_().onSuccess(ye,v,n)}catch(ut){lr();const vt=_(),{shouldRetryOnError:yn}=vt;vt.isPaused()||(gt.error=ut,Ue&&et()&&(vt.onError(ut,v,vt),(yn===!0||rr(yn)&&yn(ut))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||z())&&vt.onErrorRetry(ut,v,vt,$n=>{const bn=y[v];bn&&bn[0]&&bn[0](Ui.ERROR_REVALIDATE_EVENT,$n)},{retryCount:(_t.retryCount||0)+1,dedupe:!0})))}return Ct=!1,Zt(),!0},[v,r]),Rr=b.useCallback((...Te)=>Dy(r,I.current,...Te),[]);if(as(()=>{M.current=t,N.current=n,we(ke)||(Et.current=ke)}),as(()=>{if(!v)return;const Te=hn.bind(tn,vg);let Re=0;const Ie=Z_(v,y,(Ct,_t={})=>{if(Ct==Ui.FOCUS_EVENT){const Ue=Date.now();_().revalidateOnFocus&&Ue>Re&&z()&&(Re=Ue+_().focusThrottleInterval,Te())}else if(Ct==Ui.RECONNECT_EVENT)_().revalidateOnReconnect&&z()&&Te();else{if(Ct==Ui.MUTATE_EVENT)return hn();if(Ct==Ui.ERROR_REVALIDATE_EVENT)return hn(_t)}});return E.current=!1,I.current=v,P.current=!0,V({_k:w}),lt&&(we(Pe)||na?Te():$_(Te)),()=>{E.current=!0,Ie()}},[v]),as(()=>{let Te;function Re(){const Ie=rr(d)?d(F().data):d;Ie&&Te!==-1&&(Te=setTimeout(ye,Ie))}function ye(){!F().error&&(h||_().isVisible())&&(p||_().isOnline())?hn(vg).then(Re):Re()}return Re(),()=>{Te&&(clearTimeout(Te),Te=-1)}},[d,h,p,v]),b.useDebugValue(mt),o&&we(Pe)&&v){if(!dh&&na)throw new Error("Fallback data is required when using suspense in SSR.");M.current=t,N.current=n,E.current=!1;const Te=T[v];if(!we(Te)){const Re=Rr(Te);dS(Re)}if(we(ze)){const Re=hn(vg);we(mt)||(Re.status="fulfilled",Re.value=!0),dS(Re)}else throw ze}return{mutate:Rr,get data(){return he.data=!0,mt},get error(){return he.error=!0,ze},get isValidating(){return he.isValidating=!0,vn},get isLoading(){return he.isLoading=!0,ti}}};Xc.defineProperty(q_,"defaultValue",{value:Uy});const f4=X_(d4),h4=e=>vo(e?e(0,null):null)[0],yg=Promise.resolve(),p4=e=>(t,n,r)=>{const i=b.useRef(!1),{cache:o,initialSize:s=1,revalidateAll:l=!1,persistSize:u=!1,revalidateFirstPage:d=!0,revalidateOnMount:h=!1,parallel:p=!1}=r,[,,,m]=Hr.get(zu);let y;try{y=h4(t),y&&(y=K_+y)}catch{}const[C,k,T]=ro(o,y),v=b.useCallback(()=>we(C()._l)?s:C()._l,[o,y,s]);Ay.useSyncExternalStore(b.useCallback(_=>y?T(y,()=>{_()}):()=>{},[o,y]),v,v);const w=b.useCallback(()=>{const _=C()._l;return we(_)?s:_},[y,s]),P=b.useRef(w());as(()=>{if(!i.current){i.current=!0;return}y&&k({_l:u?P.current:w()})},[y,o]);const E=h&&!i.current,I=e(y,async _=>{const z=C()._i,F=C()._r;k({_r:tn});const V=[],q=w(),[ve]=ro(o,_),he=ve().data,$e=[];let Qe=null;for(let De=0;De<q;++De){const[re,ae]=vo(t(De,p?null:Qe));if(!re)break;const[Ee,ke]=ro(o,re);let Pe=Ee().data;const ze=l||z||we(Pe)||d&&!De&&!we(he)||E||he&&!we(he[De])&&!r.compare(he[De],Pe);if(n&&(typeof F=="function"?F(Pe,ae):ze)){const Et=async()=>{if(!(re in m))Pe=await n(ae);else{const lt=m[re];delete m[re],Pe=await lt}ke({data:Pe,_k:ae}),V[De]=Pe};p?$e.push(Et):await Et()}else V[De]=Pe;p||(Qe=Pe)}return p&&await Promise.all($e.map(De=>De())),k({_i:tn}),V},r),M=b.useCallback(function(_,z){const F=typeof z=="boolean"?{revalidate:z}:z||{},V=F.revalidate!==!1;return y?(V&&(we(_)?k({_i:!0,_r:F.revalidate}):k({_i:!1,_r:F.revalidate})),arguments.length?I.mutate(_,{...F,revalidate:V}):I.mutate()):yg},[y,o]),N=b.useCallback(_=>{if(!y)return yg;const[,z]=ro(o,y);let F;if(rr(_)?F=_(w()):typeof _=="number"&&(F=_),typeof F!="number")return yg;z({_l:F}),P.current=F;const V=[],[q]=ro(o,y);let ve=null;for(let he=0;he<F;++he){const[$e]=vo(t(he,ve)),[Qe]=ro(o,$e),De=$e?Qe().data:tn;if(we(De))return M(q().data);V.push(De),ve=De}return M(V)},[y,o,M,w]);return{size:w(),setSize:N,mutate:M,get data(){return I.data},get error(){return I.error},get isValidating(){return I.isValidating},get isLoading(){return I.isLoading}}},m4=a4(f4,p4);function g4(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var Vl=(e,t)=>{const{assertCtxFn:n=g4}=t||{},r=H.createContext(void 0);return r.displayName=e,[r,()=>{const s=H.useContext(r);return n(s,`${e} not found`),s.value},()=>{const s=H.useContext(r);return s?s.value:{}}]},tx={};E9(tx,{SWRConfig:()=>Fy,useSWR:()=>ex,useSWRInfinite:()=>m4});_9(tx,u4);var[nx,v4]=Vl("ClerkInstanceContext"),[y4,b4]=Vl("UserContext"),[k4,AH]=Vl("ClientContext"),[C4,NH]=Vl("SessionContext");H.createContext({});var[S4,DH]=Vl("OrganizationContext"),w4=({children:e,organization:t,swrConfig:n})=>H.createElement(Fy,{value:n},H.createElement(S4.Provider,{value:{value:{organization:t}}},e));function rx(e){if(!H.useContext(nx)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`)}}typeof window<"u"?H.useLayoutEffect:H.useEffect;function T4(){rx("useUser");const e=b4();return e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var fS=Object.prototype.hasOwnProperty;function hS(e,t,n){for(n of e.keys())if(Zc(n,t))return n}function Zc(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Zc(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=hS(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=hS(t,i),!i)||!Zc(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(fS.call(e,n)&&++r&&!fS.call(t,n)||!(n in t)||!Zc(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var E4=Zc,ix=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,_4=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],ox="pk_live_",x4="pk_test_";function pS(e,t={}){if(e=e||"",!e||!sx(e)){if(t.fatal)throw new Error("Publishable key not valid.");return null}const n=e.startsWith(ox)?"production":"development";let r=ix(e.split("_")[2]);return r=r.slice(0,-1),t.proxyUrl?r=t.proxyUrl:n!=="development"&&t.domain&&(r=`clerk.${t.domain}`),{instanceType:n,frontendApi:r}}function sx(e){e=e||"";const t=e.startsWith(ox)||e.startsWith(x4),n=ix(e.split("_")[2]||"").endsWith("$");return t&&n}function P4(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const n=typeof t=="string"?t:t.hostname;let r=e.get(n);return r===void 0&&(r=_4.some(i=>n.endsWith(i)),e.set(n,r)),r}}}var $i=N_({packageName:"@clerk/clerk-react"});function R4(e){$i.setMessages(e).setPackageName(e)}var[I4,ax]=Vl("AuthContext"),O4=nx,lx=v4,M4="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",L4=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,A4="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",bg="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",N4="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",D4="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",U4="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",F4="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",j4=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored.`,$4=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,z4=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,B4="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored.",V4="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored.",W4="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",H4="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",G4="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",q4="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",K4="Missing props. <UserButton.Action /> component requires the following props: label.",jy=e=>{rx(()=>{$i.throwMissingClerkProviderError({source:e})})},cx=e=>new Promise(t=>{e.loaded&&t(),e.addOnLoaded(t)}),J4=e=>async t=>(await cx(e),e.session?e.session.getToken(t):null),Q4=e=>async(...t)=>(await cx(e),e.signOut(...t)),Y4=()=>{jy("useAuth");const{sessionId:e,userId:t,actor:n,orgId:r,orgRole:i,orgSlug:o,orgPermissions:s,__experimental_factorVerificationAge:l}=ax(),u=lx(),d=b.useCallback(J4(u),[u]),h=b.useCallback(Q4(u),[u]),p=b.useCallback(m=>L9({userId:t,orgId:r,orgRole:i,orgPermissions:s,__experimental_factorVerificationAge:l})(m),[t,l,r,i,s]);return e===void 0&&t===void 0?{isLoaded:!1,isSignedIn:void 0,sessionId:e,userId:t,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:h,getToken:d}:e===null&&t===null?{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:t,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:h,getToken:d}:e&&t&&r&&i?{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:n||null,orgId:r,orgRole:i,orgSlug:o||null,has:p,signOut:h,getToken:d}:e&&t&&!r?{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:n||null,orgId:null,orgRole:null,orgSlug:null,has:p,signOut:h,getToken:d}:$i.throw(A4)},on=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;const n=r=>{jy(t||"withClerk");const i=lx();return i.loaded?H.createElement(e,{...r,clerk:i}):null};return n.displayName=`withClerk(${t})`,n},X4=({children:e})=>{jy("SignedIn");const{userId:t}=ax();return t?H.createElement(H.Fragment,null,e):null};on(({clerk:e,...t})=>{const{client:n,session:r}=e,i=n.activeSessions&&n.activeSessions.length>0;return H.useEffect(()=>{r===null&&i?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");on(({clerk:e,...t})=>(H.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");on(({clerk:e})=>(H.useEffect(()=>{e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");on(({clerk:e})=>(H.useEffect(()=>{e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");on(({clerk:e})=>(H.useEffect(()=>{e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");on(({clerk:e,...t})=>(H.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var ux=e=>{throw TypeError(e)},$y=(e,t,n)=>t.has(e)||ux("Cannot "+n),ce=(e,t,n)=>($y(e,t,"read from private field"),n?n.call(e):t.get(e)),Ha=(e,t,n)=>t.has(e)?ux("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ja=(e,t,n,r)=>($y(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mS=(e,t,n)=>($y(e,t,"access private method"),n),Z4=(e,t="5.22.2")=>{if(e)return e;const n=e6(t);return n?n==="snapshot"?"5.22.2":n:t6(t)},e6=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},t6=e=>e.trim().replace(/^v/,"").split(".")[0];function n6(e){return e?r6(e)||dx(e):!0}function r6(e){return/^http(s)?:\/\//.test(e||"")}function dx(e){return e.startsWith("/")}function i6(e){return e?dx(e)?new URL(e,window.location.origin).toString():e:""}function o6(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var s6="loadScript cannot be called when document does not exist",a6="loadScript cannot be called without a src";async function l6(e="",t){const{async:n,defer:r,beforeLoad:i,crossOrigin:o,nonce:s}=t||{};return new Promise((l,u)=>{e||u(a6),(!document||!document.body)&&u(s6);const d=document.createElement("script");o&&d.setAttribute("crossorigin",o),d.async=n||!1,d.defer=r||!1,d.addEventListener("load",()=>{d.remove(),l(d)}),d.addEventListener("error",()=>{d.remove(),u()}),d.src=e,d.nonce=s,i?.(d),document.body.appendChild(d)})}var gS="Clerk: Failed to load Clerk",{isDevOrStagingUrl:c6}=P4(),fx=N_({packageName:"@clerk/shared"});function u6(e){fx.setPackageName({packageName:e})}var d6=async e=>{const t=document.querySelector("script[data-clerk-js-script]");if(t)return new Promise((n,r)=>{t.addEventListener("load",()=>{n(t)}),t.addEventListener("error",()=>{r(gS)})});if(!e?.publishableKey){fx.throwMissingPublishableKeyError();return}return l6(f6(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:p6(e)}).catch(()=>{throw new Error(gS)})},f6=e=>{var t,n;const{clerkJSUrl:r,clerkJSVariant:i,clerkJSVersion:o,proxyUrl:s,domain:l,publishableKey:u}=e;if(r)return r;let d="";s&&n6(s)?d=i6(s).replace(/http(s)?:\/\//,""):l&&!c6(((t=pS(u))==null?void 0:t.frontendApi)||"")?d=o6(l):d=((n=pS(u))==null?void 0:n.frontendApi)||"";const h=i?`${i.replace(/\.+$/,"")}.`:"",p=Z4(o);return`https://${d}/npm/@clerk/clerk-js@${p}/dist/clerk.${h}browser.js`},h6=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},p6=e=>t=>{const n=h6(e);for(const r in n)t.setAttribute(r,n[r])},vS=(e,...t)=>{const n={...e};for(const r of t)delete n[r];return n},m6=()=>{try{return!1}catch{}return!1};function kg(e,t,n){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof n<"u")return n}function yS(){return typeof window<"u"}var Gn=e=>{m6()&&console.error(`Clerk: ${e}`)};typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var Qh=e=>t=>{try{return H.Children.only(e)}catch{return $i.throw(L4(t))}},Yh=(e,t)=>(e||(e=t),typeof e=="string"&&(e=H.createElement("button",null,e)),e),Xh=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function g6(e){return typeof e=="function"}var nf=new Map;function v6(e,t,n=1){H.useEffect(()=>{const r=nf.get(e)||0;return r==n?$i.throw(t):(nf.set(e,r+1),()=>{nf.set(e,(nf.get(e)||1)-1)})},[])}function y6(e,t,n){const r=e.displayName||e.name||t||"Component",i=o=>(v6(t,n),H.createElement(e,{...o}));return i.displayName=`withMaxAllowedInstancesGuard(${r})`,i}var eu=e=>{const t=Array(e.length).fill(null),[n,r]=b.useState(t);return e.map((i,o)=>({id:i.id,mount:s=>r(l=>l.map((u,d)=>d===o?s:u)),unmount:()=>r(s=>s.map((l,u)=>u===o?null:l)),portal:()=>H.createElement(H.Fragment,null,n[o]?Kh.createPortal(i.component,n[o]):null)}))},er=(e,t)=>!!e&&H.isValidElement(e)&&e?.type===t,hx=e=>mx({children:e,reorderItemsLabels:["account","security"],LinkComponent:ep,PageComponent:Zh,MenuItemsComponent:zy,componentName:"UserProfile"}),px=e=>mx({children:e,reorderItemsLabels:["general","members"],LinkComponent:Vy,PageComponent:By,componentName:"OrganizationProfile"}),mx=({children:e,LinkComponent:t,PageComponent:n,MenuItemsComponent:r,reorderItemsLabels:i,componentName:o})=>{const s=[];H.Children.forEach(e,k=>{if(!er(k,n)&&!er(k,t)&&!er(k,r)){k&&Gn(j4(o));return}const{props:T}=k,{children:v,label:w,url:P,labelIcon:E}=T;if(er(k,n))if(bS(T,i))s.push({label:w});else if(Cg(T))s.push({label:w,labelIcon:E,children:v,url:P});else{Gn($4(o));return}if(er(k,t))if(Sg(T))s.push({label:w,labelIcon:E,url:P});else{Gn(z4(o));return}});const l=[],u=[],d=[];s.forEach((k,T)=>{if(Cg(k)){l.push({component:k.children,id:T}),u.push({component:k.labelIcon,id:T});return}Sg(k)&&d.push({component:k.labelIcon,id:T})});const h=eu(l),p=eu(u),m=eu(d),y=[],C=[];return s.forEach((k,T)=>{if(bS(k,i)){y.push({label:k.label});return}if(Cg(k)){const{portal:v,mount:w,unmount:P}=h.find(N=>N.id===T),{portal:E,mount:I,unmount:M}=p.find(N=>N.id===T);y.push({label:k.label,url:k.url,mount:w,unmount:P,mountIcon:I,unmountIcon:M}),C.push(v),C.push(E);return}if(Sg(k)){const{portal:v,mount:w,unmount:P}=m.find(E=>E.id===T);y.push({label:k.label,url:k.url,mountIcon:w,unmountIcon:P}),C.push(v);return}}),{customPages:y,customPagesPortals:C}},bS=(e,t)=>{const{children:n,label:r,url:i,labelIcon:o}=e;return!n&&!i&&!o&&t.some(s=>s===r)},Cg=e=>{const{children:t,label:n,url:r,labelIcon:i}=e;return!!t&&!!r&&!!i&&!!n},Sg=e=>{const{children:t,label:n,url:r,labelIcon:i}=e;return!t&&!!r&&!!i&&!!n},b6=e=>k6({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:zy,MenuActionComponent:gx,MenuLinkComponent:vx,UserProfileLinkComponent:ep,UserProfilePageComponent:Zh}),k6=({children:e,MenuItemsComponent:t,MenuActionComponent:n,MenuLinkComponent:r,UserProfileLinkComponent:i,UserProfilePageComponent:o,reorderItemsLabels:s})=>{const l=[],u=[],d=[];H.Children.forEach(e,C=>{if(!er(C,t)&&!er(C,i)&&!er(C,o)){C&&Gn(B4);return}if(er(C,i)||er(C,o))return;const{props:k}=C;H.Children.forEach(k.children,T=>{if(!er(T,n)&&!er(T,r)){T&&Gn(V4);return}const{props:v}=T,{label:w,labelIcon:P,href:E,onClick:I,open:M}=v;if(er(T,n))if(kS(v,s))l.push({label:w});else if(wg(v)){const N={label:w,labelIcon:P};if(I!==void 0)l.push({...N,onClick:I});else if(M!==void 0)l.push({...N,open:M.startsWith("/")?M:`/${M}`});else{Gn("Custom menu item must have either onClick or open property");return}}else{Gn(K4);return}if(er(T,r))if(Tg(v))l.push({label:w,labelIcon:P,href:E});else{Gn(q4);return}})});const h=[],p=[];l.forEach((C,k)=>{wg(C)&&h.push({component:C.labelIcon,id:k}),Tg(C)&&p.push({component:C.labelIcon,id:k})});const m=eu(h),y=eu(p);return l.forEach((C,k)=>{if(kS(C,s)&&u.push({label:C.label}),wg(C)){const{portal:T,mount:v,unmount:w}=m.find(E=>E.id===k),P={label:C.label,mountIcon:v,unmountIcon:w};"onClick"in C?P.onClick=C.onClick:"open"in C&&(P.open=C.open),u.push(P),d.push(T)}if(Tg(C)){const{portal:T,mount:v,unmount:w}=y.find(P=>P.id===k);u.push({label:C.label,href:C.href,mountIcon:v,unmountIcon:w}),d.push(T)}}),{customMenuItems:u,customMenuItemsPortals:d}},kS=(e,t)=>{const{children:n,label:r,onClick:i,labelIcon:o}=e;return!n&&!i&&!o&&t.some(s=>s===r)},wg=e=>{const{label:t,labelIcon:n,onClick:r,open:i}=e;return!!n&&!!t&&(typeof r=="function"||typeof i=="string")},Tg=e=>{const{label:t,href:n,labelIcon:r}=e;return!!n&&!!r&&!!t},$a=e=>"mount"in e,CS=e=>"open"in e,Wi=class extends H.PureComponent{constructor(){super(...arguments),this.portalRef=H.createRef()}componentDidUpdate(e){var t,n,r,i;if(!$a(e)||!$a(this.props))return;const o=vS(e.props,"customPages","customMenuItems","children"),s=vS(this.props.props,"customPages","customMenuItems","children"),l=((t=o.customPages)==null?void 0:t.length)!==((n=s.customPages)==null?void 0:n.length),u=((r=o.customMenuItems)==null?void 0:r.length)!==((i=s.customMenuItems)==null?void 0:i.length);(!E4(o,s)||l||u)&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&($a(this.props)&&this.props.mount(this.portalRef.current,this.props.props),CS(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.portalRef.current&&($a(this.props)&&this.props.unmount(this.portalRef.current),CS(this.props)&&this.props.close())}render(){var e,t,n,r;return H.createElement(H.Fragment,null,H.createElement("div",{ref:this.portalRef}),$a(this.props)&&((t=(e=this.props)==null?void 0:e.customPagesPortals)==null?void 0:t.map((i,o)=>b.createElement(i,{key:o}))),$a(this.props)&&((r=(n=this.props)==null?void 0:n.customMenuItemsPortals)==null?void 0:r.map((i,o)=>b.createElement(i,{key:o}))))}},C6=on(({clerk:e,...t})=>H.createElement(Wi,{mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:t}),"SignIn"),S6=on(({clerk:e,...t})=>H.createElement(Wi,{mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:t}),"SignUp");function Zh({children:e}){return Gn(N4),H.createElement(H.Fragment,null,e)}function ep({children:e}){return Gn(D4),H.createElement(H.Fragment,null,e)}var w6=on(({clerk:e,...t})=>{const{customPages:n,customPagesPortals:r}=hx(t.children);return H.createElement(Wi,{mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:n},customPagesPortals:r})},"UserProfile");Object.assign(w6,{Page:Zh,Link:ep});var T6=on(({clerk:e,...t})=>{const{customPages:n,customPagesPortals:r}=hx(t.children),i=Object.assign(t.userProfileProps||{},{customPages:n}),{customMenuItems:o,customMenuItemsPortals:s}=b6(t.children);return H.createElement(Wi,{mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...t,userProfileProps:i,customMenuItems:o},customPagesPortals:r,customMenuItemsPortals:s})},"UserButton");function zy({children:e}){return Gn(W4),H.createElement(H.Fragment,null,e)}function gx({children:e}){return Gn(H4),H.createElement(H.Fragment,null,e)}function vx({children:e}){return Gn(G4),H.createElement(H.Fragment,null,e)}var E6=Object.assign(T6,{UserProfilePage:Zh,UserProfileLink:ep,MenuItems:zy,Action:gx,Link:vx});on(({clerk:e,...t})=>H.createElement(Wi,{mount:e.__experimental_mountUserVerification,unmount:e.__experimental_unmountUserVerification,updateProps:e.__unstable__updateProps,props:t}),"__experimental_UserVerification");function By({children:e}){return Gn(U4),H.createElement(H.Fragment,null,e)}function Vy({children:e}){return Gn(F4),H.createElement(H.Fragment,null,e)}var _6=on(({clerk:e,...t})=>{const{customPages:n,customPagesPortals:r}=px(t.children);return H.createElement(Wi,{mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:n},customPagesPortals:r})},"OrganizationProfile");Object.assign(_6,{Page:By,Link:Vy});on(({clerk:e,...t})=>H.createElement(Wi,{mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:t}),"CreateOrganization");var x6=on(({clerk:e,...t})=>{const{customPages:n,customPagesPortals:r}=px(t.children),i=Object.assign(t.organizationProfileProps||{},{customPages:n});return H.createElement(Wi,{mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...t,organizationProfileProps:i},customPagesPortals:r})},"OrganizationSwitcher");Object.assign(x6,{OrganizationProfilePage:By,OrganizationProfileLink:Vy});on(({clerk:e,...t})=>H.createElement(Wi,{mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:t}),"OrganizationList");on(({clerk:e,...t})=>H.createElement(Wi,{open:e.openGoogleOneTap,close:e.closeGoogleOneTap,props:t}),"GoogleOneTap");on(({clerk:e,children:t,...n})=>{const{signUpFallbackRedirectUrl:r,forceRedirectUrl:i,fallbackRedirectUrl:o,signUpForceRedirectUrl:s,mode:l,...u}=n;t=Yh(t,"Sign in");const d=Qh(t)("SignInButton"),h=()=>{const y={forceRedirectUrl:i,fallbackRedirectUrl:o,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:s};return l==="modal"?e.openSignIn(y):e.redirectToSignIn({...y,signInFallbackRedirectUrl:o,signInForceRedirectUrl:i})},m={...u,onClick:async y=>(d&&typeof d=="object"&&"props"in d&&await Xh(d.props.onClick)(y),h())};return H.cloneElement(d,m)},"SignInButton");on(({clerk:e,children:t,...n})=>{const{fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:o,signInForceRedirectUrl:s,mode:l,unsafeMetadata:u,...d}=n;t=Yh(t,"Sign up");const h=Qh(t)("SignUpButton"),p=()=>{const C={fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:o,signInForceRedirectUrl:s,unsafeMetadata:u};return l==="modal"?e.openSignUp(C):e.redirectToSignUp({...C,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:i})},y={...d,onClick:async C=>(h&&typeof h=="object"&&"props"in h&&await Xh(h.props.onClick)(C),p())};return H.cloneElement(h,y)},"SignUpButton");on(({clerk:e,children:t,...n})=>{const{redirectUrl:r="/",signOutOptions:i,...o}=n;t=Yh(t,"Sign out");const s=Qh(t)("SignOutButton"),l=()=>e.signOut({redirectUrl:r}),d={...o,onClick:async h=>(await Xh(s.props.onClick)(h),l())};return H.cloneElement(s,d)},"SignOutButton");on(({clerk:e,children:t,...n})=>{const{redirectUrl:r,...i}=n;t=Yh(t,"Sign in with Metamask");const o=Qh(t)("SignInWithMetamaskButton"),s=async()=>{async function d(){await e.authenticateWithMetamask({redirectUrl:r||void 0})}d()},u={...i,onClick:async d=>(await Xh(o.props.onClick)(d),s())};return H.cloneElement(o,u)},"SignInWithMetamask");var P6={name:"@clerk/clerk-react",version:"5.9.1",environment:"production"},me,Ga,qa,Ns,Ds,Tf,Kv,yx=class bx{constructor(t){Ha(this,Tf),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountUserVerificationNodes=new Map,this.premountMethodCalls=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Ha(this,me,!1),Ha(this,Ga),Ha(this,qa),Ha(this,Ns),this.buildSignInUrl=i=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignInUrl(i))||""};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("buildSignInUrl",o)},this.buildSignUpUrl=i=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildSignUpUrl(i))||""};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("buildSignUpUrl",o)},this.buildAfterSignInUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignOutUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildAfterSignOutUrl",i)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",i)},this.buildUserProfileUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUserProfileUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildUserProfileUrl",i)},this.buildCreateOrganizationUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildCreateOrganizationUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildCreateOrganizationUrl",i)},this.buildOrganizationProfileUrl=()=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildOrganizationProfileUrl())||""};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("buildOrganizationProfileUrl",i)},this.buildUrlWithAuth=i=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildUrlWithAuth(i))||""};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("buildUrlWithAuth",o)},this.handleUnauthenticated=()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleUnauthenticated()};this.clerkjs&&ce(this,me)?i():this.premountMethodCalls.set("handleUnauthenticated",i)},this.addOnLoaded=i=>{this.loadedListeners.push(i),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(i=>i()),this.loadedListeners=[]},this.hydrateClerkJS=i=>{if(!i)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=i,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,s)=>{o.nativeUnsubscribe=i.addListener(s)}),this.preopenSignIn!==null&&i.openSignIn(this.preopenSignIn),this.preopenSignUp!==null&&i.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&i.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&i.__experimental_openUserVerification(this.preopenUserVerification),this.preopenOneTap!==null&&i.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&i.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&i.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((o,s)=>{i.mountSignIn(s,o)}),this.premountSignUpNodes.forEach((o,s)=>{i.mountSignUp(s,o)}),this.premountUserProfileNodes.forEach((o,s)=>{i.mountUserProfile(s,o)}),this.premountUserVerificationNodes.forEach((o,s)=>{i.__experimental_mountUserVerification(s,o)}),this.premountUserButtonNodes.forEach((o,s)=>{i.mountUserButton(s,o)}),this.premountOrganizationListNodes.forEach((o,s)=>{i.mountOrganizationList(s,o)}),ja(this,me,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=async i=>{const o=await mS(this,Tf,Kv).call(this);if(o&&"__unstable__updateProps"in o)return o.__unstable__updateProps(i)},this.setActive=({session:i,organization:o,beforeEmit:s})=>this.clerkjs?this.clerkjs.setActive({session:i,organization:o,beforeEmit:s}):Promise.reject(),this.openSignIn=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openSignIn(i):this.preopenSignIn=i},this.closeSignIn=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__experimental_openUserVerification=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.__experimental_openUserVerification(i):this.preopenUserVerification=i},this.__experimental_closeUserVerification=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.__experimental_closeUserVerification():this.preopenUserVerification=null},this.openGoogleOneTap=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openGoogleOneTap(i):this.preopenOneTap=i},this.closeGoogleOneTap=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openUserProfile(i):this.preopenUserProfile=i},this.closeUserProfile=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openOrganizationProfile(i):this.preopenOrganizationProfile=i},this.closeOrganizationProfile=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openCreateOrganization(i):this.preopenCreateOrganization=i},this.closeCreateOrganization=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.openSignUp(i):this.preopenSignUp=i},this.closeSignUp=()=>{this.clerkjs&&ce(this,me)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountSignIn(i,o):this.premountSignInNodes.set(i,o)},this.unmountSignIn=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountSignIn(i):this.premountSignInNodes.delete(i)},this.__experimental_mountUserVerification=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.__experimental_mountUserVerification(i,o):this.premountUserVerificationNodes.set(i,o)},this.__experimental_unmountUserVerification=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.__experimental_unmountUserVerification(i):this.premountUserVerificationNodes.delete(i)},this.mountSignUp=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountSignUp(i,o):this.premountSignUpNodes.set(i,o)},this.unmountSignUp=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountSignUp(i):this.premountSignUpNodes.delete(i)},this.mountUserProfile=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountUserProfile(i,o):this.premountUserProfileNodes.set(i,o)},this.unmountUserProfile=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountUserProfile(i):this.premountUserProfileNodes.delete(i)},this.mountOrganizationProfile=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountOrganizationProfile(i,o):this.premountOrganizationProfileNodes.set(i,o)},this.unmountOrganizationProfile=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountOrganizationProfile(i):this.premountOrganizationProfileNodes.delete(i)},this.mountCreateOrganization=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountCreateOrganization(i,o):this.premountCreateOrganizationNodes.set(i,o)},this.unmountCreateOrganization=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountCreateOrganization(i):this.premountCreateOrganizationNodes.delete(i)},this.mountOrganizationSwitcher=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountOrganizationSwitcher(i,o):this.premountOrganizationSwitcherNodes.set(i,o)},this.unmountOrganizationSwitcher=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountOrganizationSwitcher(i):this.premountOrganizationSwitcherNodes.delete(i)},this.mountOrganizationList=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountOrganizationList(i,o):this.premountOrganizationListNodes.set(i,o)},this.unmountOrganizationList=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountOrganizationList(i):this.premountOrganizationListNodes.delete(i)},this.mountUserButton=(i,o)=>{this.clerkjs&&ce(this,me)?this.clerkjs.mountUserButton(i,o):this.premountUserButtonNodes.set(i,o)},this.unmountUserButton=i=>{this.clerkjs&&ce(this,me)?this.clerkjs.unmountUserButton(i):this.premountUserButtonNodes.delete(i)},this.addListener=i=>{if(this.clerkjs)return this.clerkjs.addListener(i);{const o=()=>{var s;const l=this.premountAddListenerCalls.get(i);l&&((s=l.nativeUnsubscribe)==null||s.call(l),this.premountAddListenerCalls.delete(i))};return this.premountAddListenerCalls.set(i,{unsubscribe:o,nativeUnsubscribe:void 0}),o}},this.navigate=i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.navigate(i)};this.clerkjs&&ce(this,me)?o():this.premountMethodCalls.set("navigate",o)},this.redirectWithAuth=async(...i)=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectWithAuth(...i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("redirectWithAuth",o)},this.redirectToSignIn=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignIn(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("redirectToSignIn",o)},this.redirectToSignUp=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToSignUp(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("redirectToSignUp",o)},this.redirectToUserProfile=async()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToUserProfile()};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("redirectToUserProfile",i)},this.redirectToAfterSignUp=()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToAfterSignUp()};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("redirectToAfterSignUp",i)},this.redirectToAfterSignIn=()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToAfterSignIn()};this.clerkjs&&ce(this,me)?i():this.premountMethodCalls.set("redirectToAfterSignIn",i)},this.redirectToAfterSignOut=()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToAfterSignOut()};this.clerkjs&&ce(this,me)?i():this.premountMethodCalls.set("redirectToAfterSignOut",i)},this.redirectToOrganizationProfile=async()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToOrganizationProfile()};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("redirectToOrganizationProfile",i)},this.redirectToCreateOrganization=async()=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToCreateOrganization()};if(this.clerkjs&&ce(this,me))return i();this.premountMethodCalls.set("redirectToCreateOrganization",i)},this.handleRedirectCallback=i=>{var o;const s=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(i)};this.clerkjs&&ce(this,me)?(o=s())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",s)},this.handleGoogleOneTapCallback=(i,o)=>{var s;const l=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleGoogleOneTapCallback(i,o)};this.clerkjs&&ce(this,me)?(s=l())==null||s.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.handleEmailLinkVerification(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("handleEmailLinkVerification",o)},this.authenticateWithMetamask=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithMetamask(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("authenticateWithMetamask",o)},this.authenticateWithCoinbaseWallet=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithCoinbaseWallet(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",o)},this.authenticateWithWeb3=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.authenticateWithWeb3(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("authenticateWithWeb3",o)},this.authenticateWithGoogleOneTap=async i=>(await mS(this,Tf,Kv).call(this)).authenticateWithGoogleOneTap(i),this.createOrganization=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.createOrganization(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("createOrganization",o)},this.getOrganization=async i=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.getOrganization(i)};if(this.clerkjs&&ce(this,me))return o();this.premountMethodCalls.set("getOrganization",o)},this.signOut=async(i,o)=>{const s=()=>{var l;return(l=this.clerkjs)==null?void 0:l.signOut(i,o)};if(this.clerkjs&&ce(this,me))return s();this.premountMethodCalls.set("signOut",s)};const{Clerk:n=null,publishableKey:r}=t||{};ja(this,Ns,r),ja(this,qa,t?.proxyUrl),ja(this,Ga,t?.domain),this.options=t,this.Clerk=n,this.mode=yS()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=P6),this.loadClerkJS()}get publishableKey(){return ce(this,Ns)}get loaded(){return ce(this,me)}static getOrCreateInstance(t){return(!yS()||!ce(this,Ds)||t.Clerk&&ce(this,Ds).Clerk!==t.Clerk)&&ja(this,Ds,new bx(t)),ce(this,Ds)}static clearInstance(){ja(this,Ds,null)}get domain(){return typeof window<"u"&&window.location?kg(ce(this,Ga),new URL(window.location.href),""):typeof ce(this,Ga)=="function"?$i.throw(bg):ce(this,Ga)||""}get proxyUrl(){return typeof window<"u"&&window.location?kg(ce(this,qa),new URL(window.location.href),""):typeof ce(this,qa)=="function"?$i.throw(bg):ce(this,qa)||""}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?kg(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?$i.throw(bg):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||ce(this,me))){typeof window<"u"&&(window.__clerk_publishable_key=ce(this,Ns),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;g6(this.Clerk)?(n=new this.Clerk(ce(this,Ns),{proxyUrl:this.proxyUrl,domain:this.domain}),await n.load(this.options)):(n=this.Clerk,n.loaded||await n.load(this.options)),global.Clerk=n}else{if(global.Clerk||await d6({...this.options,publishableKey:ce(this,Ns),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const r=n;console.error(r.stack||r.message||r);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};me=new WeakMap;Ga=new WeakMap;qa=new WeakMap;Ns=new WeakMap;Ds=new WeakMap;Tf=new WeakSet;Kv=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Ha(yx,Ds);var SS=yx,R6=(e,t,n)=>!e&&n?I6(n):O6(t),I6=e=>{const t=e.userId,n=e.user,r=e.sessionId,i=e.session,o=e.organization,s=e.orgId,l=e.orgRole,u=e.orgPermissions,d=e.orgSlug,h=e.actor,p=e.__experimental_factorVerificationAge;return{userId:t,user:n,sessionId:r,session:i,organization:o,orgId:s,orgRole:l,orgPermissions:u,orgSlug:d,actor:h,__experimental_factorVerificationAge:p}},O6=e=>{var t;const n=e.user?e.user.id:e.user,r=e.user,i=e.session?e.session.id:e.session,o=e.session,s=e.session?e.session.__experimental_factorVerificationAge:null,l=o?.actor,u=e.organization,d=e.organization?e.organization.id:e.organization,h=u?.slug,p=u&&((t=r?.organizationMemberships)==null?void 0:t.find(C=>C.organization.id===d)),m=p&&p.permissions,y=p&&p.role;return{userId:n,user:r,sessionId:i,session:o,organization:u,orgId:d,orgRole:y,orgSlug:h,orgPermissions:m,actor:l,__experimental_factorVerificationAge:s}};function M6(e){const{isomorphicClerkOptions:t,initialState:n,children:r}=e,{isomorphicClerk:i,loaded:o}=L6(t),[s,l]=H.useState({client:i.client,session:i.session,user:i.user,organization:i.organization});H.useEffect(()=>i.addListener(F=>l({...F})),[]);const u=R6(o,s,n),d=H.useMemo(()=>({value:i}),[o]),h=H.useMemo(()=>({value:s.client}),[s.client]),{sessionId:p,session:m,userId:y,user:C,orgId:k,actor:T,organization:v,orgRole:w,orgSlug:P,orgPermissions:E,__experimental_factorVerificationAge:I}=u,M=H.useMemo(()=>({value:{sessionId:p,userId:y,actor:T,orgId:k,orgRole:w,orgSlug:P,orgPermissions:E,__experimental_factorVerificationAge:I}}),[p,y,T,k,w,P,I]),N=H.useMemo(()=>({value:m}),[p,m]),_=H.useMemo(()=>({value:C}),[y,C]),z=H.useMemo(()=>({value:{organization:v}}),[k,v]);return H.createElement(O4.Provider,{value:d},H.createElement(k4.Provider,{value:h},H.createElement(C4.Provider,{value:N},H.createElement(w4,{...z.value},H.createElement(I4.Provider,{value:M},H.createElement(y4.Provider,{value:_},r))))))}var L6=e=>{const[t,n]=H.useState(!1),r=H.useMemo(()=>SS.getOrCreateInstance(e),[]);return H.useEffect(()=>{r.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),H.useEffect(()=>{r.__unstable__updateProps({options:e})},[e.localization]),H.useEffect(()=>{r.addOnLoaded(()=>n(!0))},[]),H.useEffect(()=>()=>{SS.clearInstance()},[]),{isomorphicClerk:r,loaded:t}};function A6(e){const{initialState:t,children:n,...r}=e,{publishableKey:i="",Clerk:o}=r;return o||(i?i&&!sx(i)&&$i.throwInvalidPublishableKeyError({key:i}):$i.throwMissingPublishableKeyError()),H.createElement(M6,{initialState:t,isomorphicClerkOptions:r},n)}var kx=y6(A6,"ClerkProvider",M4);kx.displayName="ClerkProvider";R4({packageName:"@clerk/clerk-react"});u6("@clerk/clerk-react");/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const wS="popstate";function N6(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:l}=r.location;return Tu("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return U6(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Al(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D6(){return Math.random().toString(36).substr(2,8)}function TS(e,t){return{usr:e.state,key:e.key,idx:t}}function Tu(e,t,n,r){return n===void 0&&(n=null),jt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?So(t):t,{state:n,key:t&&t.key||r||D6()})}function ra(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function So(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U6(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Jt.Pop,u=null,d=h();d==null&&(d=0,s.replaceState(jt({},s.state,{idx:d}),""));function h(){return(s.state||{idx:null}).idx}function p(){l=Jt.Pop;let T=h(),v=T==null?null:T-d;d=T,u&&u({action:l,location:k.location,delta:v})}function m(T,v){l=Jt.Push;let w=Tu(k.location,T,v);n&&n(w,T),d=h()+1;let P=TS(w,d),E=k.createHref(w);try{s.pushState(P,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(E)}o&&u&&u({action:l,location:k.location,delta:1})}function y(T,v){l=Jt.Replace;let w=Tu(k.location,T,v);n&&n(w,T),d=h();let P=TS(w,d),E=k.createHref(w);s.replaceState(P,"",E),o&&u&&u({action:l,location:k.location,delta:0})}function C(T){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof T=="string"?T:ra(T);return w=w.replace(/ $/,"%20"),qe(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let k={get action(){return l},get location(){return e(i,s)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,p),u=T,()=>{i.removeEventListener(wS,p),u=null}},createHref(T){return t(i,T)},createURL:C,encodeLocation(T){let v=C(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(T){return s.go(T)}};return k}var ht;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ht||(ht={}));const F6=new Set(["lazy","caseSensitive","path","id","index","children"]);function j6(e){return e.index===!0}function Eu(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),qe(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),j6(i)){let u=jt({},i,t(i),{id:l});return r[l]=u,u}else{let u=jt({},i,t(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Eu(i.children,t,s,r)),u}})}function Us(e,t,n){return n===void 0&&(n="/"),Ef(e,t,n,!1)}function Ef(e,t,n,r){let i=typeof t=="string"?So(t):t,o=Wl(i.pathname||"/",n);if(o==null)return null;let s=Cx(e);z6(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=X6(o);l=Q6(s[u],d,r)}return l}function $6(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Cx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=co([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Cx(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:K6(d,o.index),routesMeta:h})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Sx(o.path))i(o,s,u)}),t}function Sx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Sx(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function z6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:J6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B6=/^:[\w-]+$/,V6=3,W6=2,H6=1,G6=10,q6=-2,ES=e=>e==="*";function K6(e,t){let n=e.split("/"),r=n.length;return n.some(ES)&&(r+=q6),t&&(r+=W6),n.filter(i=>!ES(i)).reduce((i,o)=>i+(B6.test(o)?V6:o===""?H6:G6),r)}function J6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Q6(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=_S({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=_S({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:co([o,p.pathname]),pathnameBase:t8(co([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=co([o,p.pathnameBase]))}return s}function _S(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Y6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let k=l[p]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const C=l[p];return y&&!C?d[m]=void 0:d[m]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:s,pattern:e}}function Y6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Al(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function X6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Al(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Z6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?So(e):e;return{pathname:n?n.startsWith("/")?n:e8(n,t):t,search:n8(r),hash:r8(i)}}function e8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Eg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wy(e,t){let n=wx(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=So(e):(i=jt({},e),qe(!i.pathname||!i.pathname.includes("?"),Eg("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Eg("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Eg("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=Z6(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const co=e=>e.join("/").replace(/\/\/+/g,"/"),t8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class hh{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function tp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tx=["post","put","patch","delete"],i8=new Set(Tx),o8=["get",...Tx],s8=new Set(o8),a8=new Set([301,302,303,307,308]),l8=new Set([307,308]),_g={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u8=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ex="remix-router-transitions";function d8(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;qe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let L=e.detectErrorBoundary;i=U=>({hasErrorBoundary:L(U)})}else i=u8;let o={},s=Eu(e.routes,i,void 0,o),l,u=e.basename||"/",d=e.unstable_dataStrategy||v8,h=e.unstable_patchRoutesOnNavigation,p=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),m=null,y=new Set,C=1e3,k=new Set,T=null,v=null,w=null,P=e.hydrationData!=null,E=Us(s,e.history.location,u),I=null;if(E==null&&!h){let L=Wn(404,{pathname:e.history.location.pathname}),{matches:U,route:B}=NS(s);E=U,I={[B.id]:L}}E&&!e.hydrationData&&ka(E,s,e.history.location.pathname).active&&(E=null);let M;if(E)if(E.some(L=>L.route.lazy))M=!1;else if(!E.some(L=>L.route.loader))M=!0;else if(p.v7_partialHydration){let L=e.hydrationData?e.hydrationData.loaderData:null,U=e.hydrationData?e.hydrationData.errors:null,B=ne=>ne.route.loader?typeof ne.route.loader=="function"&&ne.route.loader.hydrate===!0?!1:L&&L[ne.route.id]!==void 0||U&&U[ne.route.id]!==void 0:!0;if(U){let ne=E.findIndex(fe=>U[fe.route.id]!==void 0);M=E.slice(0,ne+1).every(B)}else M=E.every(B)}else M=e.hydrationData!=null;else if(M=!1,E=[],p.v7_partialHydration){let L=ka(null,s,e.history.location.pathname);L.active&&L.matches&&(E=L.matches)}let N,_={historyAction:e.history.action,location:e.history.location,matches:E,initialized:M,navigation:_g,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map,blockers:new Map},z=Jt.Pop,F=!1,V,q=!1,ve=new Map,he=null,$e=!1,Qe=!1,De=[],re=new Set,ae=new Map,Ee=0,ke=-1,Pe=new Map,ze=new Set,Et=new Map,mt=new Map,lt=new Set,Xt=new Map,vn=new Map,ti=new Map,hn;function Rr(){if(m=e.history.listen(L=>{let{action:U,location:B,delta:ne}=L;if(hn){hn(),hn=void 0;return}Al(vn.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Kl({currentLocation:_.location,nextLocation:B,historyAction:U});if(fe&&ne!=null){let _e=new Promise(Ne=>{hn=Ne});e.history.go(ne*-1),Cs(fe,{state:"blocked",location:B,proceed(){Cs(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),_e.then(()=>e.history.go(ne))},reset(){let Ne=new Map(_.blockers);Ne.set(fe,wc),ye({blockers:Ne})}});return}return Ue(U,B)}),n){M8(t,ve);let L=()=>L8(t,ve);t.addEventListener("pagehide",L),he=()=>t.removeEventListener("pagehide",L)}return _.initialized||Ue(Jt.Pop,_.location,{initialHydration:!0}),N}function Te(){m&&m(),he&&he(),y.clear(),V&&V.abort(),_.fetchers.forEach((L,U)=>xo(U)),_.blockers.forEach((L,U)=>Gu(U))}function Re(L){return y.add(L),()=>y.delete(L)}function ye(L,U){U===void 0&&(U={}),_=jt({},_,L);let B=[],ne=[];p.v7_fetcherPersist&&_.fetchers.forEach((fe,_e)=>{fe.state==="idle"&&(lt.has(_e)?ne.push(_e):B.push(_e))}),[...y].forEach(fe=>fe(_,{deletedFetchers:ne,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),p.v7_fetcherPersist&&(B.forEach(fe=>_.fetchers.delete(fe)),ne.forEach(fe=>xo(fe)))}function Ie(L,U,B){var ne,fe;let{flushSync:_e}=B===void 0?{}:B,Ne=_.actionData!=null&&_.navigation.formMethod!=null&&hi(_.navigation.formMethod)&&_.navigation.state==="loading"&&((ne=L.state)==null?void 0:ne._isRedirect)!==!0,le;U.actionData?Object.keys(U.actionData).length>0?le=U.actionData:le=null:Ne?le=_.actionData:le=null;let Oe=U.loaderData?LS(_.loaderData,U.loaderData,U.matches||[],U.errors):_.loaderData,be=_.blockers;be.size>0&&(be=new Map(be),be.forEach((st,yt)=>be.set(yt,wc)));let Ce=F===!0||_.navigation.formMethod!=null&&hi(_.navigation.formMethod)&&((fe=L.state)==null?void 0:fe._isRedirect)!==!0;l&&(s=l,l=void 0),$e||z===Jt.Pop||(z===Jt.Push?e.history.push(L,L.state):z===Jt.Replace&&e.history.replace(L,L.state));let rt;if(z===Jt.Pop){let st=ve.get(_.location.pathname);st&&st.has(L.pathname)?rt={currentLocation:_.location,nextLocation:L}:ve.has(L.pathname)&&(rt={currentLocation:L,nextLocation:_.location})}else if(q){let st=ve.get(_.location.pathname);st?st.add(L.pathname):(st=new Set([L.pathname]),ve.set(_.location.pathname,st)),rt={currentLocation:_.location,nextLocation:L}}ye(jt({},U,{actionData:le,loaderData:Oe,historyAction:z,location:L,initialized:!0,navigation:_g,revalidation:"idle",restoreScrollPosition:qu(L,U.matches||_.matches),preventScrollReset:Ce,blockers:be}),{viewTransitionOpts:rt,flushSync:_e===!0}),z=Jt.Pop,F=!1,q=!1,$e=!1,Qe=!1,De=[]}async function Ct(L,U){if(typeof L=="number"){e.history.go(L);return}let B=Jv(_.location,_.matches,u,p.v7_prependBasename,L,p.v7_relativeSplatPath,U?.fromRouteId,U?.relative),{path:ne,submission:fe,error:_e}=xS(p.v7_normalizeFormMethod,!1,B,U),Ne=_.location,le=Tu(_.location,ne,U&&U.state);le=jt({},le,e.history.encodeLocation(le));let Oe=U&&U.replace!=null?U.replace:void 0,be=Jt.Push;Oe===!0?be=Jt.Replace:Oe===!1||fe!=null&&hi(fe.formMethod)&&fe.formAction===_.location.pathname+_.location.search&&(be=Jt.Replace);let Ce=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,rt=(U&&U.unstable_flushSync)===!0,st=Kl({currentLocation:Ne,nextLocation:le,historyAction:be});if(st){Cs(st,{state:"blocked",location:le,proceed(){Cs(st,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Ct(L,U)},reset(){let yt=new Map(_.blockers);yt.set(st,wc),ye({blockers:yt})}});return}return await Ue(be,le,{submission:fe,pendingError:_e,preventScrollReset:Ce,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:rt})}function _t(){if(ks(),ye({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ue(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ue(z||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:q===!0})}}async function Ue(L,U,B){V&&V.abort(),V=null,z=L,$e=(B&&B.startUninterruptedRevalidation)===!0,Ip(_.location,_.matches),F=(B&&B.preventScrollReset)===!0,q=(B&&B.enableViewTransition)===!0;let ne=l||s,fe=B&&B.overrideNavigation,_e=Us(ne,U,u),Ne=(B&&B.flushSync)===!0,le=ka(_e,ne,U.pathname);if(le.active&&le.matches&&(_e=le.matches),!_e){let{error:Ge,notFoundMatches:en,route:xt}=Jl(U.pathname);Ie(U,{matches:en,loaderData:{},errors:{[xt.id]:Ge}},{flushSync:Ne});return}if(_.initialized&&!Qe&&w8(_.location,U)&&!(B&&B.submission&&hi(B.submission.formMethod))){Ie(U,{matches:_e},{flushSync:Ne});return}V=new AbortController;let Oe=za(e.history,U,V.signal,B&&B.submission),be;if(B&&B.pendingError)be=[al(_e).route.id,{type:ht.error,error:B.pendingError}];else if(B&&B.submission&&hi(B.submission.formMethod)){let Ge=await et(Oe,U,B.submission,_e,le.active,{replace:B.replace,flushSync:Ne});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[en,xt]=Ge.pendingActionResult;if(yr(xt)&&tp(xt.error)&&xt.error.status===404){V=null,Ie(U,{matches:Ge.matches,loaderData:{},errors:{[en]:xt.error}});return}}_e=Ge.matches||_e,be=Ge.pendingActionResult,fe=xg(U,B.submission),Ne=!1,le.active=!1,Oe=za(e.history,Oe.url,Oe.signal)}let{shortCircuited:Ce,matches:rt,loaderData:st,errors:yt}=await gt(Oe,U,_e,le.active,fe,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,Ne,be);Ce||(V=null,Ie(U,jt({matches:rt||_e},AS(be),{loaderData:st,errors:yt})))}async function et(L,U,B,ne,fe,_e){_e===void 0&&(_e={}),ks();let Ne=I8(U,B);if(ye({navigation:Ne},{flushSync:_e.flushSync===!0}),fe){let be=await Po(ne,U.pathname,L.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let{boundaryId:Ce,error:rt}=ba(U.pathname,be);return{matches:be.partialMatches,pendingActionResult:[Ce,{type:ht.error,error:rt}]}}else if(be.matches)ne=be.matches;else{let{notFoundMatches:Ce,error:rt,route:st}=Jl(U.pathname);return{matches:Ce,pendingActionResult:[st.id,{type:ht.error,error:rt}]}}}let le,Oe=Fc(ne,U);if(!Oe.route.action&&!Oe.route.lazy)le={type:ht.error,error:Wn(405,{method:L.method,pathname:U.pathname,routeId:Oe.route.id})};else if(le=(await $n("action",_,L,[Oe],ne,null))[Oe.route.id],L.signal.aborted)return{shortCircuited:!0};if(zs(le)){let be;return _e&&_e.replace!=null?be=_e.replace:be=IS(le.response.headers.get("Location"),new URL(L.url),u)===_.location.pathname+_.location.search,await yn(L,le,!0,{submission:B,replace:be}),{shortCircuited:!0}}if(Yo(le))throw Wn(400,{type:"defer-action"});if(yr(le)){let be=al(ne,Oe.route.id);return(_e&&_e.replace)!==!0&&(z=Jt.Push),{matches:ne,pendingActionResult:[be.route.id,le]}}return{matches:ne,pendingActionResult:[Oe.route.id,le]}}async function gt(L,U,B,ne,fe,_e,Ne,le,Oe,be,Ce){let rt=fe||xg(U,_e),st=_e||Ne||US(rt),yt=!$e&&(!p.v7_partialHydration||!Oe);if(ne){if(yt){let Pt=Zt(Ce);ye(jt({navigation:rt},Pt!==void 0?{actionData:Pt}:{}),{flushSync:be})}let Be=await Po(B,U.pathname,L.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let{boundaryId:Pt,error:In}=ba(U.pathname,Be);return{matches:Be.partialMatches,loaderData:{},errors:{[Pt]:In}}}else if(Be.matches)B=Be.matches;else{let{error:Pt,notFoundMatches:In,route:Rt}=Jl(U.pathname);return{matches:In,loaderData:{},errors:{[Rt.id]:Pt}}}}let Ge=l||s,[en,xt]=PS(e.history,_,B,st,U,p.v7_partialHydration&&Oe===!0,p.v7_skipActionErrorRevalidation,Qe,De,re,lt,Et,ze,Ge,u,Ce);if(Ql(Be=>!(B&&B.some(Pt=>Pt.route.id===Be))||en&&en.some(Pt=>Pt.route.id===Be)),ke=++Ee,en.length===0&&xt.length===0){let Be=ya();return Ie(U,jt({matches:B,loaderData:{},errors:Ce&&yr(Ce[1])?{[Ce[0]]:Ce[1].error}:null},AS(Ce),Be?{fetchers:new Map(_.fetchers)}:{}),{flushSync:be}),{shortCircuited:!0}}if(yt){let Be={};if(!ne){Be.navigation=rt;let Pt=Zt(Ce);Pt!==void 0&&(Be.actionData=Pt)}xt.length>0&&(Be.fetchers=lr(xt)),ye(Be,{flushSync:be})}xt.forEach(Be=>{ae.has(Be.key)&&Mr(Be.key),Be.controller&&ae.set(Be.key,Be.controller)});let Ss=()=>xt.forEach(Be=>Mr(Be.key));V&&V.signal.addEventListener("abort",Ss);let{loaderResults:ni,fetcherResults:Ro}=await bn(_,B,en,xt,L);if(L.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Ss),xt.forEach(Be=>ae.delete(Be.key));let ri=rf(ni);if(ri)return await yn(L,ri.result,!0,{replace:le}),{shortCircuited:!0};if(ri=rf(Ro),ri)return ze.add(ri.key),await yn(L,ri.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:ws,errors:Lr}=MS(_,B,en,ni,Ce,xt,Ro,Xt);Xt.forEach((Be,Pt)=>{Be.subscribe(In=>{(In||Be.done)&&Xt.delete(Pt)})}),p.v7_partialHydration&&Oe&&_.errors&&Object.entries(_.errors).filter(Be=>{let[Pt]=Be;return!en.some(In=>In.route.id===Pt)}).forEach(Be=>{let[Pt,In]=Be;Lr=Object.assign(Lr||{},{[Pt]:In})});let Ca=ya(),Sa=Hu(ke),wa=Ca||Sa||xt.length>0;return jt({matches:B,loaderData:ws,errors:Lr},wa?{fetchers:new Map(_.fetchers)}:{})}function Zt(L){if(L&&!yr(L[1]))return{[L[0]]:L[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function lr(L){return L.forEach(U=>{let B=_.fetchers.get(U.key),ne=Tc(void 0,B?B.data:void 0);_.fetchers.set(U.key,ne)}),new Map(_.fetchers)}function Ir(L,U,B,ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ae.has(L)&&Mr(L);let fe=(ne&&ne.unstable_flushSync)===!0,_e=l||s,Ne=Jv(_.location,_.matches,u,p.v7_prependBasename,B,p.v7_relativeSplatPath,U,ne?.relative),le=Us(_e,Ne,u),Oe=ka(le,_e,Ne);if(Oe.active&&Oe.matches&&(le=Oe.matches),!le){cr(L,U,Wn(404,{pathname:Ne}),{flushSync:fe});return}let{path:be,submission:Ce,error:rt}=xS(p.v7_normalizeFormMethod,!0,Ne,ne);if(rt){cr(L,U,rt,{flushSync:fe});return}let st=Fc(le,be);if(F=(ne&&ne.preventScrollReset)===!0,Ce&&hi(Ce.formMethod)){ut(L,U,be,st,le,Oe.active,fe,Ce);return}Et.set(L,{routeId:U,path:be}),vt(L,U,be,st,le,Oe.active,fe,Ce)}async function ut(L,U,B,ne,fe,_e,Ne,le){ks(),Et.delete(L);function Oe(Rt){if(!Rt.route.action&&!Rt.route.lazy){let ur=Wn(405,{method:le.formMethod,pathname:B,routeId:U});return cr(L,U,ur,{flushSync:Ne}),!0}return!1}if(!_e&&Oe(ne))return;let be=_.fetchers.get(L);Or(L,O8(le,be),{flushSync:Ne});let Ce=new AbortController,rt=za(e.history,B,Ce.signal,le);if(_e){let Rt=await Po(fe,B,rt.signal);if(Rt.type==="aborted")return;if(Rt.type==="error"){let{error:ur}=ba(B,Rt);cr(L,U,ur,{flushSync:Ne});return}else if(Rt.matches){if(fe=Rt.matches,ne=Fc(fe,B),Oe(ne))return}else{cr(L,U,Wn(404,{pathname:B}),{flushSync:Ne});return}}ae.set(L,Ce);let st=Ee,Ge=(await $n("action",_,rt,[ne],fe,L))[ne.route.id];if(rt.signal.aborted){ae.get(L)===Ce&&ae.delete(L);return}if(p.v7_fetcherPersist&&lt.has(L)){if(zs(Ge)||yr(Ge)){Or(L,Bo(void 0));return}}else{if(zs(Ge))if(ae.delete(L),ke>st){Or(L,Bo(void 0));return}else return ze.add(L),Or(L,Tc(le)),yn(rt,Ge,!1,{fetcherSubmission:le});if(yr(Ge)){cr(L,U,Ge.error);return}}if(Yo(Ge))throw Wn(400,{type:"defer-action"});let en=_.navigation.location||_.location,xt=za(e.history,en,Ce.signal),Ss=l||s,ni=_.navigation.state!=="idle"?Us(Ss,_.navigation.location,u):_.matches;qe(ni,"Didn't find any matches after fetcher action");let Ro=++Ee;Pe.set(L,Ro);let ri=Tc(le,Ge.data);_.fetchers.set(L,ri);let[ws,Lr]=PS(e.history,_,ni,le,en,!1,p.v7_skipActionErrorRevalidation,Qe,De,re,lt,Et,ze,Ss,u,[ne.route.id,Ge]);Lr.filter(Rt=>Rt.key!==L).forEach(Rt=>{let ur=Rt.key,Ju=_.fetchers.get(ur),Qu=Tc(void 0,Ju?Ju.data:void 0);_.fetchers.set(ur,Qu),ae.has(ur)&&Mr(ur),Rt.controller&&ae.set(ur,Rt.controller)}),ye({fetchers:new Map(_.fetchers)});let Ca=()=>Lr.forEach(Rt=>Mr(Rt.key));Ce.signal.addEventListener("abort",Ca);let{loaderResults:Sa,fetcherResults:wa}=await bn(_,ni,ws,Lr,xt);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Ca),Pe.delete(L),ae.delete(L),Lr.forEach(Rt=>ae.delete(Rt.key));let Be=rf(Sa);if(Be)return yn(xt,Be.result,!1);if(Be=rf(wa),Be)return ze.add(Be.key),yn(xt,Be.result,!1);let{loaderData:Pt,errors:In}=MS(_,ni,ws,Sa,void 0,Lr,wa,Xt);if(_.fetchers.has(L)){let Rt=Bo(Ge.data);_.fetchers.set(L,Rt)}Hu(Ro),_.navigation.state==="loading"&&Ro>ke?(qe(z,"Expected pending action"),V&&V.abort(),Ie(_.navigation.location,{matches:ni,loaderData:Pt,errors:In,fetchers:new Map(_.fetchers)})):(ye({errors:In,loaderData:LS(_.loaderData,Pt,ni,In),fetchers:new Map(_.fetchers)}),Qe=!1)}async function vt(L,U,B,ne,fe,_e,Ne,le){let Oe=_.fetchers.get(L);Or(L,Tc(le,Oe?Oe.data:void 0),{flushSync:Ne});let be=new AbortController,Ce=za(e.history,B,be.signal);if(_e){let Ge=await Po(fe,B,Ce.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){let{error:en}=ba(B,Ge);cr(L,U,en,{flushSync:Ne});return}else if(Ge.matches)fe=Ge.matches,ne=Fc(fe,B);else{cr(L,U,Wn(404,{pathname:B}),{flushSync:Ne});return}}ae.set(L,be);let rt=Ee,yt=(await $n("loader",_,Ce,[ne],fe,L))[ne.route.id];if(Yo(yt)&&(yt=await qy(yt,Ce.signal,!0)||yt),ae.get(L)===be&&ae.delete(L),!Ce.signal.aborted){if(lt.has(L)){Or(L,Bo(void 0));return}if(zs(yt))if(ke>rt){Or(L,Bo(void 0));return}else{ze.add(L),await yn(Ce,yt,!1);return}if(yr(yt)){cr(L,U,yt.error);return}qe(!Yo(yt),"Unhandled fetcher deferred data"),Or(L,Bo(yt.data))}}async function yn(L,U,B,ne){let{submission:fe,fetcherSubmission:_e,replace:Ne}=ne===void 0?{}:ne;U.response.headers.has("X-Remix-Revalidate")&&(Qe=!0);let le=U.response.headers.get("Location");qe(le,"Expected a Location header on the redirect Response"),le=IS(le,new URL(L.url),u);let Oe=Tu(_.location,le,{_isRedirect:!0});if(n){let Ge=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ge=!0;else if(Gy.test(le)){const en=e.history.createURL(le);Ge=en.origin!==t.location.origin||Wl(en.pathname,u)==null}if(Ge){Ne?t.location.replace(le):t.location.assign(le);return}}V=null;let be=Ne===!0||U.response.headers.has("X-Remix-Replace")?Jt.Replace:Jt.Push,{formMethod:Ce,formAction:rt,formEncType:st}=_.navigation;!fe&&!_e&&Ce&&rt&&st&&(fe=US(_.navigation));let yt=fe||_e;if(l8.has(U.response.status)&&yt&&hi(yt.formMethod))await Ue(be,Oe,{submission:jt({},yt,{formAction:le}),preventScrollReset:F,enableViewTransition:B?q:void 0});else{let Ge=xg(Oe,fe);await Ue(be,Oe,{overrideNavigation:Ge,fetcherSubmission:_e,preventScrollReset:F,enableViewTransition:B?q:void 0})}}async function $n(L,U,B,ne,fe,_e){let Ne,le={};try{Ne=await y8(d,L,U,B,ne,fe,_e,o,i)}catch(Oe){return ne.forEach(be=>{le[be.route.id]={type:ht.error,error:Oe}}),le}for(let[Oe,be]of Object.entries(Ne))if(E8(be)){let Ce=be.result;le[Oe]={type:ht.redirect,response:C8(Ce,B,Oe,fe,u,p.v7_relativeSplatPath)}}else le[Oe]=await k8(be);return le}async function bn(L,U,B,ne,fe){let _e=L.matches,Ne=$n("loader",L,fe,B,U,null),le=Promise.all(ne.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.controller){let st=(await $n("loader",L,za(e.history,Ce.path,Ce.controller.signal),[Ce.match],Ce.matches,Ce.key))[Ce.match.route.id];return{[Ce.key]:st}}else return Promise.resolve({[Ce.key]:{type:ht.error,error:Wn(404,{pathname:Ce.path})}})})),Oe=await Ne,be=(await le).reduce((Ce,rt)=>Object.assign(Ce,rt),{});return await Promise.all([P8(U,Oe,fe.signal,_e,L.loaderData),R8(U,be,ne)]),{loaderResults:Oe,fetcherResults:be}}function ks(){Qe=!0,De.push(...Ql()),Et.forEach((L,U)=>{ae.has(U)&&(re.add(U),Mr(U))})}function Or(L,U,B){B===void 0&&(B={}),_.fetchers.set(L,U),ye({fetchers:new Map(_.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function cr(L,U,B,ne){ne===void 0&&(ne={});let fe=al(_.matches,U);xo(L),ye({errors:{[fe.route.id]:B},fetchers:new Map(_.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function ga(L){return p.v7_fetcherPersist&&(mt.set(L,(mt.get(L)||0)+1),lt.has(L)&&lt.delete(L)),_.fetchers.get(L)||c8}function xo(L){let U=_.fetchers.get(L);ae.has(L)&&!(U&&U.state==="loading"&&Pe.has(L))&&Mr(L),Et.delete(L),Pe.delete(L),ze.delete(L),lt.delete(L),re.delete(L),_.fetchers.delete(L)}function ql(L){if(p.v7_fetcherPersist){let U=(mt.get(L)||0)-1;U<=0?(mt.delete(L),lt.add(L)):mt.set(L,U)}else xo(L);ye({fetchers:new Map(_.fetchers)})}function Mr(L){let U=ae.get(L);qe(U,"Expected fetch controller: "+L),U.abort(),ae.delete(L)}function va(L){for(let U of L){let B=ga(U),ne=Bo(B.data);_.fetchers.set(U,ne)}}function ya(){let L=[],U=!1;for(let B of ze){let ne=_.fetchers.get(B);qe(ne,"Expected fetcher: "+B),ne.state==="loading"&&(ze.delete(B),L.push(B),U=!0)}return va(L),U}function Hu(L){let U=[];for(let[B,ne]of Pe)if(ne<L){let fe=_.fetchers.get(B);qe(fe,"Expected fetcher: "+B),fe.state==="loading"&&(Mr(B),Pe.delete(B),U.push(B))}return va(U),U.length>0}function Pp(L,U){let B=_.blockers.get(L)||wc;return vn.get(L)!==U&&vn.set(L,U),B}function Gu(L){_.blockers.delete(L),vn.delete(L)}function Cs(L,U){let B=_.blockers.get(L)||wc;qe(B.state==="unblocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="proceeding"||B.state==="blocked"&&U.state==="unblocked"||B.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+U.state);let ne=new Map(_.blockers);ne.set(L,U),ye({blockers:ne})}function Kl(L){let{currentLocation:U,nextLocation:B,historyAction:ne}=L;if(vn.size===0)return;vn.size>1&&Al(!1,"A router only supports one blocker at a time");let fe=Array.from(vn.entries()),[_e,Ne]=fe[fe.length-1],le=_.blockers.get(_e);if(!(le&&le.state==="proceeding")&&Ne({currentLocation:U,nextLocation:B,historyAction:ne}))return _e}function Jl(L){let U=Wn(404,{pathname:L}),B=l||s,{matches:ne,route:fe}=NS(B);return Ql(),{notFoundMatches:ne,route:fe,error:U}}function ba(L,U){return{boundaryId:al(U.partialMatches).route.id,error:Wn(400,{type:"route-discovery",pathname:L,message:U.error!=null&&"message"in U.error?U.error:String(U.error)})}}function Ql(L){let U=[];return Xt.forEach((B,ne)=>{(!L||L(ne))&&(B.cancel(),U.push(ne),Xt.delete(ne))}),U}function Rp(L,U,B){if(T=L,w=U,v=B||null,!P&&_.navigation===_g){P=!0;let ne=qu(_.location,_.matches);ne!=null&&ye({restoreScrollPosition:ne})}return()=>{T=null,w=null,v=null}}function Yl(L,U){return v&&v(L,U.map(ne=>$6(ne,_.loaderData)))||L.key}function Ip(L,U){if(T&&w){let B=Yl(L,U);T[B]=w()}}function qu(L,U){if(T){let B=Yl(L,U),ne=T[B];if(typeof ne=="number")return ne}return null}function ka(L,U,B){if(h){if(k.has(B))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Ef(U,B,u,!0)}}else return{active:!0,matches:Ef(U,B,u,!0)||[]}}return{active:!1,matches:null}}async function Po(L,U,B){let ne=L;for(;;){let fe=l==null,_e=l||s;try{await m8(h,U,ne,_e,o,i,ti,B)}catch(Oe){return{type:"error",error:Oe,partialMatches:ne}}finally{fe&&(s=[...s])}if(B.aborted)return{type:"aborted"};let Ne=Us(_e,U,u);if(Ne)return Ku(U,k),{type:"success",matches:Ne};let le=Ef(_e,U,u,!0);if(!le||ne.length===le.length&&ne.every((Oe,be)=>Oe.route.id===le[be].route.id))return Ku(U,k),{type:"success",matches:null};ne=le}}function Ku(L,U){if(U.size>=C){let B=U.values().next().value;U.delete(B)}U.add(L)}function Xl(L){o={},l=Eu(L,i,void 0,o)}function Op(L,U){let B=l==null;xx(L,U,l||s,o,i),B&&(s=[...s],ye({}))}return N={get basename(){return u},get future(){return p},get state(){return _},get routes(){return s},get window(){return t},initialize:Rr,subscribe:Re,enableScrollRestoration:Rp,navigate:Ct,fetch:Ir,revalidate:_t,createHref:L=>e.history.createHref(L),encodeLocation:L=>e.history.encodeLocation(L),getFetcher:ga,deleteFetcher:ql,dispose:Te,getBlocker:Pp,deleteBlocker:Gu,patchRoutes:Op,_internalFetchControllers:ae,_internalActiveDeferreds:Xt,_internalSetRoutes:Xl},N}function f8(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Jv(e,t,n,r,i,o,s,l){let u,d;if(s){u=[];for(let p of t)if(u.push(p),p.route.id===s){d=p;break}}else u=t,d=t[t.length-1];let h=Hy(i||".",Wy(u,o),Wl(e.pathname,n)||e.pathname,l==="path");return i==null&&(h.search=e.search,h.hash=e.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!Ky(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:co([n,h.pathname])),ra(h)}function xS(e,t,n,r){if(!r||!f8(r))return{path:n};if(r.formMethod&&!x8(r.formMethod))return{path:n,error:Wn(405,{method:r.formMethod})};let i=()=>({path:n,error:Wn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),l=Px(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!hi(s))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,C)=>{let[k,T]=C;return""+y+k+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!hi(s))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=Qv(r.formData),d=r.formData;else if(r.body instanceof FormData)u=Qv(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=OS(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=OS(u)}catch{return i()}let h={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(hi(h.formMethod))return{path:n,submission:h};let p=So(n);return t&&p.search&&Ky(p.search)&&u.append("index",""),p.search="?"+u,{path:ra(p),submission:h}}function h8(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function PS(e,t,n,r,i,o,s,l,u,d,h,p,m,y,C,k){let T=k?yr(k[1])?k[1].error:k[1].data:void 0,v=e.createURL(t.location),w=e.createURL(i),P=k&&yr(k[1])?k[0]:void 0,E=P?h8(n,P):n,I=k?k[1].statusCode:void 0,M=s&&I&&I>=400,N=E.filter((z,F)=>{let{route:V}=z;if(V.lazy)return!0;if(V.loader==null)return!1;if(o)return typeof V.loader!="function"||V.loader.hydrate?!0:t.loaderData[V.id]===void 0&&(!t.errors||t.errors[V.id]===void 0);if(p8(t.loaderData,t.matches[F],z)||u.some(he=>he===z.route.id))return!0;let q=t.matches[F],ve=z;return RS(z,jt({currentUrl:v,currentParams:q.params,nextUrl:w,nextParams:ve.params},r,{actionResult:T,actionStatus:I,defaultShouldRevalidate:M?!1:l||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||_x(q,ve)}))}),_=[];return p.forEach((z,F)=>{if(o||!n.some($e=>$e.route.id===z.routeId)||h.has(F))return;let V=Us(y,z.path,C);if(!V){_.push({key:F,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let q=t.fetchers.get(F),ve=Fc(V,z.path),he=!1;m.has(F)?he=!1:d.has(F)?(d.delete(F),he=!0):q&&q.state!=="idle"&&q.data===void 0?he=l:he=RS(ve,jt({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:I,defaultShouldRevalidate:M?!1:l})),he&&_.push({key:F,routeId:z.routeId,path:z.path,matches:V,match:ve,controller:new AbortController})}),[N,_]}function p8(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function _x(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function RS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function m8(e,t,n,r,i,o,s,l){let u=[t,...n.map(d=>d.route.id)].join("-");try{let d=s.get(u);d||(d=e({path:t,matches:n,patch:(h,p)=>{l.aborted||xx(h,p,r,i,o)}}),s.set(u,d)),d&&T8(d)&&await d}finally{s.delete(u)}}function xx(e,t,n,r,i){if(e){var o;let s=r[e];qe(s,"No route found to patch children into: routeId = "+e);let l=Eu(t,i,[e,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...l):s.children=l}else{let s=Eu(t,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function g8(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];qe(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";Al(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!F6.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,jt({},t(i),{lazy:void 0}))}async function v8(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function y8(e,t,n,r,i,o,s,l,u,d){let h=o.map(y=>y.route.lazy?g8(y.route,u,l):void 0),p=o.map((y,C)=>{let k=h[C],T=i.some(w=>w.route.id===y.route.id);return jt({},y,{shouldLoad:T,resolve:async w=>(w&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(T=!0),T?b8(t,r,y,k,w,d):Promise.resolve({type:ht.data,result:void 0}))})}),m=await e({matches:p,request:r,params:o[0].params,fetcherKey:s,context:d});try{await Promise.all(h)}catch{}return m}async function b8(e,t,n,r,i,o){let s,l,u=d=>{let h,p=new Promise((C,k)=>h=k);l=()=>h(),t.signal.addEventListener("abort",l);let m=C=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):d({request:t,params:n.params,context:o},...C!==void 0?[C]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(k=>m(k)):m())}}catch(C){return{type:"error",result:C}}})();return Promise.race([y,p])};try{let d=n.route[e];if(r)if(d){let h,[p]=await Promise.all([u(d).catch(m=>{h=m}),r]);if(h!==void 0)throw h;s=p}else if(await r,d=n.route[e],d)s=await u(d);else if(e==="action"){let h=new URL(t.url),p=h.pathname+h.search;throw Wn(405,{method:t.method,pathname:p,routeId:n.route.id})}else return{type:ht.data,result:void 0};else if(d)s=await u(d);else{let h=new URL(t.url),p=h.pathname+h.search;throw Wn(404,{pathname:p})}qe(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:ht.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return s}async function k8(e){let{result:t,type:n}=e;if(Rx(t)){let d;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(h){return{type:ht.error,error:h}}return n===ht.error?{type:ht.error,error:new hh(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:ht.data,data:d,statusCode:t.status,headers:t.headers}}if(n===ht.error){if(DS(t)){var r;if(t.data instanceof Error){var i;return{type:ht.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status}}t=new hh(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:ht.error,error:t,statusCode:tp(t)?t.status:void 0}}if(_8(t)){var o,s;return{type:ht.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}if(DS(t)){var l,u;return{type:ht.data,data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:ht.data,data:t}}function C8(e,t,n,r,i,o){let s=e.headers.get("Location");if(qe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gy.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=Jv(new URL(t.url),l,i,!0,s,o),e.headers.set("Location",s)}return e}function IS(e,t,n){if(Gy.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=Wl(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function za(e,t,n,r){let i=e.createURL(Px(t)).toString(),o={signal:n};if(r&&hi(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Qv(r.formData):o.body=r.formData}return new Request(i,o)}function Qv(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function OS(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function S8(e,t,n,r,i){let o={},s=null,l,u=!1,d={},h=n&&yr(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,y=t[m];if(qe(!zs(y),"Cannot handle redirect results in processLoaderData"),yr(y)){let C=y.error;if(h!==void 0&&(C=h,h=void 0),s=s||{},i)s[m]=C;else{let k=al(e,m);s[k.route.id]==null&&(s[k.route.id]=C)}o[m]=void 0,u||(u=!0,l=tp(y.error)?y.error.status:500),y.headers&&(d[m]=y.headers)}else Yo(y)?(r.set(m,y.deferredData),o[m]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(d[m]=y.headers)):(o[m]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(d[m]=y.headers))}),h!==void 0&&n&&(s={[n[0]]:h},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:d}}function MS(e,t,n,r,i,o,s,l){let{loaderData:u,errors:d}=S8(t,r,i,l,!1);return o.forEach(h=>{let{key:p,match:m,controller:y}=h,C=s[p];if(qe(C,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(yr(C)){let k=al(e.matches,m?.route.id);d&&d[k.route.id]||(d=jt({},d,{[k.route.id]:C.error})),e.fetchers.delete(p)}else if(zs(C))qe(!1,"Unhandled fetcher revalidation redirect");else if(Yo(C))qe(!1,"Unhandled fetcher deferred data");else{let k=Bo(C.data);e.fetchers.set(p,k)}}),{loaderData:u,errors:d}}function LS(e,t,n,r){let i=jt({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function AS(e){return e?yr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function al(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function NS(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Wn(e,t){let{pathname:n,routeId:r,method:i,type:o,message:s}=t===void 0?{}:t,l="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(l="Bad Request",o==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":o==="invalid-body"&&(u="Unable to encode submission body")):e===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",u='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new hh(e||500,l,new Error(u),!0)}function rf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(zs(i))return{key:r,result:i}}}function Px(e){let t=typeof e=="string"?So(e):e;return ra(jt({},t,{hash:""}))}function w8(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function T8(e){return typeof e=="object"&&e!=null&&"then"in e}function E8(e){return Rx(e.result)&&a8.has(e.result.status)}function Yo(e){return e.type===ht.deferred}function yr(e){return e.type===ht.error}function zs(e){return(e&&e.type)===ht.redirect}function DS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function _8(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Rx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function x8(e){return s8.has(e.toLowerCase())}function hi(e){return i8.has(e.toLowerCase())}async function P8(e,t,n,r,i){let o=Object.entries(t);for(let s=0;s<o.length;s++){let[l,u]=o[s],d=e.find(m=>m?.route.id===l);if(!d)continue;let h=r.find(m=>m.route.id===d.route.id),p=h!=null&&!_x(h,d)&&(i&&i[d.route.id])!==void 0;Yo(u)&&p&&await qy(u,n,!1).then(m=>{m&&(t[l]=m)})}}async function R8(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=t[i];e.find(d=>d?.route.id===o)&&Yo(l)&&(qe(s,"Expected an AbortController for revalidating fetcher deferred result"),await qy(l,s.signal,!0).then(d=>{d&&(t[i]=d)}))}}async function qy(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ht.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ht.error,error:i}}return{type:ht.data,data:e.deferredData.data}}}function Ky(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fc(e,t){let n=typeof t=="string"?So(t).search:t.search;if(e[e.length-1].route.index&&Ky(n||""))return e[e.length-1];let r=wx(e);return r[r.length-1]}function US(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function xg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function I8(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Tc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function O8(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Bo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M8(e,t){try{let n=e.sessionStorage.getItem(Ex);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function L8(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Ex,JSON.stringify(n))}catch(r){Al(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}const np=b.createContext(null),Ix=b.createContext(null),ua=b.createContext(null),rp=b.createContext(null),ys=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Ox=b.createContext(null);function A8(e,t){let{relative:n}=t===void 0?{}:t;Bu()||qe(!1);let{basename:r,navigator:i}=b.useContext(ua),{hash:o,pathname:s,search:l}=Lx(e,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:co([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Bu(){return b.useContext(rp)!=null}function ip(){return Bu()||qe(!1),b.useContext(rp).location}function Mx(e){b.useContext(ua).static||b.useLayoutEffect(e)}function Jy(){let{isDataRoute:e}=b.useContext(ys);return e?K8():N8()}function N8(){Bu()||qe(!1);let e=b.useContext(np),{basename:t,future:n,navigator:r}=b.useContext(ua),{matches:i}=b.useContext(ys),{pathname:o}=ip(),s=JSON.stringify(Wy(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return Mx(()=>{l.current=!0}),b.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=Hy(d,JSON.parse(s),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:co([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,o,e])}const D8=b.createContext(null);function U8(e){let t=b.useContext(ys).outlet;return t&&b.createElement(D8.Provider,{value:e},t)}function Lx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(ua),{matches:i}=b.useContext(ys),{pathname:o}=ip(),s=JSON.stringify(Wy(i,r.v7_relativeSplatPath));return b.useMemo(()=>Hy(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function F8(e,t,n,r){Bu()||qe(!1);let{navigator:i}=b.useContext(ua),{matches:o}=b.useContext(ys),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=ip(),h;if(t){var p;let T=typeof t=="string"?So(t):t;u==="/"||(p=T.pathname)!=null&&p.startsWith(u)||qe(!1),h=T}else h=d;let m=h.pathname||"/",y=m;if(u!=="/"){let T=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Us(e,{pathname:y}),k=V8(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:co([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:co([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return t&&k?b.createElement(rp.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Jt.Pop}},k):k}function j8(){let e=q8(),t=tp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,o)}const $8=b.createElement(j8,null);class z8 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(ys.Provider,{value:this.props.routeContext},b.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B8(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(np);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ys.Provider,{value:t},r)}function V8(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);h>=0||qe(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:y}=n,C=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||C){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let y,C=!1,k=null,T=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||$8,u&&(d<0&&m===0?(J8("route-fallback",!1),C=!0,T=null):d===m&&(C=!0,T=p.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,m+1)),w=()=>{let P;return y?P=k:C?P=T:p.route.Component?P=b.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,b.createElement(B8,{match:p,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?b.createElement(z8,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var Ax=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ax||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function W8(e){let t=b.useContext(np);return t||qe(!1),t}function H8(e){let t=b.useContext(Ix);return t||qe(!1),t}function G8(e){let t=b.useContext(ys);return t||qe(!1),t}function Nx(e){let t=G8(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function q8(){var e;let t=b.useContext(Ox),n=H8(ph.UseRouteError),r=Nx(ph.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function K8(){let{router:e}=W8(Ax.UseNavigateStable),t=Nx(ph.UseNavigateStable),n=b.useRef(!1);return Mx(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_u({fromRouteId:t},o)))},[e,t])}const FS={};function J8(e,t,n){!t&&!FS[e]&&(FS[e]=!0)}function Dx(e){return U8(e.context)}function Q8(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Jt.Pop,navigator:o,static:s=!1,future:l}=e;Bu()&&qe(!1);let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:o,static:s,future:_u({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=So(r));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:C="default"}=r,k=b.useMemo(()=>{let T=Wl(h,u);return T==null?null:{location:{pathname:T,search:p,hash:m,state:y,key:C},navigationType:i}},[u,h,p,m,y,C,i]);return k==null?null:b.createElement(ua.Provider,{value:d},b.createElement(rp.Provider,{children:n,value:k}))}new Promise(()=>{});function Y8(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(this,arguments)}function X8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Z8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eU(e,t){return e.button===0&&(!t||t==="_self")&&!Z8(e)}const tU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nU="6";try{window.__reactRouterVersion=nU}catch{}function rU(e,t){return d8({basename:t?.basename,future:xu({},t?.future,{v7_prependBasename:!0}),history:N6({window:t?.window}),hydrationData:t?.hydrationData||iU(),routes:e,mapRouteProperties:Y8,unstable_dataStrategy:t?.unstable_dataStrategy,unstable_patchRoutesOnNavigation:t?.unstable_patchRoutesOnNavigation,window:t?.window}).initialize()}function iU(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=xu({},t,{errors:oU(t.errors)})),t}function oU(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new hh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const sU=b.createContext({isTransitioning:!1}),aU=b.createContext(new Map),lU="startTransition",jS=IT[lU],cU="flushSync",$S=k9[cU];function uU(e){jS?jS(e):e()}function Ec(e){$S?$S(e):e()}class dU{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function fU(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=b.useState(n.state),[s,l]=b.useState(),[u,d]=b.useState({isTransitioning:!1}),[h,p]=b.useState(),[m,y]=b.useState(),[C,k]=b.useState(),T=b.useRef(new Map),{v7_startTransition:v}=r||{},w=b.useCallback(_=>{v?uU(_):_()},[v]),P=b.useCallback((_,z)=>{let{deletedFetchers:F,unstable_flushSync:V,unstable_viewTransitionOpts:q}=z;F.forEach(he=>T.current.delete(he)),_.fetchers.forEach((he,$e)=>{he.data!==void 0&&T.current.set($e,he.data)});let ve=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!q||ve){V?Ec(()=>o(_)):w(()=>o(_));return}if(V){Ec(()=>{m&&(h&&h.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let he=n.window.document.startViewTransition(()=>{Ec(()=>o(_))});he.finished.finally(()=>{Ec(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})})}),Ec(()=>y(he));return}m?(h&&h.resolve(),m.skipTransition(),k({state:_,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(l(_),d({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[n.window,m,h,T,w]);b.useLayoutEffect(()=>n.subscribe(P),[n,P]),b.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new dU)},[u]),b.useEffect(()=>{if(h&&s&&n.window){let _=s,z=h.promise,F=n.window.document.startViewTransition(async()=>{w(()=>o(_)),await z});F.finished.finally(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(F)}},[w,s,h,n.window]),b.useEffect(()=>{h&&s&&i.location.key===s.location.key&&h.resolve()},[h,m,i.location,s]),b.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),k(void 0))},[u.isTransitioning,C]),b.useEffect(()=>{},[]);let E=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,z,F)=>n.navigate(_,{state:z,preventScrollReset:F?.preventScrollReset}),replace:(_,z,F)=>n.navigate(_,{replace:!0,state:z,preventScrollReset:F?.preventScrollReset})}),[n]),I=n.basename||"/",M=b.useMemo(()=>({router:n,navigator:E,static:!1,basename:I}),[n,E,I]),N=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(np.Provider,{value:M},b.createElement(Ix.Provider,{value:i},b.createElement(aU.Provider,{value:T.current},b.createElement(sU.Provider,{value:u},b.createElement(Q8,{basename:I,location:i.location,navigationType:i.historyAction,navigator:E,future:N},i.initialized||n.future.v7_partialHydration?b.createElement(hU,{routes:n.routes,future:n.future,state:i}):t))))),null)}const hU=b.memo(pU);function pU(e){let{routes:t,future:n,state:r}=e;return F8(t,void 0,r,n)}const mU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zS=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:p}=t,m=X8(t,tU),{basename:y}=b.useContext(ua),C,k=!1;if(typeof d=="string"&&gU.test(d)&&(C=d,mU))try{let P=new URL(window.location.href),E=d.startsWith("//")?new URL(P.protocol+d):new URL(d),I=Wl(E.pathname,y);E.origin===P.origin&&I!=null?d=I+E.search+E.hash:k=!0}catch{}let T=A8(d,{relative:i}),v=vU(d,{replace:s,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:p});function w(P){r&&r(P),P.defaultPrevented||v(P)}return b.createElement("a",xu({},m,{href:C||T,onClick:k||o?r:w,ref:n,target:u}))});var BS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var VS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(VS||(VS={}));function vU(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=t===void 0?{}:t,u=Jy(),d=ip(),h=Lx(e,{relative:s});return b.useCallback(p=>{if(eU(p,n)){p.preventDefault();let m=r!==void 0?r:ra(d)===ra(h);u(e,{replace:m,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[d,u,h,r,i,n,e,o,s,l])}const mh=["light","dark"],Qy="(prefers-color-scheme: dark)",yU=typeof window>"u",Ux=b.createContext(void 0),bU=e=>b.useContext(Ux)?H.createElement(b.Fragment,null,e.children):H.createElement(CU,e),kU=["light","dark"],CU=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:o=kU,defaultTheme:s=n?"system":"light",attribute:l="data-theme",value:u,children:d,nonce:h})=>{const[p,m]=b.useState(()=>WS(i,s)),[y,C]=b.useState(()=>WS(i)),k=u?Object.values(u):o,T=b.useCallback(E=>{let I=E;if(!I)return;E==="system"&&n&&(I=HS());const M=u?u[I]:I,N=t?wU():null,_=document.documentElement;if(l==="class"?(_.classList.remove(...k),M&&_.classList.add(M)):M?_.setAttribute(l,M):_.removeAttribute(l),r){const z=mh.includes(s)?s:null,F=mh.includes(I)?I:z;_.style.colorScheme=F}N?.()},[]),v=b.useCallback(E=>{m(E);try{localStorage.setItem(i,E)}catch{}},[e]),w=b.useCallback(E=>{const I=HS(E);C(I),p==="system"&&n&&!e&&T("system")},[p,e]);b.useEffect(()=>{const E=window.matchMedia(Qy);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),b.useEffect(()=>{const E=I=>{I.key===i&&v(I.newValue||s)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[v]),b.useEffect(()=>{T(e??p)},[e,p]);const P=b.useMemo(()=>({theme:p,setTheme:v,forcedTheme:e,resolvedTheme:p==="system"?y:p,themes:n?[...o,"system"]:o,systemTheme:n?y:void 0}),[p,v,e,y,n,o]);return H.createElement(Ux.Provider,{value:P},H.createElement(SU,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:o,defaultTheme:s,attribute:l,value:u,children:d,attrs:k,nonce:h}),d)},SU=b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:s,attrs:l,nonce:u})=>{const d=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${l.map(C=>`'${C}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?mh.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(C,k=!1,T=!0)=>{const v=s?s[C]:C,w=k?C+"|| ''":`'${v}'`;let P="";return i&&T&&!k&&mh.includes(C)&&(P+=`d.style.colorScheme = '${C}';`),n==="class"?P+=k||v?`c.add(${w})`:"null":v&&(P+=`d[s](n,${w})`),P},y=e?`!function(){${h}${m(e)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Qy}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}${d?"":"else{"+m(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${p}}catch(t){}}();`;return H.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})},()=>!0),WS=(e,t)=>{if(yU)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},wU=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},HS=e=>(e||(e=window.matchMedia(Qy)),e.matches?"dark":"light");function TU({children:e,...t}){return ee.jsx(bU,{...t,children:e})}const EU="modulepreload",_U=function(e){return"/"+e},GS={},gh=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=_U(o),o in GS)return;GS[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const p=i[h];if(p.href===o&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":EU,s||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),s)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function Fx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Fx(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Yy(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Fx(e))&&(r&&(r+=" "),r+=t);return r}function xU(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=jx(t))&&(r&&(r+=" "),r+=n);return r}function jx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=jx(e[r]))&&(n&&(n+=" "),n+=t);return n}var Xy="-";function PU(e){var t=IU(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(l){var u=l.split(Xy);return u[0]===""&&u.length!==1&&u.shift(),$x(u,t)||RU(l)}function s(l,u){var d=n[l]||[];return u&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function $x(e,t){if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?$x(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(Xy);return t.validators.find(function(s){var l=s.validator;return l(o)})?.classGroupId}}var qS=/^\[(.+)\]$/;function RU(e){if(qS.test(e)){var t=qS.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function IU(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=MU(Object.entries(e.classGroups),n);return i.forEach(function(o){var s=o[0],l=o[1];Yv(l,r,s,t)}),r}function Yv(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:KS(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(OU(i)){Yv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var l=s[0],u=s[1];Yv(u,KS(t,l),n,r)})})}function KS(e,t){var n=e;return t.split(Xy).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function OU(e){return e.isThemeGetter}function MU(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(l){var u=l[0],d=l[1];return[t+u,d]})):s});return[r,o]}):e}function LU(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set:function(s,l){n.has(s)?n.set(s,l):i(s,l)}}}var zx="!";function AU(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(s){for(var l=[],u=0,d=0,h,p=0;p<s.length;p++){var m=s[p];if(u===0){if(m===r&&(n||s.slice(p,p+i)===t)){l.push(s.slice(d,p)),d=p+i;continue}if(m==="/"){h=p;continue}}m==="["?u++:m==="]"&&u--}var y=l.length===0?s:s.substring(d),C=y.startsWith(zx),k=C?y.substring(1):y,T=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:C,baseClassName:k,maybePostfixModifierPosition:T}}}function NU(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function DU(e){return{cache:LU(e.cacheSize),splitModifiers:AU(e),...PU(e)}}var UU=/\s+/;function FU(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(UU).map(function(s){var l=n(s),u=l.modifiers,d=l.hasImportantModifier,h=l.baseClassName,p=l.maybePostfixModifierPosition,m=r(p?h.substring(0,p):h),y=!!p;if(!m){if(!p)return{isTailwindClass:!1,originalClassName:s};if(m=r(h),!m)return{isTailwindClass:!1,originalClassName:s};y=!1}var C=NU(u).join(":"),k=d?C+zx:C;return{isTailwindClass:!0,modifierId:k,classGroupId:m,originalClassName:s,hasPostfixModifier:y}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var l=s.modifierId,u=s.classGroupId,d=s.hasPostfixModifier,h=l+u;return o.has(h)?!1:(o.add(h),i(u,d).forEach(function(p){return o.add(l+p)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function jU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,s=l;function l(d){var h=t[0],p=t.slice(1),m=p.reduce(function(y,C){return C(y)},h());return r=DU(m),i=r.cache.get,o=r.cache.set,s=u,u(d)}function u(d){var h=i(d);if(h)return h;var p=FU(d,r);return o(d,p),p}return function(){return s(xU.apply(null,arguments))}}function Ot(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Bx=/^\[(?:([a-z-]+):)?(.+)\]$/i,$U=/^\d+\/\d+$/,zU=new Set(["px","full","screen"]),BU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WU=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ci(e){return Bs(e)||zU.has(e)||$U.test(e)||Xv(e)}function Xv(e){return da(e,"length",QU)}function HU(e){return da(e,"size",Vx)}function GU(e){return da(e,"position",Vx)}function qU(e){return da(e,"url",YU)}function of(e){return da(e,"number",Bs)}function Bs(e){return!Number.isNaN(Number(e))}function KU(e){return e.endsWith("%")&&Bs(e.slice(0,-1))}function _c(e){return JS(e)||da(e,"number",JS)}function Xe(e){return Bx.test(e)}function xc(){return!0}function $o(e){return BU.test(e)}function JU(e){return da(e,"",XU)}function da(e,t,n){var r=Bx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function QU(e){return VU.test(e)}function Vx(){return!1}function YU(e){return e.startsWith("url(")}function JS(e){return Number.isInteger(Number(e))}function XU(e){return WU.test(e)}function ZU(){var e=Ot("colors"),t=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),i=Ot("borderColor"),o=Ot("borderRadius"),s=Ot("borderSpacing"),l=Ot("borderWidth"),u=Ot("contrast"),d=Ot("grayscale"),h=Ot("hueRotate"),p=Ot("invert"),m=Ot("gap"),y=Ot("gradientColorStops"),C=Ot("gradientColorStopPositions"),k=Ot("inset"),T=Ot("margin"),v=Ot("opacity"),w=Ot("padding"),P=Ot("saturate"),E=Ot("scale"),I=Ot("sepia"),M=Ot("skew"),N=Ot("space"),_=Ot("translate"),z=function(){return["auto","contain","none"]},F=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",Xe,t]},q=function(){return[Xe,t]},ve=function(){return["",ci]},he=function(){return["auto",Bs,Xe]},$e=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Qe=function(){return["solid","dashed","dotted","double","none"]},De=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},ae=function(){return["","0",Xe]},Ee=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ke=function(){return[Bs,of]},Pe=function(){return[Bs,Xe]};return{cacheSize:500,theme:{colors:[xc],spacing:[ci],blur:["none","",$o,Xe],brightness:ke(),borderColor:[e],borderRadius:["none","","full",$o,Xe],borderSpacing:q(),borderWidth:ve(),contrast:ke(),grayscale:ae(),hueRotate:Pe(),invert:ae(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[KU,Xv],inset:V(),margin:V(),opacity:ke(),padding:q(),saturate:ke(),scale:ke(),sepia:ae(),skew:Pe(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[$o]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($e(),[Xe])}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",_c]}],"grid-cols":[{"grid-cols":[xc]}],"col-start-end":[{col:["auto",{span:["full",_c]},Xe]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[xc]}],"row-start-end":[{row:["auto",{span:[_c]},Xe]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Xe,t]}],"min-w":[{"min-w":["min","max","fit",Xe,ci]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[$o]},$o,Xe]}],h:[{h:[Xe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Xe,ci]}],"max-h":[{"max-h":[Xe,t,"min","max","fit"]}],"font-size":[{text:["base",$o,Xv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",of]}],"font-family":[{font:[xc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Bs,of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,ci]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Qe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ci]}],"underline-offset":[{"underline-offset":["auto",Xe,ci]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($e(),[GU])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(Qe(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Qe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Qe())}],"outline-offset":[{"outline-offset":[Xe,ci]}],"outline-w":[{outline:[ci]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ci]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$o,JU]}],"shadow-color":[{shadow:[xc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":De()}],"bg-blend":[{"bg-blend":De()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$o,Xe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[P]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:Pe()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:Pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[_c,Xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ci,of]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Wx=jU(ZU),QS,Hx={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Hx.exports=function(){if(QS)return Pc;QS=1;var e=H,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var h,p={},m=null,y=null;for(h in d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(y=u.ref),u)r.call(u,h)&&!o.hasOwnProperty(h)&&(p[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:t,type:l,key:m,ref:y,props:p,_owner:i.current}}return Pc.Fragment=n,Pc.jsx=s,Pc.jsxs=s,Pc}();var xe=Hx.exports;function yi(...e){return Wx(Yy(e))}const op=b.createContext({appWindow:null,isWindowMaximized:!1,minimizeWindow:()=>Promise.resolve(),maximizeWindow:()=>Promise.resolve(),fullscreenWindow:()=>Promise.resolve(),closeWindow:()=>Promise.resolve()}),e7=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(!1);b.useEffect(()=>{typeof window<"u"&&gh(()=>import("./index.min-87da6a88.js"),[]).then(s=>{n(s.appWindow)})},[]);const o=b.useCallback(async()=>{if(t){const s=await t.isMaximized();i(s)}},[t]);return b.useEffect(()=>{o();let s=()=>{};return(async()=>t&&(s=await t.onResized(()=>{o()})))(),()=>s&&s()},[t,o]),xe.jsx(op.Provider,{value:{appWindow:t,isWindowMaximized:r,minimizeWindow:async()=>{t&&await t.minimize()},maximizeWindow:async()=>{t&&await t.toggleMaximize()},fullscreenWindow:async()=>{t&&(await t.isFullscreen()?await t.setFullscreen(!1):await t.setFullscreen(!0))},closeWindow:async()=>{t&&await t.close()}},children:e})},Kr={minimizeWin:e=>xe.jsx("svg",{width:"10",height:"1",viewBox:"0 0 10 1",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("path",{d:"M0.498047 1.00098C0.429688 1.00098 0.364583 0.987956 0.302734 0.961914C0.244141 0.935872 0.192057 0.900065 0.146484 0.854492C0.100911 0.808919 0.0651042 0.756836 0.0390625 0.698242C0.0130208 0.636393 0 0.571289 0 0.50293C0 0.43457 0.0130208 0.371094 0.0390625 0.3125C0.0651042 0.250651 0.100911 0.19694 0.146484 0.151367C0.192057 0.102539 0.244141 0.0651042 0.302734 0.0390625C0.364583 0.0130208 0.429688 0 0.498047 0H9.50195C9.57031 0 9.63379 0.0130208 9.69238 0.0390625C9.75423 0.0651042 9.80794 0.102539 9.85352 0.151367C9.89909 0.19694 9.9349 0.250651 9.96094 0.3125C9.98698 0.371094 10 0.43457 10 0.50293C10 0.571289 9.98698 0.636393 9.96094 0.698242C9.9349 0.756836 9.89909 0.808919 9.85352 0.854492C9.80794 0.900065 9.75423 0.935872 9.69238 0.961914C9.63379 0.987956 9.57031 1.00098 9.50195 1.00098H0.498047Z",fill:"currentColor",fillOpacity:"0.8956"})}),maximizeWin:e=>xe.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("path",{d:"M1.47461 10.001C1.2793 10.001 1.09212 9.96191 0.913086 9.88379C0.734049 9.80241 0.576172 9.69499 0.439453 9.56152C0.30599 9.4248 0.198568 9.26693 0.117188 9.08789C0.0390625 8.90885 0 8.72168 0 8.52637V1.47559C0 1.28027 0.0390625 1.0931 0.117188 0.914062C0.198568 0.735026 0.30599 0.578776 0.439453 0.445312C0.576172 0.308594 0.734049 0.201172 0.913086 0.123047C1.09212 0.0416667 1.2793 0.000976562 1.47461 0.000976562H8.52539C8.7207 0.000976562 8.90788 0.0416667 9.08691 0.123047C9.26595 0.201172 9.4222 0.308594 9.55566 0.445312C9.69238 0.578776 9.7998 0.735026 9.87793 0.914062C9.95931 1.0931 10 1.28027 10 1.47559V8.52637C10 8.72168 9.95931 8.90885 9.87793 9.08789C9.7998 9.26693 9.69238 9.4248 9.55566 9.56152C9.4222 9.69499 9.26595 9.80241 9.08691 9.88379C8.90788 9.96191 8.7207 10.001 8.52539 10.001H1.47461ZM8.50098 9C8.56934 9 8.63281 8.98698 8.69141 8.96094C8.75326 8.9349 8.80697 8.89909 8.85254 8.85352C8.89811 8.80794 8.93392 8.75586 8.95996 8.69727C8.986 8.63542 8.99902 8.57031 8.99902 8.50195V1.5C8.99902 1.43164 8.986 1.36816 8.95996 1.30957C8.93392 1.24772 8.89811 1.19401 8.85254 1.14844C8.80697 1.10286 8.75326 1.06706 8.69141 1.04102C8.63281 1.01497 8.56934 1.00195 8.50098 1.00195H1.49902C1.43066 1.00195 1.36556 1.01497 1.30371 1.04102C1.24512 1.06706 1.19303 1.10286 1.14746 1.14844C1.10189 1.19401 1.06608 1.24772 1.04004 1.30957C1.014 1.36816 1.00098 1.43164 1.00098 1.5V8.50195C1.00098 8.57031 1.014 8.63542 1.04004 8.69727C1.06608 8.75586 1.10189 8.80794 1.14746 8.85352C1.19303 8.89909 1.24512 8.9349 1.30371 8.96094C1.36556 8.98698 1.43066 9 1.49902 9H8.50098Z",fill:"currentColor",fillOpacity:"0.8956"})}),maximizeRestoreWin:e=>xe.jsx("svg",{width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("path",{d:"M8.99902 2.98096C8.99902 2.71077 8.94531 2.45687 8.83789 2.21924C8.73047 1.97835 8.58398 1.77002 8.39844 1.59424C8.21615 1.4152 8.00293 1.27523 7.75879 1.17432C7.5179 1.07015 7.264 1.01807 6.99707 1.01807H2.08496C2.13704 0.868327 2.21029 0.731608 2.30469 0.60791C2.39909 0.484212 2.50814 0.378418 2.63184 0.290527C2.75553 0.202637 2.89062 0.135905 3.03711 0.090332C3.18685 0.0415039 3.34147 0.0170898 3.50098 0.0170898H6.99707C7.41048 0.0170898 7.79948 0.0968424 8.16406 0.256348C8.52865 0.412598 8.84603 0.625814 9.11621 0.895996C9.38965 1.16618 9.60449 1.48356 9.76074 1.84814C9.92025 2.21273 10 2.60173 10 3.01514V6.51611C10 6.67562 9.97559 6.83024 9.92676 6.97998C9.88118 7.12646 9.81445 7.26156 9.72656 7.38525C9.63867 7.50895 9.53288 7.618 9.40918 7.7124C9.28548 7.8068 9.14876 7.88005 8.99902 7.93213V2.98096ZM1.47461 10.0171C1.2793 10.0171 1.09212 9.97803 0.913086 9.8999C0.734049 9.81852 0.576172 9.7111 0.439453 9.57764C0.30599 9.44092 0.198568 9.28304 0.117188 9.104C0.0390625 8.92497 0 8.73779 0 8.54248V3.49365C0 3.29508 0.0390625 3.10791 0.117188 2.93213C0.198568 2.75309 0.30599 2.59684 0.439453 2.46338C0.576172 2.32666 0.732422 2.21924 0.908203 2.14111C1.08724 2.05973 1.27604 2.01904 1.47461 2.01904H6.52344C6.72201 2.01904 6.91081 2.05973 7.08984 2.14111C7.26888 2.21924 7.42513 2.32503 7.55859 2.4585C7.69206 2.59196 7.79785 2.74821 7.87598 2.92725C7.95736 3.10628 7.99805 3.29508 7.99805 3.49365V8.54248C7.99805 8.74105 7.95736 8.92985 7.87598 9.10889C7.79785 9.28467 7.69043 9.44092 7.55371 9.57764C7.42025 9.7111 7.264 9.81852 7.08496 9.8999C6.90918 9.97803 6.72201 10.0171 6.52344 10.0171H1.47461ZM6.49902 9.01611C6.56738 9.01611 6.63086 9.00309 6.68945 8.97705C6.7513 8.95101 6.80501 8.9152 6.85059 8.86963C6.89941 8.82406 6.93685 8.77197 6.96289 8.71338C6.98893 8.65153 7.00195 8.58643 7.00195 8.51807V3.51807C7.00195 3.44971 6.98893 3.3846 6.96289 3.32275C6.93685 3.2609 6.90104 3.20719 6.85547 3.16162C6.8099 3.11605 6.75618 3.08024 6.69434 3.0542C6.63249 3.02816 6.56738 3.01514 6.49902 3.01514H1.49902C1.43066 3.01514 1.36556 3.02816 1.30371 3.0542C1.24512 3.08024 1.19303 3.11768 1.14746 3.1665C1.10189 3.21208 1.06608 3.26579 1.04004 3.32764C1.014 3.38623 1.00098 3.44971 1.00098 3.51807V8.51807C1.00098 8.58643 1.014 8.65153 1.04004 8.71338C1.06608 8.77197 1.10189 8.82406 1.14746 8.86963C1.19303 8.9152 1.24512 8.95101 1.30371 8.97705C1.36556 9.00309 1.43066 9.01611 1.49902 9.01611H6.49902Z",fill:"currentColor",fillOpacity:"0.8956"})}),closeWin:e=>xe.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("path",{d:"M5 5.70898L0.854492 9.85449C0.756836 9.95215 0.639648 10.001 0.50293 10.001C0.359701 10.001 0.239258 9.95378 0.141602 9.85938C0.0472005 9.76172 0 9.64128 0 9.49805C0 9.36133 0.0488281 9.24414 0.146484 9.14648L4.29199 5.00098L0.146484 0.855469C0.0488281 0.757812 0 0.638997 0 0.499023C0 0.430664 0.0130208 0.36556 0.0390625 0.303711C0.0651042 0.241862 0.100911 0.189779 0.146484 0.147461C0.192057 0.101888 0.245768 0.0660807 0.307617 0.0400391C0.369466 0.0139974 0.43457 0.000976562 0.50293 0.000976562C0.639648 0.000976562 0.756836 0.0498047 0.854492 0.147461L5 4.29297L9.14551 0.147461C9.24316 0.0498047 9.36198 0.000976562 9.50195 0.000976562C9.57031 0.000976562 9.63379 0.0139974 9.69238 0.0400391C9.75423 0.0660807 9.80794 0.101888 9.85352 0.147461C9.89909 0.193034 9.9349 0.246745 9.96094 0.308594C9.98698 0.367188 10 0.430664 10 0.499023C10 0.638997 9.95117 0.757812 9.85352 0.855469L5.70801 5.00098L9.85352 9.14648C9.95117 9.24414 10 9.36133 10 9.49805C10 9.56641 9.98698 9.63151 9.96094 9.69336C9.9349 9.75521 9.89909 9.80892 9.85352 9.85449C9.8112 9.90007 9.75911 9.93587 9.69727 9.96191C9.63542 9.98796 9.57031 10.001 9.50195 10.001C9.36198 10.001 9.24316 9.95215 9.14551 9.85449L5 5.70898Z",fill:"currentColor",fillOpacity:"0.8956"})}),closeMac:e=>xe.jsx("svg",{width:"6",height:"6",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("path",{d:"M15.7522 4.44381L11.1543 9.04165L15.7494 13.6368C16.0898 13.9771 16.078 14.5407 15.724 14.8947L13.8907 16.728C13.5358 17.0829 12.9731 17.0938 12.6328 16.7534L8.03766 12.1583L3.44437 16.7507C3.10402 17.091 2.54132 17.0801 2.18645 16.7253L0.273257 14.8121C-0.0807018 14.4572 -0.0925004 13.8945 0.247845 13.5542L4.84024 8.96087L0.32499 4.44653C-0.0153555 4.10619 -0.00355681 3.54258 0.350402 3.18862L2.18373 1.35529C2.53859 1.00042 3.1013 0.989533 3.44164 1.32988L7.95689 5.84422L12.5556 1.24638C12.8951 0.906035 13.4587 0.917833 13.8126 1.27179L15.7267 3.18589C16.0807 3.53985 16.0925 4.10346 15.7522 4.44381Z",fill:"currentColor"})}),minMac:e=>xe.jsx("svg",{width:"8",height:"8",viewBox:"0 0 17 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("g",{clipPath:"url(#clip0_20_2051)",children:xe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.47211 1.18042H15.4197C15.8052 1.18042 16.1179 1.50551 16.1179 1.90769V3.73242C16.1179 4.13387 15.8052 4.80006 15.4197 4.80006H1.47211C1.08665 4.80006 0.773926 4.47497 0.773926 4.07278V1.90769C0.773926 1.50551 1.08665 1.18042 1.47211 1.18042Z",fill:"currentColor"})})}),fullMac:e=>xe.jsx("svg",{width:"6",height:"6",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("g",{clipPath:"url(#clip0_20_2057)",children:xe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.53068 0.433838L15.0933 12.0409C15.0933 12.0409 15.0658 5.35028 15.0658 4.01784C15.0658 1.32095 14.1813 0.433838 11.5378 0.433838C10.6462 0.433838 3.53068 0.433838 3.53068 0.433838ZM12.4409 15.5378L0.87735 3.93073C0.87735 3.93073 0.905794 10.6214 0.905794 11.9538C0.905794 14.6507 1.79024 15.5378 4.43291 15.5378C5.32535 15.5378 12.4409 15.5378 12.4409 15.5378Z",fill:"currentColor"})})}),plusMac:e=>xe.jsx("svg",{width:"8",height:"8",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:xe.jsx("g",{clipPath:"url(#clip0_20_2053)",children:xe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5308 9.80147H10.3199V15.0095C10.3199 15.3949 9.9941 15.7076 9.59265 15.7076H7.51555C7.11337 15.7076 6.78828 15.3949 6.78828 15.0095V9.80147H1.58319C1.19774 9.80147 0.88501 9.47638 0.88501 9.07419V6.90619C0.88501 6.50401 1.19774 6.17892 1.58319 6.17892H6.78828V1.06183C6.78828 0.676375 7.11337 0.363647 7.51555 0.363647H9.59265C9.9941 0.363647 10.3199 0.676375 10.3199 1.06183V6.17892H15.5308C15.9163 6.17892 16.229 6.50401 16.229 6.90619V9.07419C16.229 9.47638 15.9163 9.80147 15.5308 9.80147Z",fill:"currentColor"})})})};function uo({className:e,children:t,...n}){return xe.jsx("button",{className:yi("inline-flex cursor-default items-center justify-center",e),...n,children:t})}function t7({className:e,...t}){const{isWindowMaximized:n,minimizeWindow:r,maximizeWindow:i,closeWindow:o}=b.useContext(op);return xe.jsxs("div",{className:yi("h-8",e),...t,children:[xe.jsx(uo,{onClick:r,className:"max-h-8 w-[46px] cursor-default rounded-none bg-transparent text-black/90 hover:bg-black/[.05] active:bg-black/[.03]  dark:text-white dark:hover:bg-white/[.06] dark:active:bg-white/[.04]",children:xe.jsx(Kr.minimizeWin,{})}),xe.jsx(uo,{onClick:i,className:yi("max-h-8 w-[46px] cursor-default rounded-none bg-transparent","text-black/90 hover:bg-black/[.05] active:bg-black/[.03] dark:text-white dark:hover:bg-white/[.06] dark:active:bg-white/[.04]"),children:n?xe.jsx(Kr.maximizeRestoreWin,{}):xe.jsx(Kr.maximizeWin,{})}),xe.jsx(uo,{onClick:o,className:"max-h-8 w-[46px] cursor-default rounded-none bg-transparent text-black/90 hover:bg-[#c42b1c] hover:text-white active:bg-[#c42b1c]/90 dark:text-white",children:xe.jsx(Kr.closeWin,{})})]})}function n7({className:e,...t}){const{minimizeWindow:n,maximizeWindow:r,fullscreenWindow:i,closeWindow:o}=b.useContext(op),[s,l]=b.useState(!1),[u,d]=b.useState(!1),h=s?xe.jsx(Kr.plusMac,{}):xe.jsx(Kr.fullMac,{}),p=y=>{y.key==="Alt"&&l(!0)},m=y=>{y.key==="Alt"&&l(!1)};return b.useEffect(()=>{window.addEventListener("keydown",p),window.addEventListener("keyup",m)},[]),xe.jsxs("div",{className:yi("px-2 text-black active:text-black dark:text-black",e),onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},...t,children:[xe.jsx(uo,{onClick:o,className:"mr-2 aspect-square h-3 w-3 cursor-default content-center items-center justify-center self-center rounded-full border border-black/[.12] bg-[#ff544d] text-center text-black/60 hover:bg-[#ff544d] active:bg-[#bf403a] active:text-black/60 dark:border-none",children:u&&xe.jsx(Kr.closeMac,{})}),xe.jsx(uo,{onClick:n,className:"mr-2 aspect-square h-3 w-3 cursor-default content-center items-center justify-center self-center rounded-full border border-black/[.12]  bg-[#ffbd2e] text-center text-black/60 hover:bg-[#ffbd2e] active:bg-[#bf9122] active:text-black/60 dark:border-none",children:u&&xe.jsx(Kr.minMac,{})}),xe.jsx(uo,{onClick:s?r:i,className:"aspect-square h-3 w-3 cursor-default content-center items-center justify-center self-center rounded-full border border-black/[.12] bg-[#28c93f] text-center text-black/60 hover:bg-[#28c93f] active:bg-[#1e9930] active:text-black/60 dark:border-none",children:u&&h})]})}function r7({className:e,...t}){const{isWindowMaximized:n,minimizeWindow:r,maximizeWindow:i,closeWindow:o}=b.useContext(op);return xe.jsxs("div",{className:yi("h-auto items-center px-2",e),...t,children:[xe.jsx(uo,{onClick:r,className:"m-0 mr-4 aspect-square h-6 w-6 cursor-default rounded-full bg-[#dadada] p-0 text-[#3d3d3d] hover:bg-[#d1d1d1] active:bg-[#bfbfbf] dark:bg-[#373737] dark:text-white dark:hover:bg-[#424242] dark:active:bg-[#565656]",children:xe.jsx(Kr.minimizeWin,{className:"w-[9px]"})}),xe.jsx(uo,{onClick:i,className:"m-0 mr-4 aspect-square h-6 w-6 cursor-default rounded-full bg-[#dadada] p-0 text-[#3d3d3d] hover:bg-[#d1d1d1] active:bg-[#bfbfbf] dark:bg-[#373737] dark:text-white dark:hover:bg-[#424242] dark:active:bg-[#565656]",children:n?xe.jsx(Kr.maximizeRestoreWin,{className:"h-[9px] w-[9px]"}):xe.jsx(Kr.maximizeWin,{className:"h-2 w-2"})}),xe.jsx(uo,{onClick:o,className:"m-0 aspect-square h-6 w-6 cursor-default rounded-full bg-[#dadada] p-0 text-[#3d3d3d] hover:bg-[#d1d1d1] active:bg-[#bfbfbf] dark:bg-[#373737] dark:text-white dark:hover:bg-[#424242] dark:active:bg-[#565656]",children:xe.jsx(Kr.closeWin,{className:"h-2 w-2"})})]})}let Gx,qx=null;function Kx(){return qx||Promise.resolve(Gx)}function YS({platform:e,justify:t=!1,hide:n=!1,hideMethod:r="display",className:i,...o}){const[s,l]=b.useState(void 0);b.useEffect(()=>{Kx().then(d=>{l(d)})},[]);const u=yi("flex",i,n&&(r==="display"?"hidden":"invisible"));if(!e)switch(s){case"Darwin":e="macos";break;case"Linux":e="gnome";break;default:e="windows"}return xe.jsx(e7,{children:xe.jsx(()=>{switch(e){case"windows":default:return xe.jsx(t7,{className:yi(u,t&&"ml-auto"),...o});case"macos":return xe.jsx(n7,{className:yi(u,t&&"ml-0"),...o});case"gnome":return xe.jsx(r7,{className:yi(u,t&&"ml-auto"),...o})}},{})})}function i7({children:e,controlsOrder:t="system",className:n,windowControlsProps:r,...i}){const[o,s]=b.useState(void 0);b.useEffect(()=>{Kx().then(d=>{s(d)})},[]);const l=t==="left"||t==="platform"&&r?.platform==="macos"||t==="system"&&o==="Darwin",u=d=>{if(r?.justify!==void 0)return r;const{justify:h,className:p,...m}=r||{};return{justify:!1,className:yi(p,d),...m}};return xe.jsx("div",{className:yi("bg-background flex select-none flex-row overflow-hidden",n),"data-tauri-drag-region":!0,...i,children:l?xe.jsxs(xe.Fragment,{children:[xe.jsx(YS,{...u("ml-0")}),e]}):xe.jsxs(xe.Fragment,{children:[e,xe.jsx(YS,{...u("ml-auto")})]})})}typeof window<"u"&&(qx=gh(()=>import("./index.min-74dbd1cc.js"),[]).then(e=>e.type().then(t=>(Gx=t,t))));var o7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a7=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:l,...u},d)=>b.createElement("svg",{ref:d,...o7,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${s7(e)}`,...u},[...t.map(([h,p])=>b.createElement(h,p)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var bs=a7;const l7=bs("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),c7=bs("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),u7=bs("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),d7=bs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),f7=bs("SendHorizonal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),h7=bs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p7=bs("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Jx=bs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function m7(){const e=b.useCallback(async()=>{const{appWindow:n}=await gh(()=>import("./index.min-87da6a88.js"),[]);n.close()},[]),t=b.useCallback(async()=>{const{appWindow:n}=await gh(()=>import("./index.min-87da6a88.js"),[]);n.minimize()},[]);return ee.jsxs("div",{className:"h-auto items-center ml-auto flex",children:[ee.jsx("div",{onClick:t,className:"inline-flex items-center justify-center m-0 aspect-square h-8 w-8 cursor-default p-2 text-white hover:bg-[#424242] active:bg-[#565656]",children:ee.jsx(u7,{})}),ee.jsx("div",{className:"inline-flex items-center justify-center m-0 aspect-square h-8 w-8 cursor-default p-2 text-white hover:bg-[#424242] active:bg-[#565656]",children:ee.jsx(h7,{})}),ee.jsx("div",{onClick:e,className:"inline-flex items-center justify-center m-0 aspect-square h-8 w-8 cursor-default p-2 text-white hover:bg-red-700 active:bg-red-500",children:ee.jsx(Jx,{})})]})}function Qx(){return ee.jsx(i7,{windowControlsProps:{hide:!0},className:"sticky top-0 z-50 bg-[#242424]",children:ee.jsx(m7,{})})}function g7(){const{userId:e,isLoaded:t}=Y4(),n=Jy();return console.log("test",e),b.useEffect(()=>{t&&!e&&n("/sign-in")},[t]),t?ee.jsxs("div",{children:[ee.jsx(Qx,{}),ee.jsx(Dx,{})]}):"Loading..."}function v7(){return Jy(),ee.jsxs(ee.Fragment,{children:[ee.jsx(Qx,{}),ee.jsx("main",{children:ee.jsx(Dx,{})})]})}function y7(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function Gt(e,t){if(!e)throw new Error(t)}const b7=34028234663852886e22,k7=-34028234663852886e22,C7=4294967295,S7=2147483647,w7=-2147483648;function _f(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>S7||e<w7)throw new Error("invalid int 32: "+e)}function Zv(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>C7||e<0)throw new Error("invalid uint 32: "+e)}function Yx(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>b7||e<k7))throw new Error("invalid float 32: "+e)}const Xx=Symbol("@bufbuild/protobuf/enum-type");function T7(e){const t=e[Xx];return Gt(t,"missing enum type on enum object"),t}function Zx(e,t,n,r){e[Xx]=eP(t,n.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}function eP(e,t,n){const r=Object.create(null),i=Object.create(null),o=[];for(const s of t){const l=tP(s);o.push(l),r[s.name]=l,i[s.no]=l}return{typeName:e,values:o,findName(s){return r[s]},findNumber(s){return i[s]}}}function E7(e,t,n){const r={};for(const i of t){const o=tP(i);r[o.localName]=o.no,r[o.no]=o.localName}return Zx(r,e,t),r}function tP(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class Zy{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType(),i=r.runtime.bin,o=i.makeReadOptions(n);return i.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,n){const r=this.getType(),i=r.runtime.json,o=i.makeReadOptions(n);return i.readMessage(r,t,o,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(t),o=i.writerFactory();return r.writeMessage(this,o,i),o.finish()}toJson(t){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function _7(e,t,n,r){var i;const o=(i=r?.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),s={[o]:function(l){e.util.initFields(this),e.util.initPartial(l,this)}}[o];return Object.setPrototypeOf(s.prototype,new Zy),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(l,u){return new s().fromBinary(l,u)},fromJson(l,u){return new s().fromJson(l,u)},fromJsonString(l,u){return new s().fromJsonString(l,u)},equals(l,u){return e.util.equals(s,l,u)}}),s}function x7(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Pg(e,t,n){for(let o=0;o<28;o=o+7){const s=e>>>o,l=!(!(s>>>7)&&t==0),u=(l?s|128:s)&255;if(n.push(u),!l)return}const r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const s=t>>>o,l=!!(s>>>7),u=(l?s|128:s)&255;if(n.push(u),!l)return}n.push(t>>>31&1)}}const xf=4294967296;function XS(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(s,l){const u=Number(e.slice(s,l));i*=n,r=r*n+u,r>=xf&&(i=i+(r/xf|0),r=r%xf)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?rP(r,i):e1(r,i)}function P7(e,t){let n=e1(e,t);const r=n.hi&2147483648;r&&(n=rP(n.lo,n.hi));const i=nP(n.lo,n.hi);return r?"-"+i:i}function nP(e,t){if({lo:e,hi:t}=R7(e,t),t<=2097151)return String(xf*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let o=n+r*6777216+i*6710656,s=r+i*8147497,l=i*2;const u=1e7;return o>=u&&(s+=Math.floor(o/u),o%=u),s>=u&&(l+=Math.floor(s/u),s%=u),l.toString()+ZS(s)+ZS(o)}function R7(e,t){return{lo:e>>>0,hi:t>>>0}}function e1(e,t){return{lo:e|0,hi:t|0}}function rP(e,t){return t=~t,e?e=~e+1:t+=1,e1(e,t)}const ZS=e=>{const t=String(e);return"0000000".slice(t.length)+t};function ew(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function I7(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function O7(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),l=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const d=typeof u=="bigint"?u:BigInt(u);if(d>o||d<i)throw new Error("int64 invalid: ".concat(u));return d},uParse(u){const d=typeof u=="bigint"?u:BigInt(u);if(d>l||d<s)throw new Error("uint64 invalid: ".concat(u));return d},enc(u){return e.setBigInt64(0,this.parse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(u){return e.setBigInt64(0,this.uParse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(u,d){return e.setInt32(0,u,!0),e.setInt32(4,d,!0),e.getBigInt64(0,!0)},uDec(u,d){return e.setInt32(0,u,!0),e.setInt32(4,d,!0),e.getBigUint64(0,!0)}}}const n=i=>Gt(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>Gt(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),XS(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),XS(i)},dec(i,o){return P7(i,o)},uDec(i,o){return nP(i,o)}}}const Ut=O7();var te;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(te||(te={}));var ds;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(ds||(ds={}));function zo(e,t,n){if(t===n)return!0;if(e==te.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case te.UINT64:case te.FIXED64:case te.INT64:case te.SFIXED64:case te.SINT64:return t==n}return!1}function Nl(e,t){switch(e){case te.BOOL:return!1;case te.UINT64:case te.FIXED64:case te.INT64:case te.SFIXED64:case te.SINT64:return t==0?Ut.zero:"0";case te.DOUBLE:case te.FLOAT:return 0;case te.BYTES:return new Uint8Array(0);case te.STRING:return"";default:return 0}}function iP(e,t){switch(e){case te.BOOL:return t===!1;case te.STRING:return t==="";case te.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Yt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Yt||(Yt={}));class M7{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Zv(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return _f(t),ew(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){Yx(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Zv(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){_f(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return _f(t),t=(t<<1^t>>31)>>>0,ew(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Ut.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Ut.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=Ut.enc(t);return Pg(n.lo,n.hi,this.buf),this}sint64(t){let n=Ut.enc(t),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return Pg(i,o,this.buf),this}uint64(t){let n=Ut.uEnc(t);return Pg(n.lo,n.hi,this.buf),this}}class L7{constructor(t,n){this.varint64=x7,this.uint32=I7,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Yt.Varint:for(;this.buf[this.pos++]&128;);break;case Yt.Bit64:this.pos+=4;case Yt.Bit32:this.pos+=4;break;case Yt.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Yt.StartGroup:for(;;){const[o,s]=this.tag();if(s===Yt.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(s,o)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Ut.dec(...this.varint64())}uint64(){return Ut.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,Ut.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ut.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ut.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function A7(e,t,n,r){let i;return{typeName:t,extendee:n,get field(){if(!i){const o=typeof r=="function"?r():r;o.name=t.split(".").pop(),o.jsonName="[".concat(t,"]"),i=e.util.newFieldList([o]).list()[0]}return i},runtime:e}}function oP(e){const t=e.field.localName,n=Object.create(null);return n[t]=N7(e),[n,()=>n[t]]}function N7(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Nl(t.T,t.L);case"message":const n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function D7(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sp=[];for(let e=0;e<oo.length;e++)sp[oo[e].charCodeAt(0)]=e;sp["-".charCodeAt(0)]=oo.indexOf("+");sp["_".charCodeAt(0)]=oo.indexOf("/");const sP={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,o,s=0;for(let l=0;l<e.length;l++){if(o=sp[e.charCodeAt(l)],o===void 0)switch(e[l]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:n[r++]=s<<2|(o&48)>>4,s=o,i=2;break;case 2:n[r++]=(s&15)<<4|(o&60)>>2,s=o,i=3;break;case 3:n[r++]=(s&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let o=0;o<e.length;o++)switch(r=e[o],n){case 0:t+=oo[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=oo[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=oo[i|r>>6],t+=oo[r&63],n=0;break}return n&&(t+=oo[i],t+="=",n==1&&(t+="=")),t}};function U7(e,t,n){lP(t,e);const r=t.runtime.bin.makeReadOptions(n),i=D7(e.getType().runtime.bin.listUnknownFields(e),t.field),[o,s]=oP(t);for(const l of i)t.runtime.bin.readField(o,r.readerFactory(l.data),t.field,l.wireType,r);return s()}function F7(e,t,n,r){lP(t,e);const i=t.runtime.bin.makeReadOptions(r),o=t.runtime.bin.makeWriteOptions(r);if(aP(e,t)){const d=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of d)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=o.writerFactory();let l=t.field;!l.opt&&!l.repeated&&(l.kind=="enum"||l.kind=="scalar")&&(l=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(l,n,s,o);const u=i.readerFactory(s.finish());for(;u.pos<u.len;){const[d,h]=u.tag(),p=u.skip(h,d);e.getType().runtime.bin.onUnknownField(e,d,h,p)}}function aP(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function lP(e,t){Gt(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function cP(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!iP(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function tw(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?Nl(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Gs(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(Zy.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function uP(e,t){return Gs(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}te.DOUBLE,te.FLOAT,te.INT64,te.UINT64,te.INT32,te.UINT32,te.BOOL,te.STRING,te.BYTES;const nw={ignoreUnknownFields:!1},rw={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function j7(e){return e?Object.assign(Object.assign({},nw),e):nw}function $7(e){return e?Object.assign(Object.assign({},rw),e):rw}const vh=Symbol(),Pf=Symbol();function z7(){return{makeReadOptions:j7,makeWriteOptions:$7,readMessage(e,t,n,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(Li(t)));r=r??new e;const i=new Map,o=n.typeRegistry;for(const[s,l]of Object.entries(t)){const u=e.fields.findJsonName(s);if(u){if(u.oneof){if(l===null&&u.kind=="scalar")continue;const d=i.get(u.oneof);if(d!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(u.oneof.name,'" present: "').concat(d,'", "').concat(s,'"'));i.set(u.oneof,s)}iw(r,l,u,n,e)}else{let d=!1;if(o?.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=o.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){d=!0;const[p,m]=oP(h);iw(p,l,h.field,n,h),F7(r,h,m(),n)}}if(!d&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(s,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!cP(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!V7(i))continue}const s=i.oneof?e[i.oneof.localName].value:e[i.localName],l=ow(i,s,t);l!==void 0&&(r[t.useProtoFieldName?i.name:i.jsonName]=l)}const o=t.typeRegistry;if(o?.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const l=o.findExtensionFor(n.typeName,s.no);if(l&&aP(e,l)){const u=U7(e,l,t),d=ow(l.field,u,t);d!==void 0&&(r[l.field.jsonName]=d)}}}catch(o){const s=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),l=o instanceof Error?o.message:String(o);throw new Error(s+(l.length>0?": ".concat(l):""))}return r},readScalar(e,t,n){return tu(e,t,n??ds.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||iP(e,t)))return Rf(e,t)},debug:Li}}function Li(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function iw(e,t,n,r,i){let o=n.localName;if(n.repeated){if(Gt(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(t)));const s=e[o];for(const l of t){if(l===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(l)));switch(n.kind){case"message":s.push(n.T.fromJson(l,r));break;case"enum":const u=Rg(n.T,l,r.ignoreUnknownFields,!0);u!==Pf&&s.push(u);break;case"scalar":try{s.push(tu(n.T,l,n.L,!0))}catch(d){let h="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(l));throw d instanceof Error&&d.message.length>0&&(h+=": ".concat(d.message)),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(t)));const s=e[o];for(const[l,u]of Object.entries(t)){if(u===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let d;try{d=B7(n.K,l)}catch(h){let p="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(t));throw h instanceof Error&&h.message.length>0&&(p+=": ".concat(h.message)),new Error(p)}switch(n.V.kind){case"message":s[d]=n.V.T.fromJson(u,r);break;case"enum":const h=Rg(n.V.T,u,r.ignoreUnknownFields,!0);h!==Pf&&(s[d]=h);break;case"scalar":try{s[d]=tu(n.V.T,u,ds.BIGINT,!0)}catch(p){let m="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(t));throw p instanceof Error&&p.message.length>0&&(m+=": ".concat(p.message)),new Error(m)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:o},o="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let l=e[o];Gs(l)?l.fromJson(t,r):(e[o]=l=s.fromJson(t,r),s.fieldWrapper&&!n.oneof&&(e[o]=s.fieldWrapper.unwrapField(l)));break;case"enum":const u=Rg(n.T,t,r.ignoreUnknownFields,!1);switch(u){case vh:tw(n,e);break;case Pf:break;default:e[o]=u;break}break;case"scalar":try{const d=tu(n.T,t,n.L,!1);switch(d){case vh:tw(n,e);break;default:e[o]=d;break}}catch(d){let h="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Li(t));throw d instanceof Error&&d.message.length>0&&(h+=": ".concat(d.message)),new Error(h)}break}}function B7(e,t){if(e===te.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return tu(e,t,ds.BIGINT,!0).toString()}function tu(e,t,n,r){if(t===null)return r?Nl(e,n):vh;switch(e){case te.DOUBLE:case te.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==te.FLOAT&&Yx(i),i;case te.INT32:case te.FIXED32:case te.SFIXED32:case te.SINT32:case te.UINT32:let o;if(typeof t=="number"?o=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),o===void 0)break;return e==te.UINT32||e==te.FIXED32?Zv(o):_f(o),o;case te.INT64:case te.SFIXED64:case te.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Ut.parse(t);return n?s.toString():s;case te.FIXED64:case te.UINT64:if(typeof t!="number"&&typeof t!="string")break;const l=Ut.uParse(t);return n?l.toString():l;case te.BOOL:if(typeof t!="boolean")break;return t;case te.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case te.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return sP.dec(t)}throw new Error}function Rg(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:vh;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(i!==void 0)return i.no;if(n)return Pf;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Li(t)))}function V7(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function ow(e,t,n){if(e.kind=="map"){Gt(typeof t=="object"&&t!=null);const r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,l]of i)r[s.toString()]=Rf(e.V.T,l);break;case"message":for(const[s,l]of i)r[s.toString()]=l.toJson(n);break;case"enum":const o=e.V.T;for(const[s,l]of i)r[s.toString()]=Ig(o,l,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){Gt(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++)r.push(Rf(e.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)r.push(Ig(e.T,t[i],n.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)r.push(t[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return Rf(e.T,t);case"enum":return Ig(e.T,t,n.enumAsInteger);case"message":return uP(e.T,t).toJson(n)}}function Ig(e,t,n){var r;if(Gt(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const i=e.findNumber(t);return(r=i?.name)!==null&&r!==void 0?r:t}function Rf(e,t){switch(e){case te.INT32:case te.SFIXED32:case te.SINT32:case te.FIXED32:case te.UINT32:return Gt(typeof t=="number"),t;case te.FLOAT:case te.DOUBLE:return Gt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case te.STRING:return Gt(typeof t=="string"),t;case te.BOOL:return Gt(typeof t=="boolean"),t;case te.UINT64:case te.FIXED64:case te.INT64:case te.SFIXED64:case te.SINT64:return Gt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case te.BYTES:return Gt(t instanceof Uint8Array),sP.enc(t)}}const Ba=Symbol("@bufbuild/protobuf/unknown-fields"),sw={readUnknownFields:!0,readerFactory:e=>new L7(e)},aw={writeUnknownFields:!0,writerFactory:()=>new M7};function W7(e){return e?Object.assign(Object.assign({},sw),e):sw}function H7(e){return e?Object.assign(Object.assign({},aw),e):aw}function G7(){return{makeReadOptions:W7,makeWriteOptions:H7,listUnknownFields(e){var t;return(t=e[Ba])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[Ba]},writeUnknownFields(e,t){const r=e[Ba];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[Ba])||(i[Ba]=[]),i[Ba].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){const o=e.getType(),s=i?t.len:t.pos+n;let l,u;for(;t.pos<s&&([l,u]=t.tag(),!(i===!0&&u==Yt.EndGroup));){const d=o.fields.find(l);if(!d){const h=t.skip(u,l);r.readUnknownFields&&this.onUnknownField(e,l,u,h);continue}lw(e,t,d,u,r)}if(i&&(u!=Yt.EndGroup||l!==n))throw new Error("invalid end group tag")},readField:lw,writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){if(!cP(i,e)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const o=i.oneof?e[i.oneof.localName].value:e[i.localName];cw(i,o,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){t!==void 0&&cw(e,t,n,r)}}}function lw(e,t,n,r,i){let{repeated:o,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const l=n.kind=="enum"?te.INT32:n.T;let u=yh;if(n.kind=="scalar"&&n.L>0&&(u=K7),o){let m=e[s];if(r==Yt.LengthDelimited&&l!=te.STRING&&l!=te.BYTES){let C=t.uint32()+t.pos;for(;t.pos<C;)m.push(u(t,l))}else m.push(u(t,l))}else e[s]=u(t,l);break;case"message":const d=n.T;o?e[s].push(If(t,new d,i,n)):Gs(e[s])?If(t,e[s],i,n):(e[s]=If(t,new d,i,n),d.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=d.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,p]=q7(n,t,i);e[s][h]=p;break}}function If(e,t,n,r){const i=t.getType().runtime.bin,o=r?.delimited;return i.readMessage(t,e,o?r.no:e.uint32(),n,o),t}function q7(e,t,n){const r=t.uint32(),i=t.pos+r;let o,s;for(;t.pos<i;){const[l]=t.tag();switch(l){case 1:o=yh(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=yh(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=If(t,new e.V.T,n,void 0);break}break}}if(o===void 0&&(o=Nl(e.K,ds.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Nl(e.V.T,ds.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[o,s]}function K7(e,t){const n=yh(e,t);return typeof n=="bigint"?n.toString():n}function yh(e,t){switch(t){case te.STRING:return e.string();case te.BOOL:return e.bool();case te.DOUBLE:return e.double();case te.FLOAT:return e.float();case te.INT32:return e.int32();case te.INT64:return e.int64();case te.UINT64:return e.uint64();case te.FIXED64:return e.fixed64();case te.BYTES:return e.bytes();case te.FIXED32:return e.fixed32();case te.SFIXED32:return e.sfixed32();case te.SFIXED64:return e.sfixed64();case te.SINT64:return e.sint64();case te.UINT32:return e.uint32();case te.SINT32:return e.sint32()}}function cw(e,t,n,r){Gt(t!==void 0);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let o=e.kind=="enum"?te.INT32:e.T;if(i)if(Gt(Array.isArray(t)),e.packed)Q7(n,o,e.no,t);else for(const s of t)nu(n,o,e.no,s);else nu(n,o,e.no,t);break;case"message":if(i){Gt(Array.isArray(t));for(const s of t)uw(n,r,e,s)}else uw(n,r,e,t);break;case"map":Gt(typeof t=="object"&&t!=null);for(const[s,l]of Object.entries(t))J7(n,r,e,s,l);break}}function J7(e,t,n,r,i){e.tag(n.no,Yt.LengthDelimited),e.fork();let o=r;switch(n.K){case te.INT32:case te.FIXED32:case te.UINT32:case te.SFIXED32:case te.SINT32:o=Number.parseInt(r);break;case te.BOOL:Gt(r=="true"||r=="false"),o=r=="true";break}switch(nu(e,n.K,1,o),n.V.kind){case"scalar":nu(e,n.V.T,2,i);break;case"enum":nu(e,te.INT32,2,i);break;case"message":Gt(i!==void 0),e.tag(2,Yt.LengthDelimited).bytes(i.toBinary(t));break}e.join()}function uw(e,t,n,r){const i=uP(n.T,r);n.delimited?e.tag(n.no,Yt.StartGroup).raw(i.toBinary(t)).tag(n.no,Yt.EndGroup):e.tag(n.no,Yt.LengthDelimited).bytes(i.toBinary(t))}function nu(e,t,n,r){Gt(r!==void 0);let[i,o]=dP(t);e.tag(n,i)[o](r)}function Q7(e,t,n,r){if(!r.length)return;e.tag(n,Yt.LengthDelimited).fork();let[,i]=dP(t);for(let o=0;o<r.length;o++)e[i](r[o]);e.join()}function dP(e){let t=Yt.Varint;switch(e){case te.BYTES:case te.STRING:t=Yt.LengthDelimited;break;case te.DOUBLE:case te.FIXED64:case te.SFIXED64:t=Yt.Bit64;break;case te.FIXED32:case te.SFIXED32:case te.FLOAT:t=Yt.Bit32;break}const n=te[e].toLowerCase();return[t,n]}function Y7(){return{setEnumType:Zx,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const i=r.localName,o=t,s=e;if(s[i]!=null)switch(r.kind){case"oneof":const l=s[i].case;if(l===void 0)continue;const u=r.findField(l);let d=s[i].value;u&&u.kind=="message"&&!Gs(d,u.T)?d=new u.T(d):u&&u.kind==="scalar"&&u.T===te.BYTES&&(d=Rc(d)),o[i]={case:l,value:d};break;case"scalar":case"enum":let h=s[i];r.T===te.BYTES&&(h=r.repeated?h.map(Rc):Rc(h)),o[i]=h;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===te.BYTES)for(const[y,C]of Object.entries(s[i]))o[i][y]=Rc(C);else Object.assign(o[i],s[i]);break;case"message":const m=r.V.T;for(const y of Object.keys(s[i])){let C=s[i][y];m.fieldWrapper||(C=new m(C)),o[i][y]=C}break}break;case"message":const p=r.T;if(r.repeated)o[i]=s[i].map(m=>Gs(m,p)?m:new p(m));else{const m=s[i];p.fieldWrapper?p.typeName==="google.protobuf.BytesValue"?o[i]=Rc(m):o[i]=m:o[i]=Gs(m,p)?m:new p(m)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{const i=t[r.localName],o=n[r.localName];if(r.repeated){if(i.length!==o.length)return!1;switch(r.kind){case"message":return i.every((s,l)=>r.T.equals(s,o[l]));case"scalar":return i.every((s,l)=>zo(r.T,s,o[l]));case"enum":return i.every((s,l)=>zo(te.INT32,s,o[l]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":return r.T.equals(i,o);case"enum":return zo(te.INT32,i,o);case"scalar":return zo(r.T,i,o);case"oneof":if(i.case!==o.case)return!1;const s=r.findField(i.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(i.value,o.value);case"enum":return zo(te.INT32,i.value,o.value);case"scalar":return zo(s.T,i.value,o.value)}throw new Error("oneof cannot contain ".concat(s.kind));case"map":const l=Object.keys(i).concat(Object.keys(o));switch(r.V.kind){case"message":const u=r.V.T;return l.every(h=>u.equals(i[h],o[h]));case"enum":return l.every(h=>zo(te.INT32,i[h],o[h]));case"scalar":const d=r.V.T;return l.every(h=>zo(d,i[h],o[h]))}break}})},clone(e){const t=e.getType(),n=new t,r=n;for(const i of t.fields.byMember()){const o=e[i.localName];let s;if(i.repeated)s=o.map(sf);else if(i.kind=="map"){s=r[i.localName];for(const[l,u]of Object.entries(o))s[l]=sf(u)}else i.kind=="oneof"?s=i.findField(o.case)?{case:o.case,value:sf(o.value)}:{case:void 0}:s=sf(o);r[i.localName]=s}for(const i of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function sf(e){if(e===void 0)return e;if(Gs(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Rc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function X7(e,t,n){return{syntax:e,json:z7(),bin:G7(),util:Object.assign(Object.assign({},Y7()),{newFieldList:t,initFields:n}),makeMessageType(r,i,o){return _7(this,r,i,o)},makeEnum:E7,makeEnumType:eP,getEnumType:T7,makeExtension(r,i,o){return A7(this,r,i,o)}}}class Z7{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function fP(e,t){const n=hP(e);return t?n:oF(iF(n))}function eF(e){return fP(e,!1)}const tF=hP;function hP(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const nF=new Set(["constructor","toString","toJSON","valueOf"]),rF=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),pP=e=>"".concat(e,"$"),iF=e=>rF.has(e)?pP(e):e,oF=e=>nF.has(e)?pP(e):e;class sF{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=eF(t)}addField(t){Gt(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function aF(e,t){var n,r,i,o,s,l;const u=[];let d;for(const h of typeof e=="function"?e():e){const p=h;if(p.localName=fP(h.name,h.oneof!==void 0),p.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:tF(h.name),p.repeated=(r=h.repeated)!==null&&r!==void 0?r:!1,h.kind=="scalar"&&(p.L=(i=h.L)!==null&&i!==void 0?i:ds.BIGINT),p.delimited=(o=h.delimited)!==null&&o!==void 0?o:!1,p.req=(s=h.req)!==null&&s!==void 0?s:!1,p.opt=(l=h.opt)!==null&&l!==void 0?l:!1,h.packed===void 0&&(p.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=te.BYTES&&h.T!=te.STRING),h.oneof!==void 0){const m=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!d||d.name!=m)&&(d=new sF(m)),p.oneof=d,d.addField(p)}u.push(p)}return u}const J=X7("proto3",e=>new Z7(e,t=>aF(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Nl(t.T,t.L);break}}});class nr extends Zy{constructor(t){super(),this.seconds=Ut.zero,this.nanos=0,J.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(J.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ut.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return nr.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new nr({seconds:Ut.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new nr().fromBinary(t,n)}static fromJson(t,n){return new nr().fromJson(t,n)}static fromJsonString(t,n){return new nr().fromJsonString(t,n)}static equals(t,n){return J.util.equals(nr,t,n)}}nr.runtime=J;nr.typeName="google.protobuf.Timestamp";nr.fields=J.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const lF=J.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:nr},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:cF,repeated:!0},{no:5,name:"events",kind:"message",T:dF,repeated:!0}]),cF=J.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:uF,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),uF=J.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:nr},{no:3,name:"value",kind:"scalar",T:2}]),dF=J.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:nr},{no:7,name:"normalized_end_timestamp",kind:"message",T:nr,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),gi=J.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),Dn=J.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),t1=J.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),jc=J.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),Pu=J.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),gl=J.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"}]),Va=J.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),fF=J.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),Ai=J.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"}]),n1=J.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:bh,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:SP}]),bh=J.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),hF=J.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:J.getEnumType(Dn),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Ru=J.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:J.getEnumType(e0)},{no:4,name:"tracks",kind:"message",T:ll,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:hF},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:J.getEnumType(kh)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:J.getEnumType(gl)}]),e0=J.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),kh=J.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),Wr=J.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),pF=J.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:qs,repeated:!0}]),ll=J.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:J.getEnumType(gi)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:J.getEnumType(Dn)},{no:10,name:"layers",kind:"message",T:qs,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:pF,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:J.getEnumType(Wr)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:SP},{no:19,name:"audio_features",kind:"enum",T:J.getEnumType(Ai),repeated:!0}]),qs=J.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:J.getEnumType(t1)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]),$c=J.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:J.getEnumType(cn)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:gP,oneof:"value"},{no:3,name:"speaker",kind:"message",T:mF,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:vP,oneof:"value"},{no:7,name:"transcription",kind:"message",T:gF,oneof:"value"},{no:8,name:"metrics",kind:"message",T:lF,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:t0,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:yF,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:bF,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:kF,oneof:"value"}]),cn=J.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),mF=J.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:mP,repeated:!0}]),mP=J.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),gP=J.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0}]),vP=J.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),gF=J.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:vF,repeated:!0}]),vF=J.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),t0=J.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),yF=J.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),bF=J.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),kF=J.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:CF,oneof:"value"}]),CF=J.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),yP=J.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),SF=J.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:J.getEnumType(bP)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),bP=J.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),wF=J.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:J.getEnumType(kP)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),kP=J.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"}]),CP=J.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:dw},{no:2,name:"screen",kind:"message",T:dw},{no:3,name:"resume_connection",kind:"enum",T:J.getEnumType(Pu)},{no:4,name:"disabled_codecs",kind:"message",T:TF},{no:5,name:"force_relay",kind:"enum",T:J.getEnumType(Pu)}]),dw=J.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:J.getEnumType(Pu)}]),TF=J.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:bh,repeated:!0},{no:2,name:"publish",kind:"message",T:bh,repeated:!0}]),SP=J.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),vi=J.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),n0=J.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),EF=J.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),_F=J.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:ia,oneof:"message"},{no:2,name:"answer",kind:"message",T:ia,oneof:"message"},{no:3,name:"trickle",kind:"message",T:r1,oneof:"message"},{no:4,name:"add_track",kind:"message",T:i0,oneof:"message"},{no:5,name:"mute",kind:"message",T:i1,oneof:"message"},{no:6,name:"subscription",kind:"message",T:ap,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:wP,oneof:"message"},{no:8,name:"leave",kind:"message",T:lp,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:EP,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:RP,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:IP,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Oi,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:_P,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:MP,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:TP,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:OF,oneof:"message"}]),fw=J.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:xF,oneof:"message"},{no:2,name:"answer",kind:"message",T:ia,oneof:"message"},{no:3,name:"offer",kind:"message",T:ia,oneof:"message"},{no:4,name:"trickle",kind:"message",T:r1,oneof:"message"},{no:5,name:"update",kind:"message",T:IF,oneof:"message"},{no:6,name:"track_published",kind:"message",T:o1,oneof:"message"},{no:8,name:"leave",kind:"message",T:lp,oneof:"message"},{no:9,name:"mute",kind:"message",T:i1,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:MF,oneof:"message"},{no:11,name:"room_update",kind:"message",T:LF,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:NF,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:UF,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:jF,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:$F,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:RF,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:PF,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:zF,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:WF,oneof:"message"},{no:22,name:"request_response",kind:"message",T:HF,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:GF,oneof:"message"}]),r0=J.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),i0=J.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:J.getEnumType(gi)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:J.getEnumType(Dn)},{no:9,name:"layers",kind:"message",T:qs,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:r0,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:J.getEnumType(Wr)},{no:15,name:"stream",kind:"scalar",T:9}]),r1=J.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:J.getEnumType(vi)},{no:3,name:"final",kind:"scalar",T:8}]),i1=J.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),xF=J.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:n1},{no:2,name:"participant",kind:"message",T:Ru},{no:3,name:"other_participants",kind:"message",T:Ru,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:xP,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:CP},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:SF},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:bh,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),PF=J.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:xP,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:CP}]),o1=J.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:ll}]),RF=J.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),ia=J.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]),IF=J.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Ru,repeated:!0}]),ap=J.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:yP,repeated:!0}]),wP=J.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:J.getEnumType(t1)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),TP=J.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:J.getEnumType(Ai),repeated:!0}]),OF=J.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),lp=J.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:J.getEnumType(gl)},{no:3,name:"action",kind:"enum",T:J.getEnumType(vl)},{no:4,name:"regions",kind:"message",T:BF}]),vl=J.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),EP=J.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:qs,repeated:!0}]),_P=J.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),xP=J.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),MF=J.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:mP,repeated:!0}]),LF=J.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:n1}]),AF=J.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:J.getEnumType(jc)},{no:3,name:"score",kind:"scalar",T:2}]),NF=J.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:AF,repeated:!0}]),DF=J.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:J.getEnumType(n0)}]),UF=J.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:DF,repeated:!0}]),s1=J.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:J.getEnumType(t1)},{no:2,name:"enabled",kind:"scalar",T:8}]),FF=J.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:s1,repeated:!0}]),jF=J.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:s1,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:FF,repeated:!0}]),PP=J.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),RP=J.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:PP,repeated:!0}]),$F=J.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),IP=J.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:ia},{no:2,name:"subscription",kind:"message",T:ap},{no:3,name:"publish_tracks",kind:"message",T:o1,repeated:!0},{no:4,name:"data_channels",kind:"message",T:OP,repeated:!0},{no:5,name:"offer",kind:"message",T:ia},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0}]),OP=J.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:J.getEnumType(vi)}]),Oi=J.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:J.getEnumType(EF),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),MP=J.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),zF=J.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),BF=J.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:VF,repeated:!0}]),VF=J.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),WF=J.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:J.getEnumType(fF)}]),HF=J.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:J.getEnumType(LP)},{no:3,name:"message",kind:"scalar",T:9}]),LP=J.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),GF=J.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);function qF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Of={exports:{}},KF=Of.exports,hw;function JF(){return hw||(hw=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(KF,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function l(k,T){var v=k[T];if(typeof v.bind=="function")return v.bind(k);try{return Function.prototype.bind.call(v,k)}catch{return function(){return Function.prototype.apply.apply(v,[k,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(k){return k==="debug"&&(k="log"),typeof console===n?!1:k==="trace"&&r?u:console[k]!==void 0?l(console,k):console.log!==void 0?l(console,"log"):t}function h(){for(var k=this.getLevel(),T=0;T<i.length;T++){var v=i[T];this[v]=T<k?t:this.methodFactory(v,k,this.name)}if(this.log=this.debug,typeof console===n&&k<this.levels.SILENT)return"No console available for logging"}function p(k){return function(){typeof console!==n&&(h.call(this),this[k].apply(this,arguments))}}function m(k,T,v){return d(k)||p.apply(this,arguments)}function y(k,T){var v=this,w,P,E,I="loglevel";typeof k=="string"?I+=":"+k:typeof k=="symbol"&&(I=void 0);function M(V){var q=(i[V]||"silent").toUpperCase();if(!(typeof window===n||!I)){try{window.localStorage[I]=q;return}catch{}try{window.document.cookie=encodeURIComponent(I)+"="+q+";"}catch{}}}function N(){var V;if(!(typeof window===n||!I)){try{V=window.localStorage[I]}catch{}if(typeof V===n)try{var q=window.document.cookie,ve=encodeURIComponent(I),he=q.indexOf(ve+"=");he!==-1&&(V=/^([^;]+)/.exec(q.slice(he+ve.length+1))[1])}catch{}return v.levels[V]===void 0&&(V=void 0),V}}function _(){if(!(typeof window===n||!I)){try{window.localStorage.removeItem(I)}catch{}try{window.document.cookie=encodeURIComponent(I)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function z(V){var q=V;if(typeof q=="string"&&v.levels[q.toUpperCase()]!==void 0&&(q=v.levels[q.toUpperCase()]),typeof q=="number"&&q>=0&&q<=v.levels.SILENT)return q;throw new TypeError("log.setLevel() called with invalid level: "+V)}v.name=k,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=T||m,v.getLevel=function(){return E??P??w},v.setLevel=function(V,q){return E=z(V),q!==!1&&M(E),h.call(v)},v.setDefaultLevel=function(V){P=z(V),N()||v.setLevel(V,!1)},v.resetLevel=function(){E=null,_(),h.call(v)},v.enableAll=function(V){v.setLevel(v.levels.TRACE,V)},v.disableAll=function(V){v.setLevel(v.levels.SILENT,V)},v.rebuild=function(){if(s!==v&&(w=z(s.getLevel())),h.call(v),s===v)for(var V in o)o[V].rebuild()},w=z(s?s.getLevel():"WARN");var F=N();F!=null&&(E=z(F)),h.call(v)}s=new y,s.getLogger=function(T){if(typeof T!="symbol"&&typeof T!="string"||T==="")throw new TypeError("You must supply a name when creating a logger.");var v=o[T];return v||(v=o[T]=new y(T,s.methodFactory)),v};var C=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=C),s},s.getLoggers=function(){return o},s.default=s,s})}(Of)),Of.exports}var cp=JF(),o0;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(o0||(o0={}));var Si;(function(e){e.Default="livekit",e.Room="livekit-room",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"})(Si||(Si={}));let Je=cp.getLogger("livekit");Object.values(Si).map(e=>cp.getLogger(e));Je.setDefaultLevel(o0.info);function yo(e){const t=cp.getLogger(e);return t.setDefaultLevel(Je.getLevel()),t}const QF=cp.getLogger("lk-e2ee"),Ic=7e3,YF=[0,300,2*2*300,3*3*300,4*4*300,Ic,Ic,Ic,Ic,Ic];class XF{constructor(t){this._retryDelays=t!==void 0?[...t]:YF}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function D(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function pw(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ka(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pw=="function"?pw(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,u){s=e[o](s),i(l,u,s.done,s.value)})}}function i(o,s,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},s)}}var af={exports:{}},mw;function ZF(){if(mw)return af.exports;mw=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(I,M,N){return Function.prototype.apply.call(I,M,N)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:n=function(I){return Object.getOwnPropertyNames(I)};function r(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(I){return I!==I};function o(){o.init.call(this)}af.exports=o,af.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function l(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");s=E}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function u(E){return E._maxListeners===void 0?o.defaultMaxListeners:E._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(I){for(var M=[],N=1;N<arguments.length;N++)M.push(arguments[N]);var _=I==="error",z=this._events;if(z!==void 0)_=_&&z.error===void 0;else if(!_)return!1;if(_){var F;if(M.length>0&&(F=M[0]),F instanceof Error)throw F;var V=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw V.context=F,V}var q=z[I];if(q===void 0)return!1;if(typeof q=="function")t(q,this,M);else for(var ve=q.length,he=C(q,ve),N=0;N<ve;++N)t(he[N],this,M);return!0};function d(E,I,M,N){var _,z,F;if(l(M),z=E._events,z===void 0?(z=E._events=Object.create(null),E._eventsCount=0):(z.newListener!==void 0&&(E.emit("newListener",I,M.listener?M.listener:M),z=E._events),F=z[I]),F===void 0)F=z[I]=M,++E._eventsCount;else if(typeof F=="function"?F=z[I]=N?[M,F]:[F,M]:N?F.unshift(M):F.push(M),_=u(E),_>0&&F.length>_&&!F.warned){F.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=E,V.type=I,V.count=F.length,r(V)}return E}o.prototype.addListener=function(I,M){return d(this,I,M,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(I,M){return d(this,I,M,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(E,I,M){var N={fired:!1,wrapFn:void 0,target:E,type:I,listener:M},_=h.bind(N);return _.listener=M,N.wrapFn=_,_}o.prototype.once=function(I,M){return l(M),this.on(I,p(this,I,M)),this},o.prototype.prependOnceListener=function(I,M){return l(M),this.prependListener(I,p(this,I,M)),this},o.prototype.removeListener=function(I,M){var N,_,z,F,V;if(l(M),_=this._events,_===void 0)return this;if(N=_[I],N===void 0)return this;if(N===M||N.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete _[I],_.removeListener&&this.emit("removeListener",I,N.listener||M));else if(typeof N!="function"){for(z=-1,F=N.length-1;F>=0;F--)if(N[F]===M||N[F].listener===M){V=N[F].listener,z=F;break}if(z<0)return this;z===0?N.shift():k(N,z),N.length===1&&(_[I]=N[0]),_.removeListener!==void 0&&this.emit("removeListener",I,V||M)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(I){var M,N,_;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[I]),this;if(arguments.length===0){var z=Object.keys(N),F;for(_=0;_<z.length;++_)F=z[_],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=N[I],typeof M=="function")this.removeListener(I,M);else if(M!==void 0)for(_=M.length-1;_>=0;_--)this.removeListener(I,M[_]);return this};function m(E,I,M){var N=E._events;if(N===void 0)return[];var _=N[I];return _===void 0?[]:typeof _=="function"?M?[_.listener||_]:[_]:M?T(_):C(_,_.length)}o.prototype.listeners=function(I){return m(this,I,!0)},o.prototype.rawListeners=function(I){return m(this,I,!1)},o.listenerCount=function(E,I){return typeof E.listenerCount=="function"?E.listenerCount(I):y.call(E,I)},o.prototype.listenerCount=y;function y(E){var I=this._events;if(I!==void 0){var M=I[E];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function C(E,I){for(var M=new Array(I),N=0;N<I;++N)M[N]=E[N];return M}function k(E,I){for(;I+1<E.length;I++)E[I]=E[I+1];E.pop()}function T(E){for(var I=new Array(E.length),M=0;M<I.length;++M)I[M]=E[M].listener||E[M];return I}function v(E,I){return new Promise(function(M,N){function _(F){E.removeListener(I,z),N(F)}function z(){typeof E.removeListener=="function"&&E.removeListener("error",_),M([].slice.call(arguments))}P(E,I,z,{once:!0}),I!=="error"&&w(E,_,{once:!0})})}function w(E,I,M){typeof E.on=="function"&&P(E,"error",I,M)}function P(E,I,M,N){if(typeof E.on=="function")N.once?E.once(I,M):E.on(I,M);else if(typeof E.addEventListener=="function")E.addEventListener(I,function _(z){N.once&&E.removeEventListener(I,_),M(z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return af.exports}var Hi=ZF();let AP=!0,NP=!0;function Mf(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function fa(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const u=d=>{const h=n(d);h&&(l.handleEvent?l.handleEvent(h):l(h))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,u),i.apply(this,[s,u])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const u=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,u])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function ej(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(AP=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function tj(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(NP=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function DP(){if(typeof window=="object"){if(AP)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function a1(e,t){NP&&console.warn(e+" is deprecated, please use "+t+" instead.")}function nj(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=Mf(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Mf(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Mf(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function gw(e){return Object.prototype.toString.call(e)==="[object Object]"}function UP(e){return gw(e)?Object.keys(e).reduce(function(t,n){const r=gw(e[n]),i=r?UP(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function s0(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?s0(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{s0(e,e.get(i),n)})}))}function vw(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===r&&l.trackId===s.id&&s0(e,l,i)})}),i}const yw=DP;function FP(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const u={};return Object.keys(l).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const h=typeof l[d]=="object"?l[d]:{ideal:l[d]};h.exact!==void 0&&typeof h.exact=="number"&&(h.min=h.max=h.exact);const p=function(m,y){return m?m+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(h.ideal!==void 0){u.optional=u.optional||[];let m={};typeof h.ideal=="number"?(m[p("min",d)]=h.ideal,u.optional.push(m),m={},m[p("max",d)]=h.ideal,u.optional.push(m)):(m[p("",d)]=h.ideal,u.optional.push(m))}h.exact!==void 0&&typeof h.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[p("",d)]=h.exact):["min","max"].forEach(m=>{h[m]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[p(m,d)]=h[m])})}),l.advanced&&(u.optional=(u.optional||[]).concat(l.advanced)),u},i=function(l,u){if(t.version>=61)return u(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const d=function(h,p,m){p in h&&!(m in h)&&(h[m]=h[p],delete h[p])};l=JSON.parse(JSON.stringify(l)),d(l.audio,"autoGainControl","googAutoGainControl"),d(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let d=l.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const h=t.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!h)){delete l.video.facingMode;let p;if(d.exact==="environment"||d.ideal==="environment"?p=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(p=["front"]),p)return n.mediaDevices.enumerateDevices().then(m=>{m=m.filter(C=>C.kind==="videoinput");let y=m.find(C=>p.some(k=>C.label.toLowerCase().includes(k)));return!y&&m.length&&p.includes("back")&&(y=m[m.length-1]),y&&(l.video.deviceId=d.exact?{exact:y.deviceId}:{ideal:y.deviceId}),l.video=r(l.video),yw("chrome: "+JSON.stringify(l)),u(l)})}l.video=r(l.video)}return yw("chrome: "+JSON.stringify(l)),u(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,u,d){i(l,h=>{n.webkitGetUserMedia(h,u,p=>{d&&d(o(p))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(u){return i(u,d=>l(d).then(h=>{if(d.audio&&!h.getAudioTracks().length||d.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return h},h=>Promise.reject(o(h))))}}}function jP(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function $P(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else fa(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function zP(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,u){let d=i.apply(this,arguments);return d||(d=t(this,l),this._senders.push(d)),d};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const u=this._senders.indexOf(l);u!==-1&&this._senders.splice(u,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(u=>u.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function BP(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>vw(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),fa(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>vw(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function VP(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(u)===-1&&this._shimmedLocalStreams[l.id].push(u):this._shimmedLocalStreams[l.id]=[l,u],u};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(d=>{if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const u=this.getSenders().filter(d=>l.indexOf(d)===-1);this._shimmedLocalStreams[s.id]=[s].concat(u)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const u=this._shimmedLocalStreams[l].indexOf(s);u!==-1&&this._shimmedLocalStreams[l].splice(u,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function WP(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return VP(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const h=n.apply(this);return this._reverseStreams=this._reverseStreams||{},h.map(p=>this._reverseStreams[p.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(h){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.getTracks().forEach(p=>{if(this.getSenders().find(y=>y.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[h.id]){const p=new e.MediaStream(h.getTracks());this._streams[h.id]=p,this._reverseStreams[p.id]=h,h=p}r.apply(this,[h])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(h){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[h.id]||h]),delete this._reverseStreams[this._streams[h.id]?this._streams[h.id].id:h.id],delete this._streams[h.id]},e.RTCPeerConnection.prototype.addTrack=function(h,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const m=[].slice.call(arguments,1);if(m.length!==1||!m[0].getTracks().find(k=>k===h))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(k=>k.track===h))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[p.id];if(C)C.addTrack(h),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const k=new e.MediaStream([h]);this._streams[p.id]=k,this._reverseStreams[k.id]=p,this.addStream(k)}return this.getSenders().find(k=>k.track===h)};function o(d,h){let p=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(m=>{const y=d._reverseStreams[m],C=d._streams[y.id];p=p.replace(new RegExp(C.id,"g"),y.id)}),new RTCSessionDescription({type:h.type,sdp:p})}function s(d,h){let p=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(m=>{const y=d._reverseStreams[m],C=d._streams[y.id];p=p.replace(new RegExp(y.id,"g"),C.id)}),new RTCSessionDescription({type:h.type,sdp:p})}["createOffer","createAnswer"].forEach(function(d){const h=e.RTCPeerConnection.prototype[d],p={[d](){const m=arguments;return arguments.length&&typeof arguments[0]=="function"?h.apply(this,[C=>{const k=o(this,C);m[0].apply(null,[k])},C=>{m[1]&&m[1].apply(null,C)},arguments[2]]):h.apply(this,arguments).then(C=>o(this,C))}};e.RTCPeerConnection.prototype[d]=p[d]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const d=u.get.apply(this);return d.type===""?d:o(this,d)}}),e.RTCPeerConnection.prototype.removeTrack=function(h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!h._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(h._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let m;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(k=>h.track===k)&&(m=this._streams[y])}),m&&(m.getTracks().length===1?this.removeStream(this._reverseStreams[m.id]):m.removeTrack(h.track),this.dispatchEvent(new Event("negotiationneeded")))}}function a0(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function HP(e,t){fa(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var bw=Object.freeze({__proto__:null,fixNegotiationNeeded:HP,shimAddTrackRemoveTrack:WP,shimAddTrackRemoveTrackWithNative:VP,shimGetSendersWithDtmf:zP,shimGetUserMedia:FP,shimMediaStream:jP,shimOnTrack:$P,shimPeerConnection:a0,shimSenderReceiverGetStats:BP});function GP(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){a1("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,u){l in s&&!(u in s)&&(s[u]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function rj(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function qP(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function l0(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(u=>{if(t.version<53&&!s)try{u.forEach(d=>{d.type=n[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;u.forEach((h,p)=>{u.set(p,Object.assign({},h,{type:n[h.type]||h.type}))})}return u}).then(s,l)}}function KP(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function JP(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),fa(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function QP(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){a1("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function YP(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function XP(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function ZP(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function e2(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function t2(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var kw=Object.freeze({__proto__:null,shimAddTransceiver:XP,shimCreateAnswer:t2,shimCreateOffer:e2,shimGetDisplayMedia:rj,shimGetParameters:ZP,shimGetUserMedia:GP,shimOnTrack:qP,shimPeerConnection:l0,shimRTCDataChannel:YP,shimReceiverGetStats:JP,shimRemoveStream:QP,shimSenderGetStats:KP});function n2(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o&&o.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function r2(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function i2(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(d,h){const p=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[p]);return h?(m.then(d,h),Promise.resolve()):m},t.createAnswer=function(d,h){const p=arguments.length>=2?arguments[2]:arguments[0],m=r.apply(this,[p]);return h?(m.then(d,h),Promise.resolve()):m};let l=function(u,d,h){const p=i.apply(this,[u]);return h?(p.then(d,h),Promise.resolve()):p};t.setLocalDescription=l,l=function(u,d,h){const p=o.apply(this,[u]);return h?(p.then(d,h),Promise.resolve()):p},t.setRemoteDescription=l,l=function(u,d,h){const p=s.apply(this,[u]);return h?(p.then(d,h),Promise.resolve()):p},t.addIceCandidate=l}function o2(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(s2(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function s2(e){return e&&e.video!==void 0?Object.assign({},e,{video:UP(e.video)}):e}function a2(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];l.urls===void 0&&l.url?(a1("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function l2(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function c2(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function u2(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Cw=Object.freeze({__proto__:null,shimAudioContext:u2,shimCallbacksAPI:i2,shimConstraints:s2,shimCreateOfferLegacy:c2,shimGetUserMedia:o2,shimLocalStreamsAPI:n2,shimRTCIceServerUrls:a2,shimRemoteStreamsAPI:r2,shimTrackEventTransceiver:l2}),Og={exports:{}},Sw;function ij(){return Sw||(Sw=1,function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let l=3;l<o.length;l++){const u=o[l],d=t.matchPrefix(n,"a=rtpmap:"+u+" ")[0];if(d){const h=t.parseRtpMap(d),p=t.matchPrefix(n,"a=fmtp:"+u+" ");switch(h.parameters=p.length?t.parseFmtp(p[0]):{},h.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+u+" ").map(t.parseRtcpFb),r.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(h.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(l=>{r.headerExtensions.push(t.parseExtmap(l))});const s=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(l=>{s.forEach(u=>{l.rtcpFeedback.find(h=>h.type===u.type&&h.parameter===u.parameter)||l.rtcpFeedback.push(u)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});let o=0;return r.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(m=>t.parseSsrcMedia(m)).filter(m=>m.attribute==="cname"),u=l.length>0&&l[0].ssrc;let d;const h=t.matchPrefix(n,"a=ssrc-group:FID").map(m=>m.substring(17).split(" ").map(C=>parseInt(C,10)));h.length>0&&h[0].length>1&&h[0][0]===u&&(d=h[0][1]),i.codecs.forEach(m=>{if(m.name.toUpperCase()==="RTX"&&m.parameters.apt){let y={ssrc:u,codecPayloadType:parseInt(m.parameters.apt,10)};u&&d&&(y.rtx={ssrc:d}),r.push(y),o&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:u,mechanism:s?"red+ulpfec":"red"},r.push(y))}}),r.length===0&&u&&r.push({ssrc:u});let p=t.matchPrefix(n,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,r.forEach(m=>{m.maxBitrate=p})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){const u=l[0].substring(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let o;const s=r!==void 0?r:2;return n?o=n:o=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t}(Og)),Og.exports}var d2=ij(),yl=qF(d2),oj=y7({__proto__:null,default:yl},[d2]);function Lf(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),o=yl.parseCandidate(r.candidate);for(const s in o)s in i||Object.defineProperty(i,s,{value:o[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,fa(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function c0(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||fa(e,"icecandidate",t=>{if(t.candidate){const n=yl.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Af(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const u=yl.splitSections(l.sdp);return u.shift(),u.some(d=>{const h=yl.parseMLine(d);return h&&h.kind==="application"&&h.protocol.indexOf("SCTP")!==-1})},r=function(l){const u=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const d=parseInt(u[1],10);return d!==d?-1:d},i=function(l){let u=65536;return t.browser==="firefox"&&(t.version<57?l===-1?u=16384:u=2147483637:t.version<60?u=t.version===57?65535:65536:u=2147483637),u},o=function(l,u){let d=65536;t.browser==="firefox"&&t.version===57&&(d=65535);const h=yl.matchPrefix(l.sdp,"a=max-message-size:");return h.length>0?d=parseInt(h[0].substring(19),10):t.browser==="firefox"&&u!==-1&&(d=2147483637),d},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const u=r(arguments[0]),d=i(u),h=o(arguments[0],u);let p;d===0&&h===0?p=Number.POSITIVE_INFINITY:d===0||h===0?p=Math.max(d,h):p=Math.min(d,h);const m={};Object.defineProperty(m,"maxMessageSize",{get(){return p}}),this._sctp=m}return s.apply(this,arguments)}}function Nf(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],u=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&u>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},fa(e,"datachannel",r=>(t(r.channel,r.target),r))}function u0(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function d0(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Df(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Uf(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var sj=Object.freeze({__proto__:null,removeExtmapAllowMixed:d0,shimAddIceCandidateNullOrEmpty:Df,shimConnectionState:u0,shimMaxMessageSize:Af,shimParameterlessSetLocalDescription:Uf,shimRTCIceCandidate:Lf,shimRTCIceCandidateRelayProtocol:c0,shimSendThrowTypeError:Nf});function aj(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=DP,r=nj(e),i={browserDetails:r,commonShim:sj,extractVersion:Mf,disableLog:ej,disableWarnings:tj,sdp:oj};switch(r.browser){case"chrome":if(!bw||!a0||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=bw,Df(e,r),Uf(e),FP(e,r),jP(e),a0(e,r),$P(e),WP(e,r),zP(e),BP(e),HP(e,r),Lf(e),c0(e),u0(e),Af(e,r),Nf(e),d0(e,r);break;case"firefox":if(!kw||!l0||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=kw,Df(e,r),Uf(e),GP(e,r),l0(e,r),qP(e),QP(e),KP(e),JP(e),YP(e),XP(e),ZP(e),e2(e),t2(e),Lf(e),u0(e),Af(e,r),Nf(e);break;case"safari":if(!Cw||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Cw,Df(e,r),Uf(e),a2(e),c2(e),i2(e),n2(e),r2(e),l2(e),o2(e),u2(e),Lf(e),c0(e),Af(e,r),Nf(e),d0(e,r);break;default:n("Unsupported browser!");break}return i}aj({window:typeof window>"u"?void 0:window});const lj=10,lf="lk_e2ee",cj="LKFrameEncryptionKey",uj={sharedKey:!1,ratchetSalt:cj,ratchetWindowSize:8,failureTolerance:lj,keyringSize:16};var ls;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(ls||(ls={}));var ww;(function(e){e.KeyRatcheted="keyRatcheted"})(ww||(ww={}));var Xo;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(Xo||(Xo={}));var Tw;(function(e){e.Error="cryptorError"})(Tw||(Tw={}));function dj(){return fj()||f0()}function f0(){return typeof window.RTCRtpScriptTransform<"u"}function fj(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}class UH extends Hi.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r)=>{Je.debug("key ratcheted event received",{material:n,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},uj),t),this.on(ls.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,r){const i={key:t,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(ls.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(ls.RatchetRequest,t,n)}}class ha extends Error{constructor(t,n){super(n||"an error has occured"),this.code=t}}var Fn;(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest"})(Fn||(Fn={}));class wt extends ha{constructor(t,n,r){super(1,t),this.status=r,this.reason=n}}class l1 extends ha{constructor(t){super(21,t??"device is unsupported")}}class Ni extends ha{constructor(t){super(20,t??"track is invalid")}}class hj extends ha{constructor(t){super(10,t??"unsupported server")}}class ln extends ha{constructor(t){super(12,t??"unexpected connection state")}}class h0 extends ha{constructor(t){super(13,t??"unable to negotiate")}}class Ew extends ha{constructor(t,n){super(15,t),this.reason=n}}var Iu;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(Iu||(Iu={}));(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(Iu||(Iu={}));var _w;(function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"})(_w||(_w={}));var K;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"})(K||(K={}));var Y;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage"})(Y||(Y={}));var de;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse"})(de||(de={}));var se;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate"})(se||(se={}));function c1(e,t,n){var r,i,o;t===void 0&&(t=50),n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,l=(i=n.callback)!=null&&i,u=n.maxWait,d=Date.now(),h=[];function p(){if(u!==void 0){var y=Date.now()-d;if(y+t>=u)return u-y}return t}var m=function(){var y=[].slice.call(arguments),C=this;return new Promise(function(k,T){var v=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,d=Date.now(),!s){var P=e.apply(C,y);l&&l(P),h.forEach(function(E){return(0,E.resolve)(P)}),h=[]}},p()),v){var w=e.apply(C,y);return l&&l(w),k(w)}h.push({resolve:k,reject:T})})};return m.cancel=function(y){o!==void 0&&clearTimeout(o),h.forEach(function(C){return(0,C.reject)(y)}),h=[]},m}const pj=/version\/(\d+(\.?_?\d+)+)/i;let Mg;function bo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e>"u"&&typeof navigator>"u")return;const n=(e??navigator.userAgent).toLowerCase();if(Mg===void 0||t){const r=mj.find(i=>{let{test:o}=i;return o.test(n)});Mg=r?.describe(n)}return Mg}const mj=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:Ff(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:Lg(e)}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:Ff(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:Lg(e)}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:Ff(pj,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:Lg(e)}}}];function Ff(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function Lg(e){return e.includes("mac os")?Ff(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}var gj="2.5.9";const vj=gj,yj=15;class En{}En.setTimeout=function(){return setTimeout(...arguments)};En.setInterval=function(){return setInterval(...arguments)};En.clearTimeout=function(){return clearTimeout(...arguments)};En.clearInterval=function(){return clearInterval(...arguments)};class pt{constructor(t,n,r,i,o){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else if(n!==void 0&&r!==void 0)this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:o};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const bj=["vp8","h264"],f2=["vp8","h264","vp9","av1"];function kj(e){return!!bj.find(t=>t===e)}var p0;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3},e.musicStereo={maxBitrate:48e3},e.musicHighQuality={maxBitrate:64e3},e.musicHighQualityStereo={maxBitrate:96e3}})(p0||(p0={}));const Ou={h90:new pt(160,90,9e4,20),h180:new pt(320,180,16e4,20),h216:new pt(384,216,18e4,20),h360:new pt(640,360,45e4,20),h540:new pt(960,540,8e5,25),h720:new pt(1280,720,17e5,30),h1080:new pt(1920,1080,3e6,30),h1440:new pt(2560,1440,5e6,30),h2160:new pt(3840,2160,8e6,30)},m0={h120:new pt(160,120,7e4,20),h180:new pt(240,180,125e3,20),h240:new pt(320,240,14e4,20),h360:new pt(480,360,33e4,20),h480:new pt(640,480,5e5,20),h540:new pt(720,540,6e5,25),h720:new pt(960,720,13e5,30),h1080:new pt(1440,1080,23e5,30),h1440:new pt(1920,1440,38e5,30)},u1={h360fps3:new pt(640,360,2e5,3,"medium"),h360fps15:new pt(640,360,4e5,15,"medium"),h720fps5:new pt(1280,720,8e5,5,"medium"),h720fps15:new pt(1280,720,15e5,15,"medium"),h720fps30:new pt(1280,720,2e6,30,"medium"),h1080fps15:new pt(1920,1080,25e5,15,"medium"),h1080fps30:new pt(1920,1080,5e6,30,"medium"),original:new pt(0,0,7e6,30,"medium")};function Cj(e){if(!(typeof e>"u"))return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Sj=5e3,Oc=[];var Jr;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(Jr||(Jr={}));class G extends Hi.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=G.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=Je,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),Sj):this.handleAppVisibilityChanged()},this.log=yo((i=r.loggerName)!==null&&i!==void 0?i:Si.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=G.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),kt(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===G.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===G.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Oc.forEach(o=>{o.parentElement===null&&!t&&(t=o)}),t&&Oc.splice(Oc.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),cl(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),i=r.some(o=>o.kind==="audio");return t.play().then(()=>{this.emit(i?se.AudioPlaybackStarted:se.VideoPlaybackStarted)}).catch(o=>{o.name==="NotAllowedError"?this.emit(i?se.AudioPlaybackFailed:se.VideoPlaybackFailed,o):o.name==="AbortError"?Je.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):Je.warn("could not playback ".concat(i?"audio":"video"),o),i&&t&&r.some(s=>s.kind==="video")&&o.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(se.ElementAttached,t),t}detach(t){try{if(t){bl(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(se.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{bl(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(se.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=yo(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Oc.forEach(r=>{r.parentElement||(n=!1)}),n&&Oc.push(t)}}handleAppVisibilityChanged(){return D(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===G.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){Sr()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Sr()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function cl(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let r;e.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(e)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(e)),(!oa()||!(t instanceof HTMLVideoElement))&&(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(oa()||Dl())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function bl(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(d){d.Audio="audio",d.Video="video",d.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(d){d.Camera="camera",d.Microphone="microphone",d.ScreenShare="screen_share",d.ScreenShareAudio="screen_share_audio",d.Unknown="unknown"})(n=e.Source||(e.Source={}));let r;(function(d){d.Active="active",d.Paused="paused",d.Unknown="unknown"})(r=e.StreamState||(e.StreamState={}));function i(d){switch(d){case t.Audio:return gi.AUDIO;case t.Video:return gi.VIDEO;default:return gi.DATA}}e.kindToProto=i;function o(d){switch(d){case gi.AUDIO:return t.Audio;case gi.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=o;function s(d){switch(d){case n.Camera:return Dn.CAMERA;case n.Microphone:return Dn.MICROPHONE;case n.ScreenShare:return Dn.SCREEN_SHARE;case n.ScreenShareAudio:return Dn.SCREEN_SHARE_AUDIO;default:return Dn.UNKNOWN}}e.sourceToProto=s;function l(d){switch(d){case Dn.CAMERA:return n.Camera;case Dn.MICROPHONE:return n.Microphone;case Dn.SCREEN_SHARE:return n.ScreenShare;case Dn.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=l;function u(d){switch(d){case n0.ACTIVE:return r.Active;case n0.PAUSED:return r.Paused;default:return r.Unknown}}e.streamStateFromProto=u})(G||(G={}));function h2(e,t,n){var r;const i=(r=Cj(e))!==null&&r!==void 0?r:{};return i.audio===!0&&(i.audio={}),i.video===!0&&(i.video={}),i.audio&&g0(i.audio,t),i.video&&g0(i.video,n),i}function g0(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function up(e){const t={};if(e.video)if(typeof e.video=="object"){const n={},r=n,i=e.video;Object.keys(i).forEach(o=>{switch(o){case"resolution":g0(r,i.resolution);break;default:r[o]=i[o]}}),t.video=n}else t.video=e.video;else t.video=!1;return e.audio?typeof e.audio=="object"?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function wj(e){return D(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=d1();if(r){const i=r.createAnalyser();i.fftSize=2048;const o=i.frequencyBinCount,s=new Uint8Array(o);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(i),yield zi(n),i.getByteTimeDomainData(s);const u=s.some(d=>d!==128&&d!==0);return r.close(),!u}return!1}()})}function d1(){const e=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(e)return new e({latencyHint:"interactive"})}function xw(e){return e===G.Source.Microphone?"audioinput":e===G.Source.Camera?"videoinput":void 0}function Tj(e){var t,n;let r=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(r=typeof r=="boolean"?{}:r,oa()?r=Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function jf(e){const t=e.split("/")[1].toLowerCase();if(!f2.includes(t))throw Error("Video codec not supported: ".concat(t));return t}function Ej(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new o1({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function kt(e){return e instanceof G?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?kt(e.track):{})}}function _j(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function xj(e,t){var n;e===void 0&&(e={}),t===void 0&&(t={});const r=[...Object.keys(t),...Object.keys(e)],i={};for(const o of r)e[o]!==t[o]&&(i[o]=(n=t[o])!==null&&n!==void 0?n:"");return i}const Pj="|",Pw="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function Rj(e){const t=e.split(Pj);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function zi(e){return D(this,void 0,void 0,function*(){return new Promise(t=>En.setTimeout(t,e))})}function v0(){return"addTransceiver"in RTCPeerConnection.prototype}function y0(){return"addTrack"in RTCPeerConnection.prototype}function Ij(){if(!("getCapabilities"in RTCRtpSender)||oa())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/AV1"){t=!0;break}}return t}function Oj(){if(!("getCapabilities"in RTCRtpSender)||Dl())return!1;if(oa()){const n=bo();if(n?.version&&Ul(n.version,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/VP9"){t=!0;break}}return t}function ru(e){return e==="av1"||e==="vp9"}function b0(e){return document?(e||(e=document.createElement("audio")),"setSinkId"in e):!1}function Mj(){return typeof RTCPeerConnection>"u"?!1:v0()||y0()}function Dl(){var e;return((e=bo())===null||e===void 0?void 0:e.name)==="Firefox"}function oa(){var e;return((e=bo())===null||e===void 0?void 0:e.name)==="Safari"}function Lj(){const e=bo();return e?.name==="Safari"&&e.version.startsWith("17.")}function p2(){var e,t;return Sr()?(t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function Aj(){const e=bo(),t="17.2";if(e)return e.name!=="Safari"&&e.os!=="iOS"||e.os==="iOS"&&e.osVersion&&Ul(t,e.osVersion)>=0?!0:e.name==="Safari"&&Ul(t,e.version)>=0}function Sr(){return typeof document<"u"}function ko(){return navigator.product=="ReactNative"}function k0(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function m2(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function g2(){if(!ko())return;let e=m2();if(e)return e.platform}function Rw(){if(Sr())return window.devicePixelRatio;if(ko()){let e=m2();if(e)return e.devicePixelRatio}return 1}function Ul(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let o=0;o<i;++o){const s=parseInt(n[o],10),l=parseInt(r[o],10);if(s>l)return 1;if(s<l)return-1;if(o===i-1&&s===l)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function Nj(e){for(const t of e)t.target.handleResize(t)}function Dj(e){for(const t of e)t.target.handleVisibilityChanged(t)}let Ag=null;const Iw=()=>(Ag||(Ag=new ResizeObserver(Nj)),Ag);let Ng=null;const Ow=()=>(Ng||(Ng=new IntersectionObserver(Dj,{root:null,rootMargin:"0px"})),Ng);function Uj(){var e;const t=new wF({sdk:kP.JS,protocol:yj,version:vj});return ko()&&(t.os=(e=g2())!==null&&e!==void 0?e:""),t}function Mw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=e,i.height=t;const o=i.getContext("2d");o?.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(e/2,t/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());const s=i.captureStream(),[l]=s.getTracks();if(!l)throw Error("Could not get empty media stream video track");return l.enabled=n,l}let Mc;function Dg(){if(!Mc){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Mc]=r.stream.getAudioTracks(),!Mc)throw Error("Could not get empty media stream audio track");Mc.enabled=!1}return Mc.clone()}class v2{constructor(t,n){this.onFinally=n,this.promise=new Promise((r,i)=>D(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,t&&(yield t(r,i))})).finally(()=>{var r;return(r=this.onFinally)===null||r===void 0?void 0:r.call(this)})}}function Fj(e,t){const n=Object.assign({cloneTrack:!1,fftSize:2048,smoothingTimeConstant:.8,minDecibels:-100,maxDecibels:-80},t),r=d1();if(!r)throw new Error("Audio Context not supported on this browser");const i=n.cloneTrack?e.mediaStreamTrack.clone():e.mediaStreamTrack,o=r.createMediaStreamSource(new MediaStream([i])),s=r.createAnalyser();s.minDecibels=n.minDecibels,s.maxDecibels=n.maxDecibels,s.fftSize=n.fftSize,s.smoothingTimeConstant=n.smoothingTimeConstant,o.connect(s);const l=new Uint8Array(s.frequencyBinCount);return{calculateVolume:()=>{s.getByteFrequencyData(l);let h=0;for(const m of l)h+=Math.pow(m/255,2);return Math.sqrt(h/l.length)},analyser:s,cleanup:()=>D(this,void 0,void 0,function*(){yield r.close(),n.cloneTrack&&i.stop()})}}class kr{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(i=>t=()=>{this._locks-=1,i()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}}function jj(e){return f2.includes(e)}function fo(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function $j(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function Lw(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function zj(e,t){return e.segments.map(n=>{let{id:r,text:i,language:o,startTime:s,endTime:l,final:u}=n;var d;const h=(d=t.get(r))!==null&&d!==void 0?d:Date.now(),p=Date.now();return u?t.delete(r):t.set(r,h),{id:r,text:i,startTime:Number.parseInt(s.toString()),endTime:Number.parseInt(l.toString()),final:u,language:o,firstReceivedTime:h,lastReceivedTime:p}})}function Bj(e){const{id:t,timestamp:n,message:r,editTimestamp:i}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}const Ug="default";class Tn{static getInstance(){return this.instance===void 0&&(this.instance=new Tn),this.instance}getDevices(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;if(((o=Tn.userMediaPromiseMap)===null||o===void 0?void 0:o.size)>0){Je.debug("awaiting getUserMedia promise");try{n?yield Tn.userMediaPromiseMap.get(n):yield Promise.all(Tn.userMediaPromiseMap.values())}catch{Je.warn("error waiting for media permissons")}}let s=yield navigator.mediaDevices.enumerateDevices();if(i&&!(oa()&&r.hasDeviceInUse(n))&&(s.filter(u=>u.kind===n).length===0||s.some(u=>{const d=u.label==="",h=n?u.kind===n:!0;return d&&h}))){const u={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"},d=yield navigator.mediaDevices.getUserMedia(u);s=yield navigator.mediaDevices.enumerateDevices(),d.getTracks().forEach(h=>{h.stop()})}return n&&(s=s.filter(l=>l.kind===n)),s}()})}normalizeDeviceId(t,n,r){return D(this,void 0,void 0,function*(){if(n!==Ug)return n;const i=yield this.getDevices(t),o=i.find(l=>l.deviceId===Ug);if(!o){Je.warn("could not reliably determine default device");return}const s=i.find(l=>l.deviceId!==Ug&&l.groupId===(r??o.groupId));if(!s){Je.warn("could not reliably determine default device");return}return s?.deviceId})}hasDeviceInUse(t){return t?Tn.userMediaPromiseMap.has(t):Tn.userMediaPromiseMap.size>0}}Tn.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];Tn.userMediaPromiseMap=new Map;const Vj=1e3;class Ks extends G{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;super(t,n,o),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=c1(()=>D(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>D(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(se.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new kr,this.pauseUpstreamLock=new kr,this.processorLock=new kr,this.restartLock=new kr,this.setMediaStreamTrack(t,!0),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==G.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}setMediaStreamTrack(t,n){return D(this,void 0,void 0,function*(){if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{bl(this._mediaStreamTrack,i)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let r;if(this.processor&&t){const i=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(cl(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}finally{i()}}this.sender&&(yield this.sender.replaceTrack(r??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{cl(r??t,i)}))})}waitForDimensions(){return D(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vj;return function*(){var r;if(t.kind===G.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=bo())===null||r===void 0?void 0:r.os)==="iOS"&&(yield zi(10));const i=Date.now();for(;Date.now()-i<n;){const o=t.dimensions;if(o)return o;yield zi(50)}throw new Ni("unable to get track dimensions after timeout")}()})}getDeviceId(){return D(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(t.source===G.Source.ScreenShare)return;const{deviceId:r,groupId:i}=t._mediaStreamTrack.getSettings(),o=t.kind===G.Kind.Audio?"audioinput":"videoinput";return n?Tn.getInstance().normalizeDeviceId(o,r,i):r}()})}mute(){return D(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return D(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return D(this,void 0,void 0,function*(){if(!this.sender)throw new Ni("unable to replace an unpublished track");let r,i;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,i=n.stopProcessor),this.providedByUser=r??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),i&&this.processor&&(yield this.stopProcessor()),this})}restart(t){return D(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.restartLock.lock();try{t||(t=this._constraints),this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const r={audio:!1,video:!1};this.kind===G.Kind.Video?r.video=t:r.audio=t,this.attachedElements.forEach(s=>{bl(this.mediaStreamTrack,s)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const o=(yield navigator.mediaDevices.getUserMedia(r)).getTracks()[0];return o.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(o),this._constraints=t,this.emit(se.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?se.Muted:se.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return D(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),p2()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return D(this,void 0,void 0,function*(){const t=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(se.UpstreamPaused,this);const n=bo();if(n?.name==="Safari"&&Ul(n.version,"12.0")<0)throw new l1("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{t()}})}resumeUpstream(){return D(this,void 0,void 0,function*(){const t=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(se.UpstreamResumed,this),yield this.sender.replaceTrack(this.mediaStreamTrack)}finally{t()}})}getRTCStatsReport(){return D(this,void 0,void 0,function*(){var t;return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;const s=yield r.processorLock.lock();try{r.log.debug("setting up processor",r.logContext);const l=document.createElement(r.kind),u={kind:r.kind,track:r._mediaStreamTrack,element:l,audioContext:r.audioContext};if(yield n.init(u),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.stopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(cl(r._mediaStreamTrack,l),l.muted=!0,l.play().catch(d=>r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:d}))),r.processor=n,r.processorElement=l,r.processor.processedTrack){for(const d of r.attachedElements)d!==r.processorElement&&i&&(bl(r._mediaStreamTrack,d),cl(r.processor.processedTrack,d));yield(o=r.sender)===null||o===void 0?void 0:o.replaceTrack(r.processor.processedTrack)}r.emit(se.TrackProcessorUpdate,r.processor)}finally{s()}}()})}getProcessor(){return this.processor}stopProcessor(){return D(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var r,i;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((i=t.processorElement)===null||i===void 0||i.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(se.TrackProcessorUpdate))}()})}}class Wj extends Hi.EventEmitter{constructor(t){super(),this.onWorkerMessage=n=>{var r,i;const{kind:o,data:s}=n.data;switch(o){case"error":Je.error(s.error.message),this.emit(Xo.EncryptionError,s.error);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(l=>{this.postKey(l)});break;case"enable":if(s.enabled&&this.keyProvider.getKeys().forEach(l=>{this.postKey(l)}),this.encryptionEnabled!==s.enabled&&s.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(Xo.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){const l=(i=this.room)===null||i===void 0?void 0:i.getParticipantByIdentity(s.participantIdentity);if(!l)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(Xo.ParticipantEncryptionStatusChanged,s.enabled,l)}break;case"ratchetKey":this.keyProvider.emit(ls.KeyRatcheted,s.material,s.keyIndex);break}},this.onWorkerError=n=>{Je.error("e2ee worker encountered an error:",{error:n.error}),this.emit(Xo.EncryptionError,n.error)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1}setup(t){if(!dj())throw new l1("tried to setup end-to-end encryption on an unsupported browser");if(Je.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:QF.getLevel()}};this.worker&&(Je.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){Je.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?Je.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(de.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(K.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Wr.NONE,i.identity)),t.on(K.ConnectionStateChanged,r=>{r===nt.Connected&&t.remoteParticipants.forEach(i=>{i.trackPublications.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==Wr.NONE,i.identity)})})}).on(K.TrackUnsubscribed,(r,i,o)=>{var s;const l={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:r.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(l)}).on(K.TrackSubscribed,(r,i,o)=>{this.setupE2EEReceiver(r,o.identity,i.trackInfo)}).on(K.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(Y.LocalTrackPublished,r=>D(this,void 0,void 0,function*(){this.setupE2EESender(r.track,r.track.sender)})),n.on(ls.SetKey,r=>this.postKey(r)).on(ls.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:i}=t;var o;if(!this.worker)throw Error("could not set key, worker is missing");const s={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(s)}postEnable(t,n){if(this.worker){const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!r?.mimeType||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?jf(r.mimeType):void 0)}}setupE2EESender(t,n){if(!(t instanceof Ks)||!n){n||Je.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,r,i){return D(this,void 0,void 0,function*(){if(this.worker){if(f0()){const o={kind:"decode",participantIdentity:r,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(lf in t&&i){const u={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(u);return}let o=t.writableStream,s=t.readableStream;if(!o||!s){const u=t.createEncodedStreams();t.writableStream=u.writable,o=u.writable,t.readableStream=u.readable,s=u.readable}const l={kind:"decode",data:{readableStream:s,writableStream:o,trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(l,[s,o])}t[lf]=!0}})}handleSender(t,n,r){var i;if(!(lf in t||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(f0()){Je.info("initialize script transform");const o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{Je.info("initialize encoded streams");const o=t.createEncodedStreams(),s={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(s,[o.readable,o.writable])}t[lf]=!0}}}var iu;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(iu||(iu={}));class Hj{constructor(){this.pendingTasks=new Map,this.taskMutex=new kr,this.nextTaskIndex=0}run(t){return D(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:iu.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=iu.RUNNING,yield t()}finally{n.status=iu.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return D(this,void 0,void 0,function*(){return this.run(()=>D(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}const Gj=["syncState","trickle","offer","answer","simulate","leave"];function qj(e){const t=Gj.indexOf(e.case)>=0;return Je.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var Nt;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(Nt||(Nt={}));class f1{get currentState(){return this.state}get isDisconnected(){return this.state===Nt.DISCONNECTING||this.state===Nt.DISCONNECTED}get isEstablishingConnection(){return this.state===Nt.CONNECTING||this.state===Nt.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Nt.DISCONNECTED,this.log=Je,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=yo((r=n.loggerName)!==null&&r!==void 0?r:Si.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new Hj,this.queuedRequests=[],this.closingLock=new kr,this.connectionLock=new kr,this.state=Nt.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,i){return D(this,void 0,void 0,function*(){return this.state=Nt.CONNECTING,this.options=r,yield this.connect(t,n,r,i)})}reconnect(t,n,r,i){return D(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Nt.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(t,n,r,i){this.connectOptions=r,t=$j(t),t=t.replace(/\/$/,""),t+="/rtc";const o=Uj(),s=Kj(n,o,r);return new Promise((l,u)=>D(this,void 0,void 0,function*(){const d=yield this.connectionLock.lock();try{const h=()=>D(this,void 0,void 0,function*(){this.close(),clearTimeout(p),u(new wt("room connection has been cancelled (signal)"))}),p=setTimeout(()=>{this.close(),u(new wt("room connection has timed out (signal)"))},r.websocketTimeout);i?.aborted&&h(),i?.addEventListener("abort",h),this.log.debug("connecting to ".concat(t+s),this.logContext),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(t+s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(p)},this.ws.onerror=m=>D(this,void 0,void 0,function*(){if(this.state!==Nt.CONNECTED){this.state=Nt.DISCONNECTED,clearTimeout(p);try{const y=yield fetch("http".concat(t.substring(2),"/validate").concat(s));if(y.status.toFixed(0).startsWith("4")){const C=yield y.text();u(new wt(C,Fn.NotAllowed,y.status))}else u(new wt("Internal error",Fn.InternalError,y.status))}catch{u(new wt("server was not reachable",Fn.ServerUnreachable))}return}this.handleWSError(m)}),this.ws.onmessage=m=>D(this,void 0,void 0,function*(){var y,C,k;let T;if(typeof m.data=="string"){const v=JSON.parse(m.data);T=fw.fromJson(v,{ignoreUnknownFields:!0})}else if(m.data instanceof ArrayBuffer)T=fw.fromBinary(new Uint8Array(m.data));else{this.log.error("could not decode websocket message: ".concat(typeof m.data),this.logContext);return}if(this.state!==Nt.CONNECTED){let v=!1;if(((y=T.message)===null||y===void 0?void 0:y.case)==="join"?(this.state=Nt.CONNECTED,i?.removeEventListener("abort",h),this.pingTimeoutDuration=T.message.value.pingTimeout,this.pingIntervalDuration=T.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),l(T.message.value)):this.state===Nt.RECONNECTING&&T.message.case!=="leave"?(this.state=Nt.CONNECTED,i?.removeEventListener("abort",h),this.startPingInterval(),((C=T.message)===null||C===void 0?void 0:C.case)==="reconnect"?l(T.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),l(void 0),v=!0)):this.isEstablishingConnection&&T.message.case==="leave"?u(new wt("Received leave request while trying to (re)connect",Fn.LeaveRequest)):r.reconnect||u(new wt("did not receive join response, got ".concat((k=T.message)===null||k===void 0?void 0:k.case," instead"))),!v)return}this.signalLatency&&(yield zi(this.signalLatency)),this.handleSignalResponse(T)}),this.ws.onclose=m=>{this.isEstablishingConnection&&u(new wt("Websocket got closed during a (re)connection attempt")),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:m.reason,code:m.code,wasClean:m.wasClean,state:this.state})),this.handleOnClose(m.reason)}}finally{d()}}))}close(){return D(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){const r=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=Nt.DISCONNECTING),t.ws){t.ws.onmessage=null,t.ws.onopen=null,t.ws.onclose=null;const i=new Promise(o=>{t.ws?t.ws.onclose=()=>{o()}:o()});t.ws.readyState<t.ws.CLOSING&&(t.ws.close(),yield Promise.race([i,zi(250)])),t.ws=void 0}}finally{n&&(t.state=Nt.DISCONNECTED),r()}}()})}sendOffer(t){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:Ch(t)})}sendAnswer(t){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:Ch(t)})}sendIceCandidate(t,n){return this.log.trace("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new r1({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new i1({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return D(this,arguments,void 0,function(r,i){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const l=o.getNextRequestId();return yield o.sendRequest({case:"updateMetadata",value:new _P({requestId:l,metadata:r,name:i,attributes:s})}),l}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new EP({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new RP({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Ut.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new MP({timestamp:Ut.parse(Date.now()),rtt:Ut.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new TP({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new lp({reason:gl.CLIENT_INITIATED,action:vl.DISCONNECT})})}sendRequest(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!i&&!qj(n)&&r.state===Nt.RECONNECTING){r.queuedRequests.push(()=>D(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield zi(r.signalLatency)),!r.ws||r.ws.readyState!==r.ws.OPEN){r.log.error("cannot send signal request before connected, type: ".concat(n?.case),r.logContext);return}const s=new _F({message:n});try{r.useJSON?r.ws.send(s.toJsonString()):r.ws.send(s.toBinary())}catch(l){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:l}))}}()})}handleSignalResponse(t){var n,r;const i=t.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let o=!1;if(i.case==="answer"){const s=Aw(i.value);this.onAnswer&&this.onAnswer(s)}else if(i.case==="offer"){const s=Aw(i.value);this.onOffer&&this.onOffer(s)}else if(i.case==="trickle"){const s=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(s,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return D(this,void 0,void 0,function*(){if(this.state===Nt.DISCONNECTED)return;const n=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=En.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&En.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=En.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&En.clearInterval(this.pingInterval)}}function Aw(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function Ch(e){return new ia({sdp:e.sdp,type:e.type})}function Kj(e,t,n){var r;const i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",ko()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),"?".concat(i.toString())}var Ii={},Fg={},jg={exports:{}},Nw;function y2(){if(Nw)return jg.exports;Nw=1;var e=jg.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var n=e[t];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),jg.exports}var Dw;function Jj(){return Dw||(Dw=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},n=function(l,u,d,h){if(h&&!d)u[h]=t(l[1]);else for(var p=0;p<d.length;p+=1)l[p+1]!=null&&(u[d[p]]=t(l[p+1]))},r=function(l,u,d){var h=l.name&&l.names;l.push&&!u[l.push]?u[l.push]=[]:h&&!u[l.name]&&(u[l.name]={});var p=l.push?{}:h?u[l.name]:u;n(d.match(l.reg),p,l.names,l.name),l.push&&u[l.push].push(p)},i=y2(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var u={},d=[],h=u;return l.split(/(\r\n|\r|\n)/).filter(o).forEach(function(p){var m=p[0],y=p.slice(2);m==="m"&&(d.push({rtp:[],fmtp:[]}),h=d[d.length-1]);for(var C=0;C<(i[m]||[]).length;C+=1){var k=i[m][C];if(k.reg.test(y))return r(k,h,y)}}),u.media=d,u};var s=function(l,u){var d=u.split(/=(.+)/,2);return d.length===2?l[d[0]]=t(d[1]):d.length===1&&u.length>1&&(l[d[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(s,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var u=[],d=l.split(" ").map(t),h=0;h<d.length;h+=3)u.push({component:d[h],ip:d[h+1],port:d[h+2]});return u},e.parseImageAttributes=function(l){return l.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(s,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(u){return u.split(",").map(function(d){var h,p=!1;return d[0]!=="~"?h=t(d):(h=t(d.substring(1,d.length)),p=!0),{scid:h,paused:p}})})}}(Fg)),Fg}var $g,Uw;function Qj(){if(Uw)return $g;Uw=1;var e=y2(),t=/%[sdv%]/g,n=function(s){var l=1,u=arguments,d=u.length;return s.replace(t,function(h){if(l>=d)return h;var p=u[l];switch(l+=1,h){case"%%":return"%";case"%s":return String(p);case"%d":return Number(p);case"%v":return""}})},r=function(s,l,u){var d=l.format instanceof Function?l.format(l.push?u:u[l.name]):l.format,h=[s+"="+d];if(l.names)for(var p=0;p<l.names.length;p+=1){var m=l.names[p];l.name?h.push(u[l.name][m]):h.push(u[l.names[p]])}else h.push(u[l.name]);return n.apply(null,h)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return $g=function(s,l){l=l||{},s.version==null&&(s.version=0),s.name==null&&(s.name=" "),s.media.forEach(function(p){p.payloads==null&&(p.payloads="")});var u=l.outerOrder||i,d=l.innerOrder||o,h=[];return u.forEach(function(p){e[p].forEach(function(m){m.name in s&&s[m.name]!=null?h.push(r(p,m,s)):m.push in s&&s[m.push]!=null&&s[m.push].forEach(function(y){h.push(r(p,m,y))})})}),s.media.forEach(function(p){h.push(r("m",e.m[0],p)),d.forEach(function(m){e[m].forEach(function(y){y.name in p&&p[y.name]!=null?h.push(r(m,y,p)):y.push in p&&p[y.push]!=null&&p[y.push].forEach(function(C){h.push(r(m,y,C))})})})}),h.join(`\r
`)+`\r
`},$g}var Fw;function Yj(){if(Fw)return Ii;Fw=1;var e=Jj(),t=Qj();return Ii.write=t,Ii.parse=e.parse,Ii.parseParams=e.parseParams,Ii.parseFmtpConfig=e.parseFmtpConfig,Ii.parsePayloads=e.parsePayloads,Ii.parseRemoteCandidates=e.parseRemoteCandidates,Ii.parseImageAttributes=e.parseImageAttributes,Ii.parseSimulcastStreamList=e.parseSimulcastStreamList,Ii}var Vo=Yj();const Xj=.7,Zj=20,kl={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class jw extends Hi.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=Je,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=c1(i=>D(this,void 0,void 0,function*(){this.emit(kl.NegotiationStarted);try{yield this.createAndSendOffer()}catch(o){if(i)i(o);else throw o}}),Zj),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=yo((r=n.loggerName)!==null&&r!==void 0?r:Si.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC()}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return D(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t){return D(this,void 0,void 0,function*(){var n;let r;if(t.type==="offer"){let{stereoMids:i,nackMids:o}=t$(t);this.remoteStereoMids=i,this.remoteNackMids=o}else if(t.type==="answer"){const i=Vo.parse((n=t.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"&&this.trackBitrates.some(s=>{if(!s.transceiver||o.mid!=s.transceiver.mid)return!1;let l=0;if(o.rtp.some(d=>d.codec.toUpperCase()===s.codec.toUpperCase()?(l=d.payload,!0):!1),l===0)return!0;let u=!1;for(const d of o.fmtp)if(d.payload===l){d.config=d.config.split(";").filter(h=>!h.includes("maxaveragebitrate")).join(";"),s.maxbr>0&&(d.config+=";maxaveragebitrate=".concat(s.maxbr*1e3)),u=!0;break}return u||s.maxbr>0&&o.fmtp.push({payload:l,config:"maxaveragebitrate=".concat(s.maxbr*1e3)}),!0})}),r=Vo.write(i)}yield this.setMungedSDP(t,r,!0),this.pendingCandidates.forEach(i=>{this.pc.addIceCandidate(i)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(kl.NegotiationComplete),t.sdp&&Vo.parse(t.sdp).media.forEach(o=>{o.type==="video"&&this.emit(kl.RTPVideoPayloadTypes,o.rtp)}))})}createAndSendOffer(t){return D(this,void 0,void 0,function*(){var n;if(this.onOffer===void 0)return;if(t?.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this._pc.remoteDescription;if(t?.iceRestart&&o)yield this._pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const r=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:r.sdp},this.logContext));const i=Vo.parse((n=r.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"?$w(o,[],[]):o.type==="video"&&this.trackBitrates.some(s=>{if(!o.msid||!s.cid||!o.msid.includes(s.cid))return!1;let l=0;if(o.rtp.some(d=>d.codec.toUpperCase()===s.codec.toUpperCase()?(l=d.payload,!0):!1),l===0||(ru(s.codec)&&e$(o),s.codec!=="av1"))return!0;const u=Math.round(s.maxbr*Xj);for(const d of o.fmtp)if(d.payload===l){d.config.includes("x-google-start-bitrate")||(d.config+=";x-google-start-bitrate=".concat(u));break}return!0})}),yield this.setMungedSDP(r,Vo.write(i)),this.onOffer(r)})}createAndSetAnswer(){return D(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=Vo.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(i=>{i.type==="audio"&&$w(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,Vo.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new ln("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new ln("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return D(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(l=>{switch(l.type){case"transport":n=l.selectedCandidatePairId;break;case"candidate-pair":n===""&&l.selected&&(n=l.id),r.set(l.id,l);break;case"remote-candidate":i.set(l.id,"".concat(l.address,":").concat(l.port));break}}),n==="")return;const s=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(s!==void 0)return i.get(s)})}setMungedSDP(t,n,r){return D(this,void 0,void 0,function*(){if(n){const i=t.sdp;t.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(o){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:o,sdp:n})),t.sdp=i}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(i){let o="unknown error";i instanceof Error?o=i.message:typeof i=="string"&&(o=i);const s={error:o,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:s})),new h0(o)}})}}function $w(e,t,n){let r=0;e.rtp.some(i=>i.codec==="opus"?(r=i.payload,!0):!1),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(i=>i.payload===r&&i.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(i=>i.payload===r?(i.config.includes("stereo=1")||(i.config+=";stereo=1"),!0):!1))}function e$(e){var t,n;let r=0;((t=e.ext)===null||t===void 0?void 0:t.some(o=>o.uri===Pw?!0:(o.value>r&&(r=o.value),!1)))||(n=e.ext)===null||n===void 0||n.push({value:r+1,uri:Pw})}function t$(e){var t;const n=[],r=[],i=Vo.parse((t=e.sdp)!==null&&t!==void 0?t:"");let o=0;return i.media.forEach(s=>{var l;s.type==="audio"&&(s.rtp.some(u=>u.codec==="opus"?(o=u.payload,!0):!1),!((l=s.rtcpFb)===null||l===void 0)&&l.some(u=>u.payload===o&&u.type==="nack")&&r.push(s.mid),s.fmtp.some(u=>u.payload===o?(u.config.includes("sprop-stereo=1")&&n.push(s.mid),!0):!1))}),{stereoMids:n,nackMids:r}}const C0="vp8",n$={audioPreset:p0.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:u1.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:C0,backupCodec:!0},b2={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},k2={resolution:Ou.h720.resolution},r$={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new XF,disconnectOnPageLeave:!0,webAudioMix:!1},h1={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Wt;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(Wt||(Wt={}));class i${get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(t,n,r){var i;this.peerConnectionTimeout=h1.peerConnectionTimeout,this.log=Je,this.updateState=()=>{var o;const s=this.state,l=this.requiredTransports.map(u=>u.getConnectionState());l.every(u=>u==="connected")?this.state=Wt.CONNECTED:l.some(u=>u==="failed")?this.state=Wt.FAILED:l.some(u=>u==="connecting")?this.state=Wt.CONNECTING:l.every(u=>u==="closed")?this.state=Wt.CLOSED:l.some(u=>u==="closed")?this.state=Wt.CLOSING:l.every(u=>u==="new")&&(this.state=Wt.NEW),s!==this.state&&(this.log.debug("pc state change: from ".concat(Wt[s]," to ").concat(Wt[this.state]),this.logContext),(o=this.onStateChange)===null||o===void 0||o.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=yo((i=r.loggerName)!==null&&i!==void 0?i:Si.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n,this.publisher=new jw(t,r),this.subscriber=new jw(t,r),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=o=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,o,vi.PUBLISHER)},this.subscriber.onIceCandidate=o=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,o,vi.SUBSCRIBER)},this.subscriber.onDataChannel=o=>{var s;(s=this.onDataChannel)===null||s===void 0||s.call(this,o)},this.subscriber.onTrack=o=>{var s;(s=this.onTrack)===null||s===void 0||s.call(this,o)},this.publisher.onOffer=o=>{var s;(s=this.onPublisherOffer)===null||s===void 0||s.call(this,o)},this.state=Wt.NEW,this.connectionLock=new kr,this.remoteOfferLock=new kr}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=t,this.updateState()}requireSubscriber(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSubscriberConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t){return this.publisher.setRemoteDescription(t)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return D(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const t=this.publisher;for(const n of t.getSenders())try{t.canRemoveTrack()&&t.removeTrack(n)}catch(r){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:r}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return D(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return D(this,void 0,void 0,function*(){n===vi.PUBLISHER?yield this.publisher.addIceCandidate(t):yield this.subscriber.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t){return D(this,void 0,void 0,function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:this.subscriber.getSignallingState().toString()}));const n=yield this.remoteOfferLock.lock();try{return yield this.subscriber.setRemoteDescription(t),yield this.subscriber.createAndSetAnswer()}finally{n()}})}updateConfiguration(t,n){this.publisher.setConfiguration(t),this.subscriber.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return D(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(o=>this.ensureTransportConnected(o,t,n)))}finally{i()}})}negotiate(t){return D(this,void 0,void 0,function*(){return new Promise((n,r)=>D(this,void 0,void 0,function*(){const i=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout),o=()=>{clearTimeout(i),r("negotiation aborted")};t.signal.addEventListener("abort",o),this.publisher.once(kl.NegotiationStarted,()=>{t.signal.aborted||this.publisher.once(kl.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(s=>{clearTimeout(i),r(s)})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===vi.PUBLISHER?this.publisher.getConnectedAddress():t===vi.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return D(this,arguments,void 0,function(r,i){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((u,d)=>D(o,void 0,void 0,function*(){const h=()=>{this.log.warn("abort transport connection",this.logContext),En.clearTimeout(p),d(new wt("room connection has been cancelled",Fn.Cancelled))};i?.signal.aborted&&h(),i?.signal.addEventListener("abort",h);const p=En.setTimeout(()=>{i?.signal.removeEventListener("abort",h),d(new wt("could not establish pc connection"))},s);for(;this.state!==Wt.CONNECTED;)if(yield zi(50),i?.signal.aborted){d(new wt("room connection has been cancelled",Fn.Cancelled));return}En.clearTimeout(p),i?.signal.removeEventListener("abort",h),u()}))}()})}}const p1=2e3;function dp(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-r)*8*1e3/(e.timestamp-t.timestamp)}class wn extends Ks{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;super(t,G.Kind.Audio,n,r,o),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>D(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let s;try{s=yield this.getSenderStats()}catch(l){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}s&&this.prevStats&&(this._currentBitrate=dp(s,this.prevStats)),this.prevStats=s}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(se.AudioTrackFeatureUpdate,this,Ai.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(se.AudioTrackFeatureUpdate,this,Ai.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}setDeviceId(t){return D(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===fo(t)?!0:(this._constraints.deviceId=t,this.isMuted||(yield this.restartTrack()),this.isMuted||fo(t)===this._mediaStreamTrack.getSettings().deviceId)})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return D(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===G.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return D(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==fo(this._constraints.deviceId);return this.source===G.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return D(this,void 0,void 0,function*(){let n;if(t){const r=up({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return D(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){Sr()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},p1)))}setProcessor(t){return D(this,void 0,void 0,function*(){var n;const r=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(i),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(se.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return D(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return D(this,void 0,void 0,function*(){const t=yield wj(this);return t&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(se.AudioSilenceDetected)),t})}}function C2(e,t,n){switch(e.kind){case"audio":return new wn(e,t,!1,void 0,n);case"video":return new Nn(e,t,!1,n);default:throw new Ni("unsupported track type: ".concat(e.kind))}}const o$=Object.values(Ou),s$=Object.values(m0),a$=Object.values(u1),l$=[Ou.h180,Ou.h360],c$=[m0.h180,m0.h360],u$=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(n=>{var r,i;return new pt(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=e.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,e.encoding.priority)}),S0=["q","h","f"];function w0(e,t,n,r){var i,o;let s=r?.videoEncoding;e&&(s=r?.screenShareEncoding);const l=r?.simulcast,u=r?.scalabilityMode,d=r?.videoCodec;if(!s&&!l&&!u||!t||!n)return[{}];s||(s=f$(e,t,n,d),Je.debug("using video encoding",s));const h=new pt(t,n,s.maxBitrate,s.maxFramerate,s.priority);if(u&&ru(d)){const y=new S2(u),C=[];if(y.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(u));const k=bo();if(oa()||ko()||k?.name==="Chrome"&&Ul(k?.version,"113")<0){const T=y.suffix=="h"?2:3;for(let v=0;v<y.spatial;v+=1)C.push({rid:S0[2-v],maxBitrate:s.maxBitrate/Math.pow(T,v),maxFramerate:h.encoding.maxFramerate});C[0].scalabilityMode=u}else C.push({maxBitrate:s.maxBitrate,maxFramerate:h.encoding.maxFramerate,scalabilityMode:u});return h.encoding.priority&&(C[0].priority=h.encoding.priority,C[0].networkPriority=h.encoding.priority),Je.debug("using svc encoding",{encodings:C}),C}if(!l)return[s];let p=[];e?p=(i=Bw(r?.screenShareSimulcastLayers))!==null&&i!==void 0?i:zw(e,h):p=(o=Bw(r?.videoSimulcastLayers))!==null&&o!==void 0?o:zw(e,h);let m;if(p.length>0){const y=p[0];p.length>1&&([,m]=p);const C=Math.max(t,n);if(C>=960&&m)return zg(t,n,[y,m,h]);if(C>=480)return zg(t,n,[y,h])}return zg(t,n,[h])}function d$(e,t,n){var r,i,o,s;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&Je.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const l=e.mediaStreamTrack.getSettings(),u=(r=l.width)!==null&&r!==void 0?r:(i=e.dimensions)===null||i===void 0?void 0:i.width,d=(o=l.height)!==null&&o!==void 0?o:(s=e.dimensions)===null||s===void 0?void 0:s.height;return w0(e.source===G.Source.ScreenShare,u,d,n)}function f$(e,t,n,r){const i=h$(e,t,n);let{encoding:o}=i[0];const s=Math.max(t,n);for(let l=0;l<i.length;l+=1){const u=i[l];if(o=u.encoding,u.width>=s)break}if(r)switch(r){case"av1":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function h$(e,t,n){if(e)return a$;const r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?o$:s$}function zw(e,t){if(e)return u$(t);const{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?l$:c$}function zg(e,t,n){const r=[];if(n.forEach((i,o)=>{if(o>=S0.length)return;const s=Math.min(e,t),u={rid:S0[o],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate};i.encoding.maxFramerate&&(u.maxFramerate=i.encoding.maxFramerate);const d=Dl()||o===0;i.encoding.priority&&d&&(u.priority=i.encoding.priority,u.networkPriority=i.encoding.priority),r.push(u)}),ko()&&g2()==="ios"){let i;r.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let o=!0;r.forEach(s=>{var l;s.maxFramerate!=i&&(o&&(o=!1,Je.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),Je.info('Setting framerate of encoding "'.concat((l=s.rid)!==null&&l!==void 0?l:"",'" to ').concat(i)),s.maxFramerate=i)})}return r}function Bw(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class S2{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}function p$(e){return e.source===G.Source.ScreenShare||e.constraints.height&&fo(e.constraints.height)>=1080?"maintain-resolution":"balanced"}const m$=5e3;class Nn extends Ks{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(t,G.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.monitorSender=()=>D(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(l){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}const s=new Map(o.map(l=>[l.rid,l]));if(this.prevStats){let l=0;s.forEach((u,d)=>{var h;const p=(h=this.prevStats)===null||h===void 0?void 0:h.get(d);l+=dp(u,p)}),this._currentBitrate=l}this.prevStats=s}),this.senderLock=new kr}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!Sr())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},p1))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return D(this,void 0,void 0,function*(){var n,r,i,o,s;yield t.pauseUpstream.call(this);try{for(var l=!0,u=Ka(this.simulcastCodecs.values()),d;d=yield u.next(),n=d.done,!n;l=!0)o=d.value,l=!1,yield(s=o.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(h){r={error:h}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return D(this,void 0,void 0,function*(){var n,r,i,o,s;yield t.resumeUpstream.call(this);try{for(var l=!0,u=Ka(this.simulcastCodecs.values()),d;d=yield u.next(),n=d.done,!n;l=!0){o=d.value,l=!1;const h=o;yield(s=h.sender)===null||s===void 0?void 0:s.replaceTrack(h.mediaStreamTrack)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return D(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===G.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return D(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===G.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return D(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var o;if(i.type==="outbound-rtp"){const s={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(o=i.rid)!==null&&o!==void 0?o:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},l=r.get(i.remoteId);l&&(s.jitter=l.jitter,s.packetsLost=l.packetsLost,s.roundTripTime=l.roundTripTime),n.push(s)}}),n.sort((i,o)=>{var s,l;return((s=o.frameWidth)!==null&&s!==void 0?s:0)-((l=i.frameWidth)!==null&&l!==void 0?l:0)}),n})}setPublishingQuality(t){const n=[];for(let r=Jr.LOW;r<=Jr.HIGH;r+=1)n.push(new s1({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(n)}setDeviceId(t){return D(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===fo(t)?!0:(this._constraints.deviceId=t,this.isMuted||(yield this.restartTrack()),this.isMuted||fo(t)===this._mediaStreamTrack.getSettings().deviceId)})}restartTrack(t){return D(this,void 0,void 0,function*(){var n,r,i,o;let s;if(t){const h=up({video:t});typeof h.video!="boolean"&&(s=h.video)}yield this.restart(s);try{for(var l=!0,u=Ka(this.simulcastCodecs.values()),d;d=yield u.next(),n=d.done,!n;l=!0){o=d.value,l=!1;const h=o;h.sender&&(h.mediaStreamTrack=this.mediaStreamTrack.clone(),yield h.sender.replaceTrack(h.mediaStreamTrack))}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return D(this,arguments,void 0,function(r){var i=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var s,l,u,d,h,p;if(yield n.setProcessor.call(i,r,o),!((h=i.processor)===null||h===void 0)&&h.processedTrack)try{for(var m=!0,y=Ka(i.simulcastCodecs.values()),C;C=yield y.next(),s=C.done,!s;m=!0)d=C.value,m=!1,yield(p=d.sender)===null||p===void 0?void 0:p.replaceTrack(i.processor.processedTrack)}catch(k){l={error:k}}finally{try{!m&&!s&&(u=y.return)&&(yield u.call(y))}finally{if(l)throw l.error}}}()})}setDegradationPreference(t){return D(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t)){this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},m$))}setPublishingCodecs(t){return D(this,void 0,void 0,function*(){var n,r,i,o,s,l,u;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(t[0].qualities),[];this.subscribedCodecs=t;const d=[];try{for(n=!0,r=Ka(t);i=yield r.next(),o=i.done,!o;n=!0){u=i.value,n=!1;const h=u;if(!this.codec||this.codec===h.codec)yield this.setPublishingLayers(h.qualities);else{const p=this.simulcastCodecs.get(h.codec);if(this.log.debug("try setPublishingCodec for ".concat(h.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:p})),!p||!p.sender){for(const m of h.qualities)if(m.enabled){d.push(h.codec);break}}else p.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(h.codec),this.logContext),yield Vw(p.sender,p.encodings,h.qualities,this.senderLock,this.log,this.logContext))}}}catch(h){s={error:h}}finally{try{!n&&!o&&(l=r.return)&&(yield l.call(r))}finally{if(s)throw s.error}}return d})}setPublishingLayers(t){return D(this,void 0,void 0,function*(){this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:t})),!(!this.sender||!this.encodings)&&(yield Vw(this.sender,this.encodings,t,this.senderLock,this.log,this.logContext))})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return D(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),p2()&&this.isInBackground&&this.source===G.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function Vw(e,t,n,r,i,o){return D(this,void 0,void 0,function*(){const s=yield r.lock();i.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:e,qualities:n,senderEncodings:t}));try{const l=e.getParameters(),{encodings:u}=l;if(!u)return;if(u.length!==t.length){i.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:u,senderEncodings:t}));return}let d=!1;!1&&u[0].scalabilityMode||u.forEach((p,m)=>{var y;let C=(y=p.rid)!==null&&y!==void 0?y:"";C===""&&(C="q");const k=w2(C),T=n.find(v=>v.quality===k);T&&p.active!==T.enabled&&(d=!0,p.active=T.enabled,i.debug("setting layer ".concat(T.quality," to ").concat(p.active?"enabled":"disabled"),o),Dl()&&(T.enabled?(p.scaleResolutionDownBy=t[m].scaleResolutionDownBy,p.maxBitrate=t[m].maxBitrate,p.maxFrameRate=t[m].maxFrameRate):(p.scaleResolutionDownBy=4,p.maxBitrate=10,p.maxFrameRate=2)))}),d&&(l.encodings=u,i.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:l.encodings})),yield e.setParameters(l))}finally{s()}})}function w2(e){switch(e){case"f":return Jr.HIGH;case"h":return Jr.MEDIUM;case"q":return Jr.LOW;default:return Jr.HIGH}}function Ww(e,t,n,r){if(!n)return[new qs({quality:Jr.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,o=new S2(i),s=[],l=o.suffix=="h"?1.5:2,u=o.suffix=="h"?2:3;for(let d=0;d<o.spatial;d+=1)s.push(new qs({quality:Math.min(Jr.HIGH,o.spatial-1)-d,width:Math.ceil(e/Math.pow(l,d)),height:Math.ceil(t/Math.pow(l,d)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(u,d)):0,ssrc:0}));return s}return n.map(i=>{var o,s,l;const u=(o=i.scaleResolutionDownBy)!==null&&o!==void 0?o:1;let d=w2((s=i.rid)!==null&&s!==void 0?s:"");return new qs({quality:d,width:Math.ceil(e/u),height:Math.ceil(t/u),bitrate:(l=i.maxBitrate)!==null&&l!==void 0?l:0,ssrc:0})})}const Hw="_lossy",Gw="_reliable",g$=2*1e3,Bg="leave-reconnect";var ui;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(ui||(ui={}));class v$ extends Hi.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=h1.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=ui.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=Je,this.handleDataChannel=r=>D(this,[r],void 0,function(i){var o=this;let{channel:s}=i;return function*(){if(s){if(s.label===Gw)o.reliableDCSub=s;else if(s.label===Hw)o.lossyDCSub=s;else return;o.log.debug("on data channel ".concat(s.id,", ").concat(s.label),o.logContext),s.onmessage=o.handleDataMessage}}()}),this.handleDataMessage=r=>D(this,void 0,void 0,function*(){var i,o;const s=yield this.dataProcessLock.lock();try{let l;if(r.data instanceof ArrayBuffer)l=r.data;else if(r.data instanceof Blob)l=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const u=$c.fromBinary(new Uint8Array(l));((i=u.value)===null||i===void 0?void 0:i.case)==="speaker"?this.emit(de.ActiveSpeakersUpdate,u.value.value.speakers):(((o=u.value)===null||o===void 0?void 0:o.case)==="user"&&b$(u,u.value.value),this.emit(de.DataPacketReceived,u))}finally{s()}}),this.handleDataError=r=>{const o=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:s}=r.error;this.log.error("DataChannel error on ".concat(o,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:s}))}else this.log.error("Unknown DataChannel error on ".concat(o),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const o=r.currentTarget.maxRetransmits===0?cn.LOSSY:cn.RELIABLE;this.updateAndEmitDCBufferStatus(o)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const o=u=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(u,"ms. giving up"),this.logContext),this.emit(de.Disconnected),this.close()},s=Date.now()-this.reconnectStart;let l=this.getNextRetryDelay({elapsedMs:s,retryCount:this.reconnectAttempts});if(l===null){o(s);return}r===Bg&&(l=0),this.log.debug("reconnecting in ".concat(l,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=En.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),l)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===ui.Connected&&r();const o=()=>{this.off(de.Disconnected,s),r()},s=()=>{this.off(de.Restarted,o),i()};this.once(de.Restarted,o),this.once(de.Disconnected,s)}),this.updateAndEmitDCBufferStatus=r=>{const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(de.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===Nt.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Va.RR_SIGNAL_DISCONNECTED))},this.log=yo((n=t.loggerName)!==null&&n!==void 0?n:Si.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new f1(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new kr,this.dataProcessLock=new kr,this.dcBufferStatus=new Map([[cn.LOSSY,!0],[cn.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(de.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(de.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(de.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(de.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(de.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(de.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(de.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(de.SignalRequestResponse,r)}get logContext(){var t,n,r,i,o,s,l,u;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(s=(o=this.latestJoinResponse)===null||o===void 0?void 0:o.participant)===null||s===void 0?void 0:s.identity,pID:(u=(l=this.latestJoinResponse)===null||l===void 0?void 0:l.participant)===null||u===void 0?void 0:u.sid}}join(t,n,r,i){return D(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(t,n,r,i);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),(!this.subscriberPrimary||o.fastPublish)&&this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof wt&&o.reason===Fn.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,r,i);throw o}})}close(){return D(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.emit(de.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return D(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return D(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Ni("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(new wt("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[t.cid]={resolve:o=>{clearTimeout(i),n(o)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return D(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){return D(this,void 0,void 0,function*(){var n,r;if(this.pcManager&&this.pcManager.currentState!==Wt.NEW)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const i=this.makeRTCConfiguration(t);this.pcManager=new i$(i,t.subscriberPrimary,this.loggerOptions),this.emit(de.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(o,s)=>{this.client.sendIceCandidate(o,s)},this.pcManager.onPublisherOffer=o=>{this.client.sendOffer(o)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(o,s,l)=>D(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(o),this.logContext),["closed","disconnected","failed"].includes(s)&&(this.publisherConnectionPromise=void 0),o===Wt.CONNECTED){const h=this.pcState===ui.New;this.pcState=ui.Connected,h&&this.emit(de.Connected,t)}else o===Wt.FAILED&&this.pcState===ui.Connected&&(this.pcState=ui.Disconnected,this.handleDisconnect("peerconnection failed",l==="failed"?Va.RR_SUBSCRIBER_FAILED:Va.RR_PUBLISHER_FAILED));const u=this.client.isDisconnected||this.client.currentState===Nt.RECONNECTING,d=[Wt.FAILED,Wt.CLOSING,Wt.CLOSED].includes(o);u&&d&&!this._isClosed&&this.emit(de.Offline)}),this.pcManager.onTrack=o=>{this.emit(de.MediaTrackAdded,o.track,o.streams[0],o.receiver)},y$((r=t.serverInfo)===null||r===void 0?void 0:r.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=t=>D(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type})),yield this.pcManager.setPublisherAnswer(t))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.trace("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=t=>D(this,void 0,void 0,function*(){if(!this.pcManager)return;const n=yield this.pcManager.createSubscriberAnswerFromOffer(t);this.client.sendAnswer(n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid]){this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));return}const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(de.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(de.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{this.token=t},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(de.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(de.SubscribedQualityUpdate,t)},this.client.onClose=()=>{this.handleDisconnect("signal",Va.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t?.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(t.regions)),t.action){case vl.DISCONNECT:this.emit(de.Disconnected,t?.reason),this.close();break;case vl.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(Bg);break;case vl.RESUME:this.handleDisconnect(Bg)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const i=[];t.iceServers.forEach(o=>{const s={urls:o.urls};o.username&&(s.username=o.username),o.credential&&(s.credential=o.credential),i.push(s)}),r.iceServers=i}return t.clientConfiguration&&t.clientConfiguration.forceRelay===Pu.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(Hw,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(Gw,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(t,n,r){return D(this,void 0,void 0,function*(){if(v0())return yield this.createTransceiverRTCRtpSender(t,n,r);if(y0())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new ln("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,i){return D(this,void 0,void 0,function*(){if(v0())return this.createSimulcastTransceiverSender(t,n,r,i);if(y0())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new ln("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return D(this,void 0,void 0,function*(){if(!this.pcManager)throw new ln("publisher is closed");const i=[];t.mediaStream&&i.push(t.mediaStream),t instanceof Nn&&(t.codec=n.videoCodec);const o={direction:"sendonly",streams:i};return r&&(o.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,o)).sender})}createSimulcastTransceiverSender(t,n,r,i){return D(this,void 0,void 0,function*(){if(!this.pcManager)throw new ln("publisher is closed");const o={direction:"sendonly"};i&&(o.sendEncodings=i);const s=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,o);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,s.sender),s.sender})}createRTCRtpSender(t){return D(this,void 0,void 0,function*(){if(!this.pcManager)throw new ln("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return D(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){Je.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===Pu.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:Wt.NEW)===Wt.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let s=!0;o instanceof ln?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:o})),s=!1):o instanceof Wa||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Va.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(de.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return D(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new ln("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(de.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Wa;o=yield this.join(t??this.url,this.token,this.signalOpts)}catch(s){throw s instanceof wt&&s.reason===Fn.NotAllowed?new ln("could not reconnect, token might be expired"):new Wa}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(de.SignalRestarted,o),yield this.waitForPCReconnected(),this.client.currentState!==Nt.CONNECTED)throw new Wa("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(de.Restarted)}catch(o){const s=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),o}})}resumeConnection(t){return D(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new ln("could not reconnect, url or token not saved");if(!this.pcManager)throw new ln("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(de.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(i){let o="";throw i instanceof Error&&(o=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof wt&&i.reason===Fn.NotAllowed?new ln("could not reconnect, token might be expired"):i instanceof wt&&i.reason===Fn.LeaveRequest?i:new Wa(o)}if(this.emit(de.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Nt.CONNECTED)throw new Wa("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),this.emit(de.Resumed)})}waitForPCInitialConnection(t,n){return D(this,void 0,void 0,function*(){if(!this.pcManager)throw new ln("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return D(this,void 0,void 0,function*(){this.pcState=ui.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield zi(g$),!this.pcManager)throw new ln("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=ui.Connected}catch(t){throw this.pcState=ui.Disconnected,new wt("could not establish PC connection, ".concat(t.message))}})}sendDataPacket(t,n){return D(this,void 0,void 0,function*(){const r=t.toBinary();yield this.ensurePublisherConnected(n);const i=this.dataChannelForKind(n);i&&i.send(r),this.updateAndEmitDCBufferStatus(n)})}ensureDataTransportConnected(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var o;if(!r.pcManager)throw new ln("PC manager is closed");const s=i?r.pcManager.subscriber:r.pcManager.publisher,l=i?"Subscriber":"Publisher";if(!s)throw new wt("".concat(l," connection not set"));let u=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),u=!0),!u&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(u=!0),u&&r.negotiate();const d=r.dataChannelForKind(n,i);if(d?.readyState==="open")return;const h=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<h;){if(s.isICEConnected&&((o=r.dataChannelForKind(n,i))===null||o===void 0?void 0:o.readyState)==="open")return;yield zi(50)}throw new wt("could not establish ".concat(l," connection, state: ").concat(s.getICEConnectionState()))}()})}ensurePublisherConnected(t){return D(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==Wt.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return D(this,void 0,void 0,function*(){return new Promise((t,n)=>D(this,void 0,void 0,function*(){if(!this.pcManager){n(new h0("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(de.Closing,i),this.pcManager.publisher.once(kl.RTPVideoPayloadTypes,o=>{const s=new Map;o.forEach(l=>{const u=l.codec.toLowerCase();jj(u)&&s.set(l.payload,u)}),this.emit(de.RTPVideoMapUpdate,s)});try{yield this.pcManager.negotiate(r),t()}catch(o){o instanceof h0&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Va.RR_UNKNOWN),n(o)}finally{this.off(de.Closing,i)}}))})}dataChannelForKind(t,n){if(n){if(t===cn.LOSSY)return this.lossyDCSub;if(t===cn.RELIABLE)return this.reliableDCSub}else{if(t===cn.LOSSY)return this.lossyDC;if(t===cn.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,i;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const o=this.pcManager.subscriber.getLocalDescription(),s=this.pcManager.subscriber.getRemoteDescription(),l=(i=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)!==null&&i!==void 0?i:!0,u=new Array,d=new Array;t.forEach(h=>{h.isDesired!==l&&u.push(h.trackSid),h.isEnabled||d.push(h.trackSid)}),this.client.sendSyncState(new IP({answer:o?Ch({sdp:o.sdp,type:o.type}):void 0,offer:s?Ch({sdp:s.sdp,type:s.type}):void 0,subscription:new ap({trackSids:u,subscribe:!l,participantTracks:[]}),publishTracks:Ej(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:d}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,i)=>{r?.id!==void 0&&r.id!==null&&t.push(new OP({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(cn.LOSSY),vi.PUBLISHER),n(this.dataChannelForKind(cn.RELIABLE),vi.PUBLISHER),n(this.dataChannelForKind(cn.LOSSY,!0),vi.SUBSCRIBER),n(this.dataChannelForKind(cn.RELIABLE,!0),vi.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&En.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Sr()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){Sr()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class Wa extends Error{}function y$(e){return e!==void 0&&e>13}function b$(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const r=e.destinationIdentities.length!==0?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=r,t.destinationIdentities=r}class qw{constructor(t,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return k0(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(t){return D(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(t));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),Je.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(t){return D(this,void 0,void 0,function*(){const n=yield fetch("".concat(k$(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:t});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new wt("Could not fetch region settings: ".concat(n.statusText),n.status===401?Fn.NotAllowed:void 0,n.status)})}setServerReportedRegions(t){this.regionSettings=t,this.lastUpdateAt=Date.now()}}function k$(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}class T2 extends G{constructor(t,n,r,i,o){super(t,r,o),this.sid=n,this.receiver=i}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?se.Muted:se.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(se.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return D(this,void 0,void 0,function*(){var t;return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),p1)),_j()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:o}=r;o&&this.rtpTimestamp!==o&&(this.emit(se.TimeSyncUpdate,{timestamp:i,rtpTimestamp:o}),this.rtpTimestamp=o)}};t()}}class Cl extends T2{constructor(t,n,r,i,o,s){super(t,n,G.Kind.Audio,r,s),this.monitorReceiver=()=>D(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const l=yield this.getReceiverStats();l&&this.prevStats&&this.receiver&&(this._currentBitrate=dp(l,this.prevStats)),this.prevStats=l}),this.audioContext=i,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;ko()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(ko())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return D(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(b0(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&b0(t)&&t.setSinkId(this.sinkId),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(se.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(se.AudioPlaybackFailed,i)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return D(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const Vg=100;class ou extends T2{constructor(t,n,r,i,o){super(t,n,G.Kind.Video,r,o),this.elementInfos=[],this.monitorReceiver=()=>D(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=dp(s,this.prevStats)),this.prevStats=s}),this.debouncedHandleResize=c1(()=>{this.updateDimensions()},Vg),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?bl(this._mediaStreamTrack,n):cl(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new C$(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return D(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",i=new Map;return t.forEach(o=>{o.type==="inbound-rtp"?(r=o.codecId,n={type:"video",framesDecoded:o.framesDecoded,framesDropped:o.framesDropped,framesReceived:o.framesReceived,packetsReceived:o.packetsReceived,packetsLost:o.packetsLost,frameWidth:o.frameWidth,frameHeight:o.frameHeight,pliCount:o.pliCount,firCount:o.firCount,nackCount:o.nackCount,jitter:o.jitter,timestamp:o.timestamp,bytesReceived:o.bytesReceived,decoderImplementation:o.decoderImplementation}):o.type==="codec"&&i.set(o.id,o)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return D(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var t,n;const r=this.elementInfos.reduce((l,u)=>Math.max(l,u.visibilityChangedAt||0),0),i=!((n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(l=>l.pictureInPicture),s=this.elementInfos.some(l=>l.visible)&&!i||o;if(this.lastVisible!==s){if(!s&&Date.now()-r<Vg){En.setTimeout(()=>{this.updateVisibility()},Vg);return}this.lastVisible=s,this.emit(se.VisibilityChanged,s,this)}}updateDimensions(){var t,n;let r=0,i=0;const o=this.getPixelDensity();for(const s of this.elementInfos){const l=s.width()*o,u=s.height()*o;l+u>r+i&&(r=l,i=u)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(se.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?Rw():n||(Rw()>2?2:1)}}class C${get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var i;const{target:o,isIntersecting:s}=r;o===this.element&&(this.isIntersecting=s,this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r;this.isPiP=!0,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=!1,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??Kw(t),this.isPiP=Sr()&&document.pictureInPictureElement===t,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=Kw(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var t;(t=this.handleResize)===null||t===void 0||t.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Ow().observe(this.element),Iw().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var t,n;(t=Ow())===null||t===void 0||t.unobserve(this.element),(n=Iw())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function Kw(e){let t=e.offsetTop,n=e.offsetLeft;const r=e.offsetWidth,i=e.offsetHeight,{hidden:o}=e,{opacity:s,display:l}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset&&!o&&(s!==""?parseFloat(s)>0:!0)&&l!=="none"}class io extends Hi.EventEmitter{constructor(t,n,r,i){var o;super(),this.metadataMuted=!1,this.encryption=Wr.NONE,this.log=Je,this.handleMuted=()=>{this.emit(se.Muted)},this.handleUnmuted=()=>{this.emit(se.Unmuted)},this.log=yo((o=i?.loggerName)!==null&&o!==void 0?o:Si.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=G.Source.Unknown}setTrack(t){this.track&&(this.track.off(se.Muted,this.handleMuted),this.track.off(se.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(se.Muted,this.handleMuted),t.on(se.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),kt(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Wr.NONE}get audioTrack(){if(this.track instanceof wn||this.track instanceof Cl)return this.track}get videoTrack(){if(this.track instanceof Nn||this.track instanceof ou)return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=G.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===G.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(io||(io={}));class Mu extends io{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(se.Ended)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&this.track.off(se.Ended,this.handleTrackEnded),super.setTrack(t),t&&t.on(se.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){return D(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return D(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return D(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return D(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(this.track instanceof wn){const n=this.track.mediaStreamTrack.getSettings(),r=new Set;return n.autoGainControl&&r.add(Ai.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(Ai.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(Ai.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(Ai.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(Ai.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(Ai.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function E2(e){let t,n;return typeof e.audio=="object"&&e.audio.processor&&(t=e.audio.processor),typeof e.video=="object"&&e.video.processor&&(n=e.video.processor),{audioProcessor:t,videoProcessor:n}}function _2(e){return D(this,void 0,void 0,function*(){var t,n;e??(e={}),(t=e.audio)!==null&&t!==void 0||(e.audio=!0),(n=e.video)!==null&&n!==void 0||(e.video=!0);const{audioProcessor:r,videoProcessor:i}=E2(e),o=h2(e,b2,k2),s=up(o),l=navigator.mediaDevices.getUserMedia(s);e.audio&&(Tn.userMediaPromiseMap.set("audioinput",l),l.catch(()=>Tn.userMediaPromiseMap.delete("audioinput"))),e.video&&(Tn.userMediaPromiseMap.set("videoinput",l),l.catch(()=>Tn.userMediaPromiseMap.delete("videoinput")));const u=yield l;return Promise.all(u.getTracks().map(d=>D(this,void 0,void 0,function*(){const h=d.kind==="audio";h?o.audio:o.video;let p;const m=h?s.audio:s.video;typeof m!="boolean"&&(p=m),p?p.deviceId=d.getSettings().deviceId:p={deviceId:d.getSettings().deviceId};const y=C2(d,p);return y.kind===G.Kind.Video?y.source=G.Source.Camera:y.kind===G.Kind.Audio&&(y.source=G.Source.Microphone),y.mediaStream=u,y instanceof wn&&r?yield y.setProcessor(r):y instanceof Nn&&i&&(yield y.setProcessor(i)),y})))})}function S$(e){return D(this,void 0,void 0,function*(){return(yield _2({audio:!1,video:e}))[0]})}function w$(e){return D(this,void 0,void 0,function*(){return(yield _2({audio:e,video:!1}))[0]})}var Gr;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(Gr||(Gr={}));function T$(e){switch(e){case jc.EXCELLENT:return Gr.Excellent;case jc.GOOD:return Gr.Good;case jc.POOR:return Gr.Poor;case jc.LOST:return Gr.Lost;default:return Gr.Unknown}}class x2 extends Hi.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===kh.AGENT}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:kh.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Gr.Unknown,this.log=Je,this.log=yo((l=o?.loggerName)!==null&&l!==void 0?l:Si.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=s,this._attributes={}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(G.Source.Camera);return!(!((t=n?.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(G.Source.Microphone);return!(!((t=n?.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(G.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,this.log.trace("update participant info",Object.assign(Object.assign({},this.logContext),{info:t})),!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(Y.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(Y.ParticipantNameChanged,t)}_setAttributes(t){const n=xj(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(Y.AttributesChanged,n)}setPermissions(t){var n,r,i,o,s,l;const u=this.permissions,d=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||t.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||t.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((h,p)=>{var m;return h!==((m=this.permissions)===null||m===void 0?void 0:m.canPublishSources[p])})||t.canSubscribeMetrics!==((l=this.permissions)===null||l===void 0?void 0:l.canSubscribeMetrics);return this.permissions=t,d&&this.emit(Y.ParticipantPermissionsChanged,u),d}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(Y.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=T$(t),n!==this._connectionQuality&&this.emit(Y.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>(n.track instanceof Cl||n.track instanceof wn)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(se.Muted,()=>{this.emit(Y.TrackMuted,t)}),t.on(se.Unmuted,()=>{this.emit(Y.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case G.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case G.Kind.Video:this.videoTrackPublications.set(t.trackSid,t);break}}}function E$(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new PP({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=e.allowAll)!==null&&r!==void 0?r:!1,trackSids:e.allowedTrackSids||[]})}class T0 extends x2{constructor(t,n,r,i){super(t,n,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Wr.NONE,this.enabledPublishVideoCodecs=[],this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new v2)},this.handleReconnected=()=>{var o,s;(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||s===void 0||s.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var o,s;this.reconnectFuture&&(this.reconnectFuture.promise.catch(l=>this.log.warn(l.message,this.logContext)),(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||s===void 0||s.call(o,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.handleSignalRequestResponse=o=>{const{requestId:s,reason:l,message:u}=o,d=this.pendingSignalRequests.get(s);d&&(l!==LP.OK&&d.reject(new Ew(u,l)),this.pendingSignalRequests.delete(s))},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>E$(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,s)=>{if(s===void 0&&(s=!0),!o.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),kt(o)));return}this.engine.updateMuteStatus(o.sid,s)},this.onTrackUpstreamPaused=o=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),kt(o))),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),kt(o))),this.onTrackMuted(o,o.isMuted)},this.onTrackFeatureUpdate=o=>{const s=this.audioTrackPublications.get(o.sid);if(!s){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(o.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(s.trackSid,s.getTrackFeatures())},this.handleSubscribedQualityUpdate=o=>D(this,void 0,void 0,function*(){var s,l,u,d,h,p;if(!(!((h=this.roomOptions)===null||h===void 0)&&h.dynacast))return;const m=this.videoTrackPublications.get(o.trackSid);if(!m){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}if(o.subscribedCodecs.length>0){if(!m.videoTrack)return;const T=yield m.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var y=!0,C=Ka(T),k;k=yield C.next(),s=k.done,!s;y=!0){d=k.value,y=!1;const v=d;kj(v)&&(this.log.debug("publish ".concat(v," for ").concat(m.videoTrack.sid),Object.assign(Object.assign({},this.logContext),kt(m))),yield this.publishAdditionalCodecForTrack(m.videoTrack,v,m.options))}}catch(v){l={error:v}}finally{try{!y&&!s&&(u=C.return)&&(yield u.call(C))}finally{if(l)throw l.error}}}else o.subscribedQualities.length>0&&(yield(p=m.videoTrack)===null||p===void 0?void 0:p.setPublishingLayers(o.subscribedQualities))}),this.handleLocalTrackUnpublished=o=>{const s=this.trackPublications.get(o.trackSid);if(!s){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:o.trackSid}));return}this.unpublishTrack(s.track)},this.handleTrackEnded=o=>D(this,void 0,void 0,function*(){if(o.source===G.Source.ScreenShare||o.source===G.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),kt(o))),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(o instanceof wn||o instanceof Nn)try{if(Sr())try{const s=yield navigator?.permissions.query({name:o.source===G.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw this.log.warn("user has revoked access to ".concat(o.source),Object.assign(Object.assign({},this.logContext),kt(o))),s.onchange=()=>{s.state!=="denied"&&(o.isMuted||o.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),kt(o))),o instanceof wn?yield o.restartTrack({deviceId:"default"}):yield o.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),kt(o))),yield o.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map,this.pendingSignalRequests=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Wr.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){this.engine=t,this.engine.on(de.RemoteMute,(n,r)=>{const i=this.trackPublications.get(n);!i||!i.track||(r?i.mute():i.unmute())}),this.engine.on(de.Connected,this.handleReconnected).on(de.SignalRestarted,this.handleReconnected).on(de.SignalResumed,this.handleReconnected).on(de.Restarting,this.handleReconnecting).on(de.Resuming,this.handleReconnecting).on(de.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(de.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(de.Disconnected,this.handleDisconnected).on(de.SignalRequestResponse,this.handleSignalRequestResponse)}setMetadata(t){return D(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return D(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return D(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return D(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:o,attributes:s}=n;return function*(){return new Promise((l,u)=>D(r,void 0,void 0,function*(){var d,h;try{let p=!1;const m=yield this.engine.client.sendUpdateLocalMetadata((d=i??this.metadata)!==null&&d!==void 0?d:"",(h=o??this.name)!==null&&h!==void 0?h:"",s),y=performance.now();for(this.pendingSignalRequests.set(m,{resolve:l,reject:C=>{u(C),p=!0},values:{name:o,metadata:i,attributes:s}});performance.now()-y<5e3&&!p;){if((!o||this.name===o)&&(!i||this.metadata===i)&&(!s||Object.entries(s).every(C=>{let[k,T]=C;return this.attributes[k]===T||T===""&&!this.attributes[k]}))){this.pendingSignalRequests.delete(m),l();return}yield zi(50)}u(new Ew("Request to update local metadata timed out","TimeoutError"))}catch(p){p instanceof Error&&u(p)}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(G.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(G.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(G.Source.ScreenShare,t,n,r)}setPermissions(t){const n=this.permissions,r=super.setPermissions(t);return r&&n&&this.emit(Y.ParticipantPermissionsChanged,n),r}setE2EEEnabled(t){return D(this,void 0,void 0,function*(){this.encryptionType=t?Wr.GCM:Wr.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,i){return D(this,void 0,void 0,function*(){var o,s;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let l=this.getTrackPublication(t);if(n)if(l)yield l.unmute();else{let u;if(this.pendingPublishing.has(t)){const d=yield this.waitForPendingPublicationOfSource(t);return d||this.log.info("skipping duplicate published source",Object.assign(Object.assign({},this.logContext),{source:t})),yield d?.unmute(),d}this.pendingPublishing.add(t);try{switch(t){case G.Source.Camera:u=yield this.createTracks({video:(o=r)!==null&&o!==void 0?o:!0});break;case G.Source.Microphone:u=yield this.createTracks({audio:(s=r)!==null&&s!==void 0?s:!0});break;case G.Source.ScreenShare:u=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Ni(t)}const d=[];for(const p of u)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),kt(p))),d.push(this.publishTrack(p,i));[l]=yield Promise.all(d)}catch(d){throw u?.forEach(h=>{h.stop()}),d instanceof Error&&!(d instanceof Ni)&&this.emit(Y.MediaDevicesError,d),d}finally{this.pendingPublishing.delete(t)}}else if(l?.track||(l=yield this.waitForPendingPublicationOfSource(t)),l&&l.track)if(t===G.Source.ScreenShare){l=yield this.unpublishTrack(l.track);const u=this.getTrackPublication(G.Source.ScreenShareAudio);u&&u.track&&this.unpublishTrack(u.track)}else yield l.mute();return l})}enableCameraAndMicrophone(){return D(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(G.Source.Camera)||this.pendingPublishing.has(G.Source.Microphone))){this.pendingPublishing.add(G.Source.Camera),this.pendingPublishing.add(G.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(G.Source.Camera),this.pendingPublishing.delete(G.Source.Microphone)}}})}createTracks(t){return D(this,void 0,void 0,function*(){var n,r;t??(t={});const{audioProcessor:i,videoProcessor:o}=E2(t),s=h2(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults),l=up(s);let u;try{u=yield navigator.mediaDevices.getUserMedia(l)}catch(d){throw d instanceof Error&&(l.audio&&(this.microphoneError=d),l.video&&(this.cameraError=d)),d}return l.audio&&(this.microphoneError=void 0,this.emit(Y.AudioStreamAcquired)),l.video&&(this.cameraError=void 0),Promise.all(u.getTracks().map(d=>D(this,void 0,void 0,function*(){const h=d.kind==="audio";h?s.audio:s.video;let p;const m=h?l.audio:l.video;typeof m!="boolean"&&(p=m);const y=C2(d,p,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return y.kind===G.Kind.Video?y.source=G.Source.Camera:y.kind===G.Kind.Audio&&(y.source=G.Source.Microphone,y.setAudioContext(this.audioContext)),y.mediaStream=u,y instanceof wn&&i?yield y.setProcessor(i):y instanceof Nn&&o&&(yield y.setProcessor(o)),y})))})}createScreenTracks(t){return D(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new l1("getDisplayMedia not supported");t.resolution===void 0&&!Lj()&&(t.resolution=u1.h1080fps30.resolution);const n=Tj(t),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Ni("no video track found");const o=new Nn(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=G.Source.ScreenShare,t.contentHint&&(o.mediaStreamTrack.contentHint=t.contentHint);const s=[o];if(r.getAudioTracks().length>0){this.emit(Y.AudioStreamAcquired);const l=new wn(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});l.source=G.Source.ScreenShareAudio,s.push(l)}return s})}publishTrack(t,n){return D(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return D(this,arguments,void 0,function(r,i){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var l,u,d,h;r instanceof wn&&r.setAudioContext(o.audioContext),yield(l=o.reconnectFuture)===null||l===void 0?void 0:l.promise,o.republishPromise&&!s&&(yield o.republishPromise),r instanceof Ks&&o.pendingPublishPromises.has(r)&&(yield o.pendingPublishPromises.get(r));let p;if(r instanceof MediaStreamTrack)p=r.getConstraints();else{p=r.constraints;let v;switch(r.source){case G.Source.Microphone:v="audioinput";break;case G.Source.Camera:v="videoinput"}v&&o.activeDeviceMap.has(v)&&(p=Object.assign(Object.assign({},p),{deviceId:o.activeDeviceMap.get(v)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new wn(r,p,!0,o.audioContext,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;case"video":r=new Nn(r,p,!0,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;default:throw new Ni("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});let m;if(o.trackPublications.forEach(v=>{v.track&&v.track===r&&(m=v)}),m)return o.log.warn("track has already been published, skipping",Object.assign(Object.assign({},o.logContext),kt(m))),m;const y="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,C=(u=i?.forceStereo)!==null&&u!==void 0?u:y;C&&(i||(i={}),i.dtx===void 0&&o.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},o.logContext),kt(r))),i.red===void 0&&o.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(d=i.dtx)!==null&&d!==void 0||(i.dtx=!1),(h=i.red)!==null&&h!==void 0||(i.red=!1));const k=Object.assign(Object.assign({},o.roomOptions.publishDefaults),i);!Aj()&&o.roomOptions.e2ee&&(o.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},o.logContext)),k.simulcast=!1),k.source&&(r.source=k.source);const T=o.publish(r,k,C);o.pendingPublishPromises.set(r,T);try{return yield T}catch(v){throw v}finally{o.pendingPublishPromises.delete(r)}}()})}publish(t,n,r){return D(this,void 0,void 0,function*(){var i,o,s,l,u,d,h,p,m,y;Array.from(this.trackPublications.values()).find(I=>t instanceof Ks&&I.source===t.source)&&t.source!==G.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),kt(t))),n.stopMicTrackOnMute&&t instanceof wn&&(t.stopOnMute=!0),t.source===G.Source.ScreenShare&&Dl()&&(n.simulcast=!1),n.videoCodec==="av1"&&!Ij()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!Oj()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=C0),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(I=>n.videoCodec===jf(I.mime))||(n.videoCodec=jf(this.enabledPublishVideoCodecs[0].mime)));const k=n.videoCodec;t.on(se.Muted,this.onTrackMuted),t.on(se.Unmuted,this.onTrackUnmuted),t.on(se.Ended,this.handleTrackEnded),t.on(se.UpstreamPaused,this.onTrackUpstreamPaused),t.on(se.UpstreamResumed,this.onTrackUpstreamResumed),t.on(se.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const T=new i0({cid:t.mediaStreamTrack.id,name:n.name,type:G.kindToProto(t.kind),muted:t.isMuted,source:G.sourceToProto(t.source),disableDtx:!(!((i=n.dtx)!==null&&i!==void 0)||i),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n?.stream});let v;if(t.kind===G.Kind.Video){let I={width:0,height:0};try{I=yield t.waitForDimensions()}catch{const N=(l=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&l!==void 0?l:Ou.h720.resolution;I={width:N.width,height:N.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),kt(t)),{dims:I}))}T.width=I.width,T.height=I.height,t instanceof Nn&&(ru(k)&&(t.source===G.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),kt(t))))),n.scalabilityMode=(u=n.scalabilityMode)!==null&&u!==void 0?u:"L3T3_KEY"),T.simulcastCodecs=[new r0({codec:k,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:C0}),n.backupCodec&&k!==n.backupCodec.codec&&T.encryption===Wr.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),T.simulcastCodecs.push(new r0({codec:n.backupCodec.codec,cid:""})))),v=w0(t.source===G.Source.ScreenShare,T.width,T.height,n),T.layers=Ww(T.width,T.height,v,ru(n.videoCodec))}else t.kind===G.Kind.Audio&&(v=[{maxBitrate:(d=n.audioPreset)===null||d===void 0?void 0:d.maxBitrate,priority:(p=(h=n.audioPreset)===null||h===void 0?void 0:h.priority)!==null&&p!==void 0?p:"high",networkPriority:(y=(m=n.audioPreset)===null||m===void 0?void 0:m.priority)!==null&&y!==void 0?y:"high"}]);if(!this.engine||this.engine.isClosed)throw new ln("cannot publish track when not connected");const w=()=>D(this,void 0,void 0,function*(){var I,M,N;if(!this.engine.pcManager)throw new ln("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,v),t instanceof Nn&&((I=n.degradationPreference)!==null&&I!==void 0||(n.degradationPreference=p$(t)),t.setDegradationPreference(n.degradationPreference)),v)if(Dl()&&t.kind===G.Kind.Audio){let _;for(const z of this.engine.pcManager.publisher.getTransceivers())if(z.sender===t.sender){_=z;break}_&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:_,codec:"opus",maxbr:!((M=v[0])===null||M===void 0)&&M.maxBitrate?v[0].maxBitrate/1e3:0})}else t.codec&&ru(t.codec)&&(!((N=v[0])===null||N===void 0)&&N.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:T.cid,codec:t.codec,maxbr:v[0].maxBitrate/1e3});yield this.engine.negotiate()});let P;if(this.enabledPublishVideoCodecs.length>0)P=(yield Promise.all([this.engine.addTrack(T),w()]))[0];else{P=yield this.engine.addTrack(T);let I;if(P.codecs.forEach(M=>{I===void 0&&(I=M.mimeType)}),I&&t.kind===G.Kind.Video){const M=jf(I);M!==k&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),kt(t)),{codec:M})),n.videoCodec=M,v=w0(t.source===G.Source.ScreenShare,T.width,T.height,n))}yield w()}const E=new Mu(t.kind,P,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return E.options=n,t.sid=P.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:v,trackInfo:P})),t instanceof Nn?t.startMonitor(this.engine.client):t instanceof wn&&t.startMonitor(),this.addTrackPublication(E),this.emit(Y.LocalTrackPublished,E),E})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return D(this,void 0,void 0,function*(){var i;if(this.encryptionType!==Wr.NONE)return;let o;if(this.trackPublications.forEach(y=>{y.track&&y.track===t&&(o=y)}),!o)throw new Ni("track is not published");if(!(t instanceof Nn))throw new Ni("track is not a video track");const s=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),l=d$(t,n,s);if(!l){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),kt(t)));return}const u=t.addSimulcastTrack(n,l);if(!u)return;const d=new i0({cid:u.mediaStreamTrack.id,type:G.kindToProto(t.kind),muted:t.isMuted,source:G.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:s.videoCodec,cid:u.mediaStreamTrack.id}]});if(d.layers=Ww(d.width,d.height,l),!this.engine||this.engine.isClosed)throw new ln("cannot publish track when not connected");const h=()=>D(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,u,s,l),yield this.engine.negotiate()}),m=(yield Promise.all([this.engine.addTrack(d),h()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:l,trackInfo:m}))})}unpublishTrack(t,n){return D(this,void 0,void 0,function*(){var r,i;if(t instanceof Ks){const d=this.pendingPublishPromises.get(t);d&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),kt(t))),yield d)}const o=this.getPublicationForTrack(t),s=o?kt(o):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),s)),!o||!o.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),s));return}t=o.track,t.off(se.Muted,this.onTrackMuted),t.off(se.Unmuted,this.onTrackUnmuted),t.off(se.Ended,this.handleTrackEnded),t.off(se.UpstreamPaused,this.onTrackUpstreamPaused),t.off(se.UpstreamResumed,this.onTrackUpstreamResumed),t.off(se.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n&&t.stop();let l=!1;const u=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Wt.FAILED&&u)try{for(const d of this.engine.pcManager.publisher.getTransceivers())d.sender===u&&(d.direction="inactive",l=!0);if(this.engine.removeTrack(u)&&(l=!0),t instanceof Nn){for(const[,d]of t.simulcastCodecs)d.sender&&(this.engine.removeTrack(d.sender)&&(l=!0),d.sender=void 0);t.simulcastCodecs.clear()}}catch(d){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),s),{error:d}))}switch(this.trackPublications.delete(o.trackSid),o.kind){case G.Kind.Audio:this.audioTrackPublications.delete(o.trackSid);break;case G.Kind.Video:this.videoTrackPublications.delete(o.trackSid);break}return this.emit(Y.LocalTrackUnpublished,o),o.setTrack(void 0),l&&(yield this.engine.negotiate()),o})}unpublishTracks(t){return D(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>this.unpublishTrack(r)))).filter(r=>r instanceof Mu)})}republishAllTracks(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Promise((o,s)=>D(r,void 0,void 0,function*(){try{const l=[];this.trackPublications.forEach(u=>{u.track&&(n&&(u.options=Object.assign(Object.assign({},u.options),n)),l.push(u))}),yield Promise.all(l.map(u=>D(this,void 0,void 0,function*(){const d=u.track;yield this.unpublishTrack(d,!1),i&&!d.isMuted&&d.source!==G.Source.ScreenShare&&d.source!==G.Source.ScreenShareAudio&&(d instanceof wn||d instanceof Nn)&&!d.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:u.trackSid})),yield d.restartTrack()),yield this.publishOrRepublishTrack(d,u.options,!0)}))),o()}catch(l){s(l)}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return D(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const o=i.reliable?cn.RELIABLE:cn.LOSSY,s=i.destinationIdentities,l=i.topic,u=new $c({kind:o,value:{case:"user",value:new gP({participantIdentity:r.identity,payload:n,destinationIdentities:s,topic:l})}});yield r.engine.sendDataPacket(u,o)}()})}publishDtmf(t,n){return D(this,void 0,void 0,function*(){const r=new $c({kind:cn.RELIABLE,value:{case:"sipDtmf",value:new vP({code:t,digit:n})}});yield this.engine.sendDataPacket(r,cn.RELIABLE)})}sendChatMessage(t){return D(this,void 0,void 0,function*(){const n={id:crypto.randomUUID(),message:t,timestamp:Date.now()},r=new $c({value:{case:"chatMessage",value:new t0(Object.assign(Object.assign({},n),{timestamp:Ut.parse(n.timestamp)}))}});return yield this.engine.sendDataPacket(r,cn.RELIABLE),this.emit(Y.ChatMessage,n),n})}editChatMessage(t,n){return D(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),i=new $c({value:{case:"chatMessage",value:new t0(Object.assign(Object.assign({},r),{timestamp:Ut.parse(r.timestamp),editTimestamp:Ut.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,cn.RELIABLE),this.emit(Y.ChatMessage,r),r})}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return t.sid!==this.sid||!super.updateInfo(t)?!1:(t.tracks.forEach(n=>{var r,i;const o=this.trackPublications.get(n.sid);if(o){const s=o.isMuted||((i=(r=o.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);s!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),kt(o)),{mutedOnServer:s})),this.engine.client.sendMuteTrack(n.sid,s))}}),!0)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(t instanceof MediaStreamTrack?(i instanceof wn||i instanceof Nn)&&i.mediaStreamTrack===t&&(n=r):t===i&&(n=r))}),n}waitForPendingPublicationOfSource(t){return D(this,void 0,void 0,function*(){const n=Array.from(this.pendingPublishPromises.entries()).find(r=>{let[i]=r;return i.source===t});if(n)return n[1]})}}class m1 extends io{constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=Jr.HIGH,this.handleEnded=o=>{this.setTrack(void 0),this.emit(se.Ended,o)},this.handleVisibilityChange=o=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(o),this.logContext),this.disabled=!o,this.emitTrackUpdate()},this.handleVideoDimensionsChange=o=>{this.log.debug("adaptivestream video dimensions ".concat(o.width,"x").concat(o.height),this.logContext),this.videoDimensions=o,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const i=new ap({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new yP({participantSid:"",trackSids:[this.trackSid]})]});this.emit(se.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?io.SubscriptionStatus.Unsubscribed:super.isSubscribed?io.SubscriptionStatus.Subscribed:io.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?io.PermissionStatus.Allowed:io.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return!this.disabled}setEnabled(t){!this.isManualOperationAllowed()||this.disabled===!t||(this.disabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.currentVideoQuality===t||(this.currentVideoQuality=t,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.videoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.videoDimensions)===null||r===void 0?void 0:r.height)===t.height||(this.track instanceof ou&&(this.videoDimensions=t),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&this.track instanceof ou&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==t&&(i&&(i.off(se.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(se.VisibilityChanged,this.handleVisibilityChange),i.off(se.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(se.Unsubscribed,i)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(se.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(se.VisibilityChanged,this.handleVisibilityChange),t.on(se.Ended,this.handleEnded),this.emit(se.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(se.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?se.Muted:se.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(se.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(se.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.kind===G.Kind.Video&&this.isAdaptiveStream?(this.log.warn("adaptive stream is enabled, cannot change video track settings",this.logContext),!1):this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return this.track instanceof ou&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new wP({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(t.width=Math.ceil(this.videoDimensions.width),t.height=Math.ceil(this.videoDimensions.height)):this.currentVideoQuality!==void 0?t.quality=this.currentVideoQuality:t.quality=Jr.HIGH,this.emit(se.UpdateSettings,t)}}class Sh extends x2{static fromParticipantInfo(t,n,r){return new Sh(t,n.sid,n.identity,n.name,n.metadata,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,i,o,s){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:kh.STANDARD;super(n,r||"",i,o,s,l),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(se.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign({},this.logContext),kt(t))),this.signalClient.sendUpdateTrackSettings(n)}),t.on(se.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(se.SubscriptionPermissionChanged,n=>{this.emit(Y.TrackSubscriptionPermissionChanged,t,n)}),t.on(se.SubscriptionStatusChanged,n=>{this.emit(Y.TrackSubscriptionStatusChanged,t,n)}),t.on(se.Subscribed,n=>{this.emit(Y.TrackSubscribed,n,t)}),t.on(se.Unsubscribed,n=>{this.emit(Y.TrackUnsubscribed,n,t)}),t.on(se.SubscriptionFailed,n=>{this.emit(Y.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,i,o,s){let l=this.getTrackPublicationBySid(n);if(l||n.startsWith("TR")||this.trackPublications.forEach(h=>{!l&&t.kind===h.kind.toString()&&(l=h)}),!l){if(s===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(Y.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,i,o,s-1)},150);return}if(t.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),kt(l))),this.emit(Y.TrackSubscriptionFailed,n);return}const u=t.kind==="video";let d;return u?d=new ou(t,n,i,o):d=new Cl(t,n,i,this.audioContext,this.audioOutput),d.source=l.source,d.isMuted=l.isMuted,d.setMediaStream(r),d.start(),l.setTrack(d),this.volumeMap.has(l.source)&&d instanceof Cl&&d.setVolume(this.volumeMap.get(l.source)),l}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(i=>{var o,s;let l=this.getTrackPublicationBySid(i.sid);if(l)l.updateInfo(i);else{const u=G.kindFromProto(i.type);if(!u)return;l=new m1(u,i,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(s=this.loggerOptions)===null||s===void 0?void 0:s.loggerName}),l.updateInfo(i),r.set(i.sid,l);const d=Array.from(this.trackPublications.values()).find(h=>h.source===l?.source);d&&l.source!==G.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(l.source),Object.assign(Object.assign({},this.logContext),{oldTrack:kt(d),newTrack:kt(l)})),this.addTrackPublication(l)}n.set(i.sid,l)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),kt(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(Y.TrackPublished,i)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case G.Kind.Audio:this.audioTrackPublications.delete(t);break;case G.Kind.Video:this.videoTrackPublications.delete(t);break}n&&this.emit(Y.TrackUnpublished,r)}setAudioOutput(t){return D(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var i;r.track instanceof Cl&&n.push(r.track.setSinkId((i=t.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var nt;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(nt||(nt={}));const _$=4*1e3;class wh extends Hi.EventEmitter{constructor(t){var n,r,i;super(),n=this,this.state=nt.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=Je,this.bufferedEvents=[],this.isResuming=!1,this.connect=(o,s,l)=>D(this,void 0,void 0,function*(){var u;if(!Mj())throw ko()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const d=yield this.disconnectLock.lock();if(this.state===nt.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),d(),Promise.resolve();if(this.connectFuture)return d(),this.connectFuture.promise;this.setAndEmitConnectionState(nt.Connecting),((u=this.regionUrlProvider)===null||u===void 0?void 0:u.getServerUrl().toString())!==o&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),k0(new URL(o))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new qw(o,s):this.regionUrlProvider.updateToken(s),this.regionUrlProvider.fetchRegionSettings().then(m=>{var y;(y=this.regionUrlProvider)===null||y===void 0||y.setServerReportedRegions(m)}).catch(m=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:m}))}));const h=(m,y,C)=>D(this,void 0,void 0,function*(){var k,T;this.abortController&&this.abortController.abort();const v=new AbortController;this.abortController=v,d?.();try{yield this.attemptConnection(C??o,s,l,v),this.abortController=void 0,m()}catch(w){if(this.regionUrlProvider&&w instanceof wt&&w.reason!==Fn.Cancelled&&w.reason!==Fn.NotAllowed){let P=null;try{P=yield this.regionUrlProvider.getNextBestRegionUrl((k=this.abortController)===null||k===void 0?void 0:k.signal)}catch(E){if(E instanceof wt&&(E.status===401||E.reason===Fn.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),y(E);return}}P&&!(!((T=this.abortController)===null||T===void 0)&&T.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(w.message,". Retrying with another region: ").concat(P),this.logContext),this.recreateEngine(),yield h(m,y,P)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),y(w))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),y(w)}}),p=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new v2((m,y)=>{h(m,y,p)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(o,s,l,u,d,h)=>D(this,void 0,void 0,function*(){var p,m,y;const C=yield l.join(o,s,{autoSubscribe:u.autoSubscribe,adaptiveStream:typeof d.adaptiveStream=="object"?!0:d.adaptiveStream,maxRetries:u.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:u.websocketTimeout},h.signal);let k=C.serverInfo;if(k||(k={version:C.serverVersion,region:C.serverRegion}),this.serverInfo=k,this.log.debug("connected to Livekit Server ".concat(Object.entries(k).map(T=>{let[v,w]=T;return"".concat(v,": ").concat(w)}).join(", ")),{room:(p=C.room)===null||p===void 0?void 0:p.name,roomSid:(m=C.room)===null||m===void 0?void 0:m.sid,identity:(y=C.participant)===null||y===void 0?void 0:y.identity}),!k.version)throw new hj("unknown server version");return k.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),d.dynacast=!1),C}),this.applyJoinResponse=o=>{const s=o.participant;if(this.localParticipant.sid=s.sid,this.localParticipant.identity=s.identity,this.localParticipant.setEnabledPublishCodecs(o.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(o.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([s,...o.otherParticipants]),o.room&&this.handleRoomUpdate(o.room)},this.attemptConnection=(o,s,l,u)=>D(this,void 0,void 0,function*(){var d,h,p;this.state===nt.Reconnecting||this.isResuming||!((d=this.engine)===null||d===void 0)&&d.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((h=this.regionUrlProvider)===null||h===void 0)&&h.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},h1),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const m=yield this.connectSignal(o,s,this.engine,this.connOptions,this.options,u);this.applyJoinResponse(m),this.setupLocalParticipantEvents(),this.emit(K.SignalConnected)}catch(m){yield this.engine.close(),this.recreateEngine();const y=new wt("could not establish signal connection");throw m instanceof Error&&(y.message="".concat(y.message,": ").concat(m.message)),m instanceof wt&&(y.reason=m.reason,y.status=m.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:m})),y}if(u.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new wt("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,u)}catch(m){throw yield this.engine.close(),this.recreateEngine(),m}Sr()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Sr()&&(document.addEventListener("freeze",this.onPageLeave),(p=navigator.mediaDevices)===null||p===void 0||p.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(nt.Connected),this.emit(K.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return D(n,[...s],void 0,function(){var u=this;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var h,p,m,y;const C=yield u.disconnectLock.lock();try{if(u.state===nt.Disconnected){u.log.debug("already disconnected",u.logContext);return}u.log.info("disconnect from room",Object.assign({},u.logContext)),(u.state===nt.Connecting||u.state===nt.Reconnecting||u.isResuming)&&(u.log.warn("abort connection attempt",u.logContext),(h=u.abortController)===null||h===void 0||h.abort(),(m=(p=u.connectFuture)===null||p===void 0?void 0:p.reject)===null||m===void 0||m.call(p,new wt("Client initiated disconnect")),u.connectFuture=void 0),!((y=u.engine)===null||y===void 0)&&y.client.isDisconnected||(yield u.engine.client.sendLeave()),u.engine&&(yield u.engine.close()),u.handleDisconnect(d,gl.CLIENT_INITIATED),u.engine=void 0}finally{C()}}()})},this.onPageLeave=()=>D(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>D(this,void 0,void 0,function*(){const o=[],s=bo();if(s&&s.os==="iOS"){const l="livekit-dummy-audio-el";let u=document.getElementById(l);if(!u){u=document.createElement("audio"),u.id=l,u.autoplay=!0,u.hidden=!0;const d=Dg();d.enabled=!0;const h=new MediaStream([d]);u.srcObject=h,document.addEventListener("visibilitychange",()=>{u&&(u.srcObject=document.hidden?null:h,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(u),this.once(K.Disconnected,()=>{u?.remove(),u=null})}o.push(u)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(u=>{u.track&&u.track.attachedElements.forEach(d=>{o.push(d)})})});try{yield Promise.all([this.acquireAudioContext(),...o.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>D(this,void 0,void 0,function*(){const o=[];for(const s of this.remoteParticipants.values())s.videoTrackPublications.forEach(l=>{var u;(u=l.track)===null||u===void 0||u.attachedElements.forEach(d=>{o.includes(d)||o.push(d)})});yield Promise.all(o.map(s=>s.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(s=>{s.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const o of this.remoteParticipants.values())this.handleParticipantDisconnected(o.identity,o);this.setAndEmitConnectionState(nt.Reconnecting)&&this.emit(K.Reconnecting)},this.handleSignalRestarted=o=>D(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(o.serverRegion),Object.assign(Object.assign({},this.logContext),{region:o.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(o);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(s){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:s}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:o.serverRegion}))}catch{return}this.setAndEmitConnectionState(nt.Connected),this.emit(K.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=o=>{o.forEach(s=>{var l;if(s.identity===this.localParticipant.identity){this.localParticipant.updateInfo(s);return}s.identity===""&&(s.identity=(l=this.sidToIdentity.get(s.sid))!==null&&l!==void 0?l:"");let u=this.remoteParticipants.get(s.identity);s.state===e0.DISCONNECTED?this.handleParticipantDisconnected(s.identity,u):u=this.getOrCreateParticipant(s.identity,s)})},this.handleActiveSpeakersUpdate=o=>{const s=[],l={};o.forEach(u=>{if(l[u.sid]=!0,u.sid===this.localParticipant.sid)this.localParticipant.audioLevel=u.level,this.localParticipant.setIsSpeaking(!0),s.push(this.localParticipant);else{const d=this.getRemoteParticipantBySid(u.sid);d&&(d.audioLevel=u.level,d.setIsSpeaking(!0),s.push(d))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(u=>{l[u.sid]||(u.audioLevel=0,u.setIsSpeaking(!1))}),this.activeSpeakers=s,this.emitWhenConnected(K.ActiveSpeakersChanged,s)},this.handleSpeakersChanged=o=>{const s=new Map;this.activeSpeakers.forEach(u=>{const d=this.remoteParticipants.get(u.identity);d&&d.sid!==u.sid||s.set(u.sid,u)}),o.forEach(u=>{let d=this.getRemoteParticipantBySid(u.sid);u.sid===this.localParticipant.sid&&(d=this.localParticipant),d&&(d.audioLevel=u.level,d.setIsSpeaking(u.active),u.active?s.set(u.sid,d):s.delete(u.sid))});const l=Array.from(s.values());l.sort((u,d)=>d.audioLevel-u.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(K.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=o=>{o.streamStates.forEach(s=>{const l=this.getRemoteParticipantBySid(s.participantSid);if(!l)return;const u=l.getTrackPublicationBySid(s.trackSid);if(!u||!u.track)return;const d=G.streamStateFromProto(s.state);d!==u.track.streamState&&(u.track.streamState=d,l.emit(Y.TrackStreamStateChanged,u,u.track.streamState),this.emitWhenConnected(K.TrackStreamStateChanged,u,u.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=o=>{const s=this.getRemoteParticipantBySid(o.participantSid);if(!s)return;const l=s.getTrackPublicationBySid(o.trackSid);l&&l.setAllowed(o.allowed)},this.handleSubscriptionError=o=>{const s=Array.from(this.remoteParticipants.values()).find(u=>u.trackPublications.has(o.trackSid));if(!s)return;const l=s.getTrackPublicationBySid(o.trackSid);l&&l.setSubscriptionError(o.err)},this.handleDataPacket=o=>{const s=this.remoteParticipants.get(o.participantIdentity);o.value.case==="user"?this.handleUserPacket(s,o.value.value,o.kind):o.value.case==="transcription"?this.handleTranscription(s,o.value.value):o.value.case==="sipDtmf"?this.handleSipDtmf(s,o.value.value):o.value.case==="chatMessage"?this.handleChatMessage(s,o.value.value):o.value.case==="metrics"&&this.handleMetrics(o.value.value,s)},this.handleUserPacket=(o,s,l)=>{this.emit(K.DataReceived,s.payload,o,l,s.topic),o?.emit(Y.DataReceived,s.payload,l)},this.handleSipDtmf=(o,s)=>{this.emit(K.SipDTMFReceived,s,o),o?.emit(Y.SipDTMFReceived,s)},this.bufferedSegments=new Map,this.handleTranscription=(o,s)=>{const l=s.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(s.transcribedParticipantIdentity),u=l?.trackPublications.get(s.trackId),d=zj(s,this.transcriptionReceivedTimes);u?.emit(se.TranscriptionReceived,d),l?.emit(Y.TranscriptionReceived,d,u),this.emit(K.TranscriptionReceived,d,l,u)},this.handleChatMessage=(o,s)=>{const l=Bj(s);this.emit(K.ChatMessage,l,o)},this.handleMetrics=(o,s)=>{this.emit(K.MetricsReceived,o,s)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(K.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=o=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:o})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(K.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(K.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(K.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>D(this,void 0,void 0,function*(){const o=yield Tn.getInstance().getDevices(void 0,!1),s=["audiooutput"];for(let l of s){const u=o.filter(d=>d.kind===l);u.length>0&&!u.find(d=>d.deviceId===this.getActiveDevice(l))&&(yield this.switchActiveDevice(l,u[0].deviceId))}this.emit(K.MediaDevicesChanged)}),this.handleRoomUpdate=o=>{const s=this.roomInfo;this.roomInfo=o,s&&s.metadata!==o.metadata&&this.emitWhenConnected(K.RoomMetadataChanged,o.metadata),s?.activeRecording!==o.activeRecording&&this.emitWhenConnected(K.RecordingStatusChanged,o.activeRecording)},this.handleConnectionQualityUpdate=o=>{o.updates.forEach(s=>{if(s.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(s.quality);return}const l=this.getRemoteParticipantBySid(s.participantSid);l&&l.setConnectionQuality(s.quality)})},this.onLocalParticipantMetadataChanged=o=>{this.emit(K.ParticipantMetadataChanged,o,this.localParticipant)},this.onLocalParticipantNameChanged=o=>{this.emit(K.ParticipantNameChanged,o,this.localParticipant)},this.onLocalAttributesChanged=o=>{this.emit(K.ParticipantAttributesChanged,o,this.localParticipant)},this.onLocalTrackMuted=o=>{this.emit(K.TrackMuted,o,this.localParticipant)},this.onLocalTrackUnmuted=o=>{this.emit(K.TrackUnmuted,o,this.localParticipant)},this.onTrackProcessorUpdate=o=>{var s;(s=o?.onPublish)===null||s===void 0||s.call(o,this)},this.onLocalTrackPublished=o=>D(this,void 0,void 0,function*(){var s,l,u,d,h,p;(s=o.track)===null||s===void 0||s.on(se.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=o.track)===null||l===void 0||l.on(se.Restarted,this.onLocalTrackRestarted),(h=(d=(u=o.track)===null||u===void 0?void 0:u.getProcessor())===null||d===void 0?void 0:d.onPublish)===null||h===void 0||h.call(d,this),this.emit(K.LocalTrackPublished,o,this.localParticipant),o.track instanceof wn&&(yield o.track.checkForSilence())&&this.emit(K.LocalAudioSilenceDetected,o);const m=yield(p=o.track)===null||p===void 0?void 0:p.getDeviceId(),y=xw(o.source);y&&m&&m!==this.localParticipant.activeDeviceMap.get(y)&&(this.localParticipant.activeDeviceMap.set(y,m),this.emit(K.ActiveDeviceChanged,y,m))}),this.onLocalTrackUnpublished=o=>{var s,l;(s=o.track)===null||s===void 0||s.off(se.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=o.track)===null||l===void 0||l.off(se.Restarted,this.onLocalTrackRestarted),this.emit(K.LocalTrackUnpublished,o,this.localParticipant)},this.onLocalTrackRestarted=o=>D(this,void 0,void 0,function*(){const s=yield o.getDeviceId(!1),l=xw(o.source);l&&s&&s!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(s," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,s),this.emit(K.ActiveDeviceChanged,l,s))}),this.onLocalConnectionQualityChanged=o=>{this.emit(K.ConnectionQualityChanged,o,this.localParticipant)},this.onMediaDevicesError=o=>{this.emit(K.MediaDevicesError,o)},this.onLocalParticipantPermissionsChanged=o=>{this.emit(K.ParticipantPermissionsChanged,o,this.localParticipant)},this.onLocalChatMessageSent=o=>{this.emit(K.ChatMessage,o,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},r$),t),this.log=yo((r=this.options.loggerName)!==null&&r!==void 0?r:Si.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},b2),t?.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},k2),t?.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},n$),t?.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new kr,this.localParticipant=new T0("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",fo(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",fo(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",fo(this.options.audioOutput.deviceId)).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(t){return D(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;this.options.e2ee&&(this.e2eeManager=new Wj(this.options.e2ee),this.e2eeManager.on(Xo.ParticipantEncryptionStatusChanged,(n,r)=>{r instanceof T0&&(this.isE2EEEnabled=n),this.emit(K.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(Xo.EncryptionError,n=>this.emit(K.EncryptionError,n)),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return D(this,void 0,void 0,function*(){return this.state===nt.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((t,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(de.RoomUpdate,r),t(i.sid))};this.engine.on(de.RoomUpdate,r),this.once(K.Disconnected,()=>{this.engine.off(de.RoomUpdate,r),n("Room disconnected before room server id was available")})})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new v$(this.options),this.engine.on(de.ParticipantUpdate,this.handleParticipantUpdates).on(de.RoomUpdate,this.handleRoomUpdate).on(de.SpeakersChanged,this.handleSpeakersChanged).on(de.StreamStateChanged,this.handleStreamStateUpdate).on(de.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(de.SubscriptionError,this.handleSubscriptionError).on(de.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(de.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(de.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(de.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(de.DataPacketReceived,this.handleDataPacket).on(de.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(nt.SignalReconnecting)&&this.emit(K.SignalReconnecting)}).on(de.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(nt.Connected)&&this.emit(K.Reconnected)}).on(de.SignalResumed,()=>{this.bufferedEvents=[],(this.state===nt.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(de.Restarting,this.handleRestarting).on(de.SignalRestarted,this.handleSignalRestarted).on(de.Offline,()=>{this.setAndEmitConnectionState(nt.Reconnecting)&&this.emit(K.Reconnecting)}).on(de.DCBufferStatusChanged,(t,n)=>{this.emit(K.DCBufferStatusChanged,t,n)}).on(de.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===t});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(Y.LocalTrackSubscribed,n),this.emitWhenConnected(K.LocalTrackSubscribed,n,this.localParticipant)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Tn.getInstance().getDevices(t,n)}prepareConnection(t,n){return D(this,void 0,void 0,function*(){if(this.state===nt.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(k0(new URL(t))&&n){this.regionUrlProvider=new qw(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===nt.Disconnected&&(this.regionUrl=r,yield fetch(Lw(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(Lw(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return D(this,void 0,void 0,function*(){let r=()=>{},i;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new Oi({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new Oi({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new Oi({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new Oi({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>D(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Oi({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>D(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Oi({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new Oi({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),r=()=>D(this,void 0,void 0,function*(){const o=this.engine.client.onLeave;o&&o(new lp({reason:gl.CLIENT_INITIATED,action:vl.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new Oi({scenario:{case:"subscriberBandwidth",value:BigInt(n)}});break;case"leave-full-reconnect":i=new Oi({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return D(this,arguments,void 0,function(r,i){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var l,u,d,h,p,m,y;let C=!1,k=!0;const T=s?{exact:i}:i;if(r==="audioinput"){const v=(l=o.getActiveDevice(r))!==null&&l!==void 0?l:o.options.audioCaptureDefaults.deviceId;o.options.audioCaptureDefaults.deviceId=T,C=v!==T;const w=Array.from(o.localParticipant.audioTrackPublications.values()).filter(P=>P.source===G.Source.Microphone);try{k=(yield Promise.all(w.map(P=>{var E;return(E=P.audioTrack)===null||E===void 0?void 0:E.setDeviceId(T)}))).every(P=>P===!0)}catch(P){throw o.options.audioCaptureDefaults.deviceId=v,P}}else if(r==="videoinput"){const v=(u=o.getActiveDevice(r))!==null&&u!==void 0?u:o.options.videoCaptureDefaults.deviceId;o.options.videoCaptureDefaults.deviceId=T,C=v!==T;const w=Array.from(o.localParticipant.videoTrackPublications.values()).filter(P=>P.source===G.Source.Camera);try{k=(yield Promise.all(w.map(P=>{var E;return(E=P.videoTrack)===null||E===void 0?void 0:E.setDeviceId(T)}))).every(P=>P===!0)}catch(P){throw o.options.videoCaptureDefaults.deviceId=v,P}}else if(r==="audiooutput"){if(!b0()&&!o.options.webAudioMix||o.options.webAudioMix&&o.audioContext&&!("setSinkId"in o.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");o.options.webAudioMix&&(i=(d=yield Tn.getInstance().normalizeDeviceId("audiooutput",i))!==null&&d!==void 0?d:""),(h=(y=o.options).audioOutput)!==null&&h!==void 0||(y.audioOutput={});const v=(p=o.getActiveDevice(r))!==null&&p!==void 0?p:o.options.audioOutput.deviceId;o.options.audioOutput.deviceId=i,C=v!==T;try{o.options.webAudioMix&&((m=o.audioContext)===null||m===void 0||m.setSinkId(i)),yield Promise.all(Array.from(o.remoteParticipants.values()).map(w=>w.setAudioOutput({deviceId:i})))}catch(w){throw o.options.audioOutput.deviceId=v,w}}return C&&k&&(o.localParticipant.activeDeviceMap.set(r,i),o.emit(K.ActiveDeviceChanged,r,i)),k}()})}setupLocalParticipantEvents(){this.localParticipant.on(Y.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Y.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Y.AttributesChanged,this.onLocalAttributesChanged).on(Y.TrackMuted,this.onLocalTrackMuted).on(Y.TrackUnmuted,this.onLocalTrackUnmuted).on(Y.LocalTrackPublished,this.onLocalTrackPublished).on(Y.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Y.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Y.MediaDevicesError,this.onMediaDevicesError).on(Y.AudioStreamAcquired,this.startAudio).on(Y.ChatMessage,this.onLocalChatMessageSent).on(Y.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===nt.Connecting||this.state===nt.Reconnecting){const h=()=>{this.onTrackAdded(t,n,r),p()},p=()=>{this.off(K.Reconnected,h),this.off(K.Connected,h),this.off(K.Disconnected,p)};this.once(K.Reconnected,h),this.once(K.Connected,h),this.once(K.Disconnected,p);return}if(this.state===nt.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}const i=Rj(n.id),o=i[0];let s=i[1],l=t.id;if(s&&s.startsWith("TR")&&(l=s),o===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const u=Array.from(this.remoteParticipants.values()).find(h=>h.sid===o);if(!u){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o),this.logContext);return}let d;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?d=this.options.adaptiveStream:d={}),u.addSubscribedMediaTrack(t,l,n,r,d)}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.state!==nt.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(i=>{i.trackPublications.forEach(o=>{i.unpublishTrack(o.trackSid)})}),this.localParticipant.trackPublications.forEach(i=>{var o,s;i.track&&this.localParticipant.unpublishTrack(i.track,t),t&&((o=i.track)===null||o===void 0||o.detach(),(s=i.track)===null||s===void 0||s.stop())}),this.localParticipant.off(Y.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Y.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Y.AttributesChanged,this.onLocalAttributesChanged).off(Y.TrackMuted,this.onLocalTrackMuted).off(Y.TrackUnmuted,this.onLocalTrackUnmuted).off(Y.LocalTrackPublished,this.onLocalTrackPublished).off(Y.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Y.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Y.MediaDevicesError,this.onMediaDevicesError).off(Y.AudioStreamAcquired,this.startAudio).off(Y.ChatMessage,this.onLocalChatMessageSent).off(Y.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Sr()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(nt.Disconnected),this.emit(K.Disconnected,n)}}}handleParticipantDisconnected(t,n){this.remoteParticipants.delete(t),n&&(n.trackPublications.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(K.ParticipantDisconnected,n))}acquireAudioContext(){return D(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=d1())!==null&&t!==void 0?t:void 0),this.audioContext&&this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext);const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(K.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let i;return n?i=Sh.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new Sh(this.engine.client,"",t,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),i}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const i=this.remoteParticipants.get(t);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(K.ParticipantConnected,r),r.on(Y.TrackPublished,i=>{this.emitWhenConnected(K.TrackPublished,i,r)}).on(Y.TrackSubscribed,(i,o)=>{i.kind===G.Kind.Audio?(i.on(se.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(se.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===G.Kind.Video&&(i.on(se.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(se.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(K.TrackSubscribed,i,o,r)}).on(Y.TrackUnpublished,i=>{this.emit(K.TrackUnpublished,i,r)}).on(Y.TrackUnsubscribed,(i,o)=>{this.emit(K.TrackUnsubscribed,i,o,r)}).on(Y.TrackSubscriptionFailed,i=>{this.emit(K.TrackSubscriptionFailed,i,r)}).on(Y.TrackMuted,i=>{this.emitWhenConnected(K.TrackMuted,i,r)}).on(Y.TrackUnmuted,i=>{this.emitWhenConnected(K.TrackUnmuted,i,r)}).on(Y.ParticipantMetadataChanged,i=>{this.emitWhenConnected(K.ParticipantMetadataChanged,i,r)}).on(Y.ParticipantNameChanged,i=>{this.emitWhenConnected(K.ParticipantNameChanged,i,r)}).on(Y.AttributesChanged,i=>{this.emitWhenConnected(K.ParticipantAttributesChanged,i,r)}).on(Y.ConnectionQualityChanged,i=>{this.emitWhenConnected(K.ConnectionQualityChanged,i,r)}).on(Y.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(K.ParticipantPermissionsChanged,i,r)}).on(Y.TrackSubscriptionStatusChanged,(i,o)=>{this.emitWhenConnected(K.TrackSubscriptionStatusChanged,i,o,r)}).on(Y.TrackSubscriptionFailed,(i,o)=>{this.emit(K.TrackSubscriptionFailed,i,r,o)}).on(Y.TrackSubscriptionPermissionChanged,(i,o)=>{this.emitWhenConnected(K.TrackSubscriptionPermissionChanged,i,o,r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&n instanceof m1&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=En.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,gl.STATE_MISMATCH))):t=0},_$)}clearConnectionReconcile(){this.connectionReconcileInterval&&En.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(K.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===nt.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===nt.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return D(this,void 0,void 0,function*(){var n,r;const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new n1({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Ut.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Ru({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(K.SignalConnected),this.emit(K.Connected),this.setAndEmitConnectionState(nt.Connected),i.video){const s=new Mu(G.Kind.Video,new ll({source:Dn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:gi.AUDIO,name:"video-dummy"}),new Nn(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Mw(160*((n=o.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Y.LocalTrackPublished,s)}if(i.audio){const s=new Mu(G.Kind.Audio,new ll({source:Dn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:gi.AUDIO}),new wn(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Dg(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Y.LocalTrackPublished,s)}for(let s=0;s<o.count-1;s+=1){let l=new Ru({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(s),state:e0.ACTIVE,tracks:[],joinedAt:Ut.parse(Date.now())});const u=this.getOrCreateParticipant(l.identity,l);if(o.video){const d=Mw(160*((r=o.aspectRatios[s%o.aspectRatios.length])!==null&&r!==void 0?r:1),160,!1,!0),h=new ll({source:Dn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:gi.AUDIO});u.addSubscribedMediaTrack(d,h.sid,new MediaStream([d]),new RTCRtpReceiver),l.tracks=[...l.tracks,h]}if(o.audio){const d=Dg(),h=new ll({source:Dn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:gi.AUDIO});u.addSubscribedMediaTrack(d,h.sid,new MediaStream([d]),new RTCRtpReceiver),l.tracks=[...l.tracks,h]}u.updateInfo(l)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t!==K.ActiveSpeakersChanged){const o=P2(r).filter(s=>s!==void 0);this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:o}))}return super.emit(t,...r)}}function P2(e){return e.map(t=>{if(t)return Array.isArray(t)?P2(t):typeof t=="object"?"logContext"in t&&t.logContext:t})}var pi;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(pi||(pi={}));class Hl extends Hi.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=pi.IDLE,this.logs=[],this.errorsAsWarnings=!1,this.url=t,this.token=n,this.name=this.constructor.name,this.room=new wh(r.roomOptions),this.connectOptions=r.connectOptions,r.errorsAsWarnings&&(this.errorsAsWarnings=r.errorsAsWarnings)}run(t){return D(this,void 0,void 0,function*(){if(this.status!==pi.IDLE)throw Error("check is running already");this.setStatus(pi.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==pi.SKIPPED&&this.setStatus(this.isSuccess()?pi.SUCCESS:pi.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(){return D(this,void 0,void 0,function*(){return this.room.state===nt.Connected?this.room:(yield this.room.connect(this.url,this.token,this.connectOptions),this.room)})}disconnect(){return D(this,void 0,void 0,function*(){this.room&&this.room.state!==nt.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(pi.SKIPPED)}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class x$ extends Hl{get description(){return"Can publish audio"}perform(){return D(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield w$();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&(s.kind==="audio"||!s.kind&&s.mediaType==="audio")&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class P$ extends Hl{get description(){return"Can publish video"}perform(){return D(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield S$();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,5e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&(s.kind==="video"||!s.kind&&s.mediaType==="video")&&(o+=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}}class R$ extends Hl{get description(){return"Resuming connection after interruption"}perform(){return D(this,void 0,void 0,function*(){var t;const n=yield this.connect();let r=!1,i=!1,o;const s=new Promise(d=>{setTimeout(d,5e3),o=d}),l=()=>{r=!0};n.on(K.SignalReconnecting,l).on(K.Reconnecting,l).on(K.Reconnected,()=>{i=!0,o(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const u=n.engine.client.onClose;if(u&&u(""),yield s,r){if(!i||n.state!==nt.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class I$ extends Hl{get description(){return"Can connect via TURN"}perform(){return D(this,void 0,void 0,function*(){var t,n;const r=new f1,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let o=!1,s=!1,l=!1;for(let u of i.iceServers)for(let d of u.urls)d.startsWith("turn:")?(s=!0,l=!0):d.startsWith("turns:")&&(s=!0,l=!0,o=!0),d.startsWith("stun:")&&(l=!0);l?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(t=this.connectOptions)===null||t===void 0?void 0:t.rtcConfig)===null||n===void 0)&&n.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(u=>setTimeout(u,0)))})}}class O$ extends Hl{get description(){return"Establishing WebRTC connection"}perform(){return D(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(K.SignalConnected,()=>{const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(i,o)=>{if(i.candidate){const s=new RTCIceCandidate(i);let l="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&(M$(s.address)?l+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(t=!0,l+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(l)}r&&r(i,o)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=i=>{i instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(i.errorCode," ").concat(i.errorText," ").concat(i.url))})});try{yield this.connect(),Je.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function M$(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class L$ extends Hl{get description(){return"Connecting to signal connection via WebSocket"}perform(){return D(this,void 0,void 0,function*(){var t,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new f1;const o=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((t=o.serverInfo)===null||t===void 0?void 0:t.edition)===bP.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=o.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class FH extends Hi.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=t,this.token=n,this.options=r}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:pi.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==pi.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return D(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new t(this.url,this.token,this.options),i=s=>{this.updateCheck(n,s)};r.on("update",i);const o=yield r.run();return r.off("update",i),o})}checkWebsocket(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(L$)})}checkWebRTC(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(O$)})}checkTURN(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(I$)})}checkReconnect(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(R$)})}checkPublishAudio(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(x$)})}checkPublishVideo(){return D(this,void 0,void 0,function*(){return this.createAndRunCheck(P$)})}}function A$(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n;const r=e instanceof Ks?e.mediaStreamTrack:e,i=r.getSettings();let o={facingMode:(n=t.defaultFacingMode)!==null&&n!==void 0?n:"user",confidence:"low"};if("facingMode"in i){const s=i.facingMode;Je.trace("rawFacingMode",{rawFacingMode:s}),s&&typeof s=="string"&&U$(s)&&(o={facingMode:s,confidence:"high"})}if(["low","medium"].includes(o.confidence)){Je.trace("Try to get facing mode from device label: (".concat(r.label,")"));const s=D$(r.label);s!==void 0&&(o=s)}return o}const Jw=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),N$=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function D$(e){var t;const n=e.trim().toLowerCase();if(n!=="")return Jw.has(n)?Jw.get(n):(t=Array.from(N$.entries()).find(r=>{let[i]=r;return n.includes(i)}))===null||t===void 0?void 0:t[1]}function U$(e){return e===void 0||["user","environment","left","right"].includes(e)}const E0=Math.min,Sl=Math.max,Th=Math.round,fs=e=>({x:e,y:e}),F$={left:"right",right:"left",bottom:"top",top:"bottom"},j$={start:"end",end:"start"};function Qw(e,t,n){return Sl(e,E0(t,n))}function fp(e,t){return typeof e=="function"?e(t):e}function sa(e){return e.split("-")[0]}function hp(e){return e.split("-")[1]}function R2(e){return e==="x"?"y":"x"}function I2(e){return e==="y"?"height":"width"}function pp(e){return["top","bottom"].includes(sa(e))?"y":"x"}function O2(e){return R2(pp(e))}function $$(e,t,n){n===void 0&&(n=!1);const r=hp(e),i=O2(e),o=I2(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Eh(s)),[s,Eh(s)]}function z$(e){const t=Eh(e);return[_0(e),t,_0(t)]}function _0(e){return e.replace(/start|end/g,t=>j$[t])}function B$(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function V$(e,t,n,r){const i=hp(e);let o=B$(sa(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(_0)))),o}function Eh(e){return e.replace(/left|right|bottom|top/g,t=>F$[t])}function W$(e){return{top:0,right:0,bottom:0,left:0,...e}}function H$(e){return typeof e!="number"?W$(e):{top:e,right:e,bottom:e,left:e}}function _h(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Yw(e,t,n){let{reference:r,floating:i}=e;const o=pp(t),s=O2(t),l=I2(s),u=sa(t),d=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let y;switch(u){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(hp(t)){case"start":y[s]-=m*(n&&d?-1:1);break;case"end":y[s]+=m*(n&&d?-1:1);break}return y}const G$=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=Yw(d,r,u),m=r,y={},C=0;for(let k=0;k<l.length;k++){const{name:T,fn:v}=l[k],{x:w,y:P,data:E,reset:I}=await v({x:h,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:d,platform:s,elements:{reference:e,floating:t}});h=w??h,p=P??p,y={...y,[T]:{...y[T],...E}},I&&C<=50&&(C++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(d=I.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:h,y:p}=Yw(d,m,u)),k=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:y}};async function M2(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=fp(t,e),C=H$(y),k=l[m?p==="floating"?"reference":"floating":p],T=_h(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),v=p==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),P=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=_h(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:u}):v);return{top:(T.top-E.top+C.top)/P.y,bottom:(E.bottom-T.bottom+C.bottom)/P.y,left:(T.left-E.left+C.left)/P.x,right:(E.right-T.right+C.right)/P.x}}const q$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...T}=fp(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=sa(i),w=sa(l)===l,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),E=m||(w||!k?[Eh(l)]:z$(l));!m&&C!=="none"&&E.push(...V$(l,k,C,P));const I=[l,...E],M=await M2(t,T),N=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&N.push(M[v]),p){const q=$$(i,s,P);N.push(M[q[0]],M[q[1]])}if(_=[..._,{placement:i,overflows:N}],!N.every(q=>q<=0)){var z,F;const q=(((z=o.flip)==null?void 0:z.index)||0)+1,ve=I[q];if(ve)return{data:{index:q,overflows:_},reset:{placement:ve}};let he=(F=_.filter($e=>$e.overflows[0]<=0).sort(($e,Qe)=>$e.overflows[1]-Qe.overflows[1])[0])==null?void 0:F.placement;if(!he)switch(y){case"bestFit":{var V;const $e=(V=_.map(Qe=>[Qe.placement,Qe.overflows.filter(De=>De>0).reduce((De,re)=>De+re,0)]).sort((Qe,De)=>Qe[1]-De[1])[0])==null?void 0:V[0];$e&&(he=$e);break}case"initialPlacement":he=l;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function K$(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=sa(n),l=hp(n),u=pp(n)==="y",d=["left","top"].includes(s)?-1:1,h=o&&u?-1:1,p=fp(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&typeof C=="number"&&(y=l==="end"?C*-1:C),u?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const J$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=t,u=await K$(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}},Q$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:T=>{let{x:v,y:w}=T;return{x:v,y:w}}},...u}=fp(e,t),d={x:n,y:r},h=await M2(t,u),p=pp(sa(i)),m=R2(p);let y=d[m],C=d[p];if(o){const T=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=y+h[T],P=y-h[v];y=Qw(w,y,P)}if(s){const T=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=C+h[T],P=C-h[v];C=Qw(w,C,P)}const k=l.fn({...t,[m]:y,[p]:C});return{...k,data:{x:k.x-n,y:k.y-r}}}}};function mp(){return typeof window<"u"}function Gl(e){return L2(e)?(e.nodeName||"").toLowerCase():"#document"}function wr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wo(e){var t;return(t=(L2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L2(e){return mp()?e instanceof Node||e instanceof wr(e).Node:!1}function wi(e){return mp()?e instanceof Element||e instanceof wr(e).Element:!1}function Vi(e){return mp()?e instanceof HTMLElement||e instanceof wr(e).HTMLElement:!1}function Xw(e){return!mp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wr(e).ShadowRoot}function Vu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Y$(e){return["table","td","th"].includes(Gl(e))}function gp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function g1(e){const t=v1(),n=wi(e)?Ti(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function X$(e){let t=hs(e);for(;Vi(t)&&!Fl(t);){if(g1(t))return t;if(gp(t))return null;t=hs(t)}return null}function v1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fl(e){return["html","body","#document"].includes(Gl(e))}function Ti(e){return wr(e).getComputedStyle(e)}function vp(e){return wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hs(e){if(Gl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xw(e)&&e.host||wo(e);return Xw(t)?t.host:t}function A2(e){const t=hs(e);return Fl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vi(t)&&Vu(t)?t:A2(t)}function x0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=A2(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=wr(i);if(o){const l=P0(s);return t.concat(s,s.visualViewport||[],Vu(i)?i:[],l&&n?x0(l):[])}return t.concat(i,x0(i,[],n))}function P0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N2(e){const t=Ti(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vi(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=Th(n)!==o||Th(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function D2(e){return wi(e)?e:e.contextElement}function wl(e){const t=D2(e);if(!Vi(t))return fs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=N2(t);let s=(o?Th(n.width):n.width)/r,l=(o?Th(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Z$=fs(0);function U2(e){const t=wr(e);return!v1()||!t.visualViewport?Z$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ez(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wr(e)?!1:t}function Lu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=D2(e);let s=fs(1);t&&(r?wi(r)&&(s=wl(r)):s=wl(e));const l=ez(o,n,r)?U2(o):fs(0);let u=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(o){const m=wr(o),y=r&&wi(r)?wr(r):r;let C=m,k=P0(C);for(;k&&r&&y!==C;){const T=wl(k),v=k.getBoundingClientRect(),w=Ti(k),P=v.left+(k.clientLeft+parseFloat(w.paddingLeft))*T.x,E=v.top+(k.clientTop+parseFloat(w.paddingTop))*T.y;u*=T.x,d*=T.y,h*=T.x,p*=T.y,u+=P,d+=E,C=wr(k),k=P0(C)}}return _h({width:h,height:p,x:u,y:d})}function tz(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=wo(r),l=t?gp(t.floating):!1;if(r===s||l&&o)return n;let u={scrollLeft:0,scrollTop:0},d=fs(1);const h=fs(0),p=Vi(r);if((p||!p&&!o)&&((Gl(r)!=="body"||Vu(s))&&(u=vp(r)),Vi(r))){const m=Lu(r);d=wl(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x,y:n.y*d.y-u.scrollTop*d.y+h.y}}function nz(e){return Array.from(e.getClientRects())}function R0(e,t){const n=vp(e).scrollLeft;return t?t.left+n:Lu(wo(e)).left+n}function rz(e){const t=wo(e),n=vp(e),r=e.ownerDocument.body,i=Sl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Sl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+R0(e);const l=-n.scrollTop;return Ti(r).direction==="rtl"&&(s+=Sl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}function iz(e,t){const n=wr(e),r=wo(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;const d=v1();(!d||d&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l,y:u}}function oz(e,t){const n=Lu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Vi(e)?wl(e):fs(1),s=e.clientWidth*o.x,l=e.clientHeight*o.y,u=i*o.x,d=r*o.y;return{width:s,height:l,x:u,y:d}}function Zw(e,t,n){let r;if(t==="viewport")r=iz(e,n);else if(t==="document")r=rz(wo(e));else if(wi(t))r=oz(t,n);else{const i=U2(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return _h(r)}function F2(e,t){const n=hs(e);return n===t||!wi(n)||Fl(n)?!1:Ti(n).position==="fixed"||F2(n,t)}function sz(e,t){const n=t.get(e);if(n)return n;let r=x0(e,[],!1).filter(l=>wi(l)&&Gl(l)!=="body"),i=null;const o=Ti(e).position==="fixed";let s=o?hs(e):e;for(;wi(s)&&!Fl(s);){const l=Ti(s),u=g1(s);!u&&l.position==="fixed"&&(i=null),(o?!u&&!i:!u&&l.position==="static"&&i&&["absolute","fixed"].includes(i.position)||Vu(s)&&!u&&F2(e,s))?r=r.filter(d=>d!==s):i=l,s=hs(s)}return t.set(e,r),r}function az(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?gp(t)?[]:sz(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,d)=>{const h=Zw(t,d,i);return u.top=Sl(h.top,u.top),u.right=E0(h.right,u.right),u.bottom=E0(h.bottom,u.bottom),u.left=Sl(h.left,u.left),u},Zw(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lz(e){const{width:t,height:n}=N2(e);return{width:t,height:n}}function cz(e,t,n){const r=Vi(t),i=wo(t),o=n==="fixed",s=Lu(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=fs(0);if(r||!r&&!o)if((Gl(t)!=="body"||Vu(i))&&(l=vp(t)),r){const y=Lu(t,!0,o,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else i&&(u.x=R0(i));let d=0,h=0;if(i&&!r&&!o){const y=i.getBoundingClientRect();h=y.top+l.scrollTop,d=y.left+l.scrollLeft-R0(i,y)}const p=s.left+l.scrollLeft-u.x-d,m=s.top+l.scrollTop-u.y-h;return{x:p,y:m,width:s.width,height:s.height}}function Wg(e){return Ti(e).position==="static"}function eT(e,t){if(!Vi(e)||Ti(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wo(e)===n&&(n=n.ownerDocument.body),n}function j2(e,t){const n=wr(e);if(gp(e))return n;if(!Vi(e)){let i=hs(e);for(;i&&!Fl(i);){if(wi(i)&&!Wg(i))return i;i=hs(i)}return n}let r=eT(e,t);for(;r&&Y$(r)&&Wg(r);)r=eT(r,t);return r&&Fl(r)&&Wg(r)&&!g1(r)?n:r||X$(e)||n}const uz=async function(e){const t=this.getOffsetParent||j2,n=this.getDimensions,r=await n(e.floating);return{reference:cz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dz(e){return Ti(e).direction==="rtl"}const fz={convertOffsetParentRelativeRectToViewportRelativeRect:tz,getDocumentElement:wo,getClippingRect:az,getOffsetParent:j2,getElementRects:uz,getClientRects:nz,getDimensions:lz,getScale:wl,isElement:wi,isRTL:dz},hz=J$,pz=Q$,mz=q$,gz=(e,t,n)=>{const r=new Map,i={platform:fz,...n},o={...i.platform,_c:r};return G$(e,t,{...i,platform:o})};var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $2={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(zc,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function l(k,T){var v=k[T];if(typeof v.bind=="function")return v.bind(k);try{return Function.prototype.bind.call(v,k)}catch{return function(){return Function.prototype.apply.apply(v,[k,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(k){return k==="debug"&&(k="log"),typeof console===n?!1:k==="trace"&&r?u:console[k]!==void 0?l(console,k):console.log!==void 0?l(console,"log"):t}function h(){for(var k=this.getLevel(),T=0;T<i.length;T++){var v=i[T];this[v]=T<k?t:this.methodFactory(v,k,this.name)}if(this.log=this.debug,typeof console===n&&k<this.levels.SILENT)return"No console available for logging"}function p(k){return function(){typeof console!==n&&(h.call(this),this[k].apply(this,arguments))}}function m(k,T,v){return d(k)||p.apply(this,arguments)}function y(k,T){var v=this,w,P,E,I="loglevel";typeof k=="string"?I+=":"+k:typeof k=="symbol"&&(I=void 0);function M(V){var q=(i[V]||"silent").toUpperCase();if(!(typeof window===n||!I)){try{window.localStorage[I]=q;return}catch{}try{window.document.cookie=encodeURIComponent(I)+"="+q+";"}catch{}}}function N(){var V;if(!(typeof window===n||!I)){try{V=window.localStorage[I]}catch{}if(typeof V===n)try{var q=window.document.cookie,ve=encodeURIComponent(I),he=q.indexOf(ve+"=");he!==-1&&(V=/^([^;]+)/.exec(q.slice(he+ve.length+1))[1])}catch{}return v.levels[V]===void 0&&(V=void 0),V}}function _(){if(!(typeof window===n||!I)){try{window.localStorage.removeItem(I)}catch{}try{window.document.cookie=encodeURIComponent(I)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function z(V){var q=V;if(typeof q=="string"&&v.levels[q.toUpperCase()]!==void 0&&(q=v.levels[q.toUpperCase()]),typeof q=="number"&&q>=0&&q<=v.levels.SILENT)return q;throw new TypeError("log.setLevel() called with invalid level: "+V)}v.name=k,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=T||m,v.getLevel=function(){return E??P??w},v.setLevel=function(V,q){return E=z(V),q!==!1&&M(E),h.call(v)},v.setDefaultLevel=function(V){P=z(V),N()||v.setLevel(V,!1)},v.resetLevel=function(){E=null,_(),h.call(v)},v.enableAll=function(V){v.setLevel(v.levels.TRACE,V)},v.disableAll=function(V){v.setLevel(v.levels.SILENT,V)},v.rebuild=function(){if(s!==v&&(w=z(s.getLevel())),h.call(v),s===v)for(var V in o)o[V].rebuild()},w=z(s?s.getLevel():"WARN");var F=N();F!=null&&(E=z(F)),h.call(v)}s=new y,s.getLogger=function(k){if(typeof k!="symbol"&&typeof k!="string"||k==="")throw new TypeError("You must supply a name when creating a logger.");var T=o[k];return T||(T=o[k]=new y(k,s.methodFactory)),T};var C=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=C),s},s.getLoggers=function(){return o},s.default=s,s})})($2);var yz=$2.exports;const bz=vz(yz);var I0=function(e,t){return I0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},I0(e,t)};function To(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");I0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function kz(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function z2(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function jl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ph(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Tl(e){return this instanceof Tl?(this.v=e,this):new Tl(e)}function Cz(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function l(y,C){r[y]&&(i[y]=function(k){return new Promise(function(T,v){o.push([y,k,T,v])>1||u(y,k)})},C&&(i[y]=C(i[y])))}function u(y,C){try{d(r[y](C))}catch(k){m(o[0][3],k)}}function d(y){y.value instanceof Tl?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Sz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof jl=="function"?jl(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,u){s=e[o](s),i(l,u,s.done,s.value)})}}function i(o,s,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},s)}}function fn(e){return typeof e=="function"}function y1(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hg=y1(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Rh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Wu=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=jl(s),u=l.next();!u.done;u=l.next()){var d=u.value;d.remove(this)}}catch(k){t={error:k}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else s.remove(this);var h=this.initialTeardown;if(fn(h))try{h()}catch(k){o=k instanceof Hg?k.errors:[k]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=jl(p),y=m.next();!y.done;y=m.next()){var C=y.value;try{tT(C)}catch(k){o=o??[],k instanceof Hg?o=Ph(Ph([],xh(o)),xh(k.errors)):o.push(k)}}}catch(k){r={error:k}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(o)throw new Hg(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)tT(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Rh(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Rh(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),B2=Wu.EMPTY;function V2(e){return e instanceof Wu||e&&"closed"in e&&fn(e.remove)&&fn(e.add)&&fn(e.unsubscribe)}function tT(e){fn(e)?e():e.unsubscribe()}var W2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wz={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ph([e,t],xh(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function H2(e){wz.setTimeout(function(){throw e})}function O0(){}function $f(e){e()}var b1=function(e){To(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,V2(n)&&n.add(r)):r.destination=xz,r}return t.create=function(n,r,i){return new M0(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Wu),Tz=Function.prototype.bind;function Gg(e,t){return Tz.call(e,t)}var Ez=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){cf(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){cf(r)}else cf(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){cf(n)}},e}(),M0=function(e){To(t,e);function t(n,r,i){var o=e.call(this)||this,s;if(fn(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var l;o&&W2.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&Gg(n.next,l),error:n.error&&Gg(n.error,l),complete:n.complete&&Gg(n.complete,l)}):s=n}return o.destination=new Ez(s),o}return t}(b1);function cf(e){H2(e)}function _z(e){throw e}var xz={closed:!0,next:O0,error:_z,complete:O0},k1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function G2(e){return e}function Pz(e){return e.length===0?G2:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Pn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=Iz(t)?t:new M0(t,n,r);return $f(function(){var s=i,l=s.operator,u=s.source;o.add(l?l.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=nT(n),new n(function(i,o){var s=new M0({next:function(l){try{t(l)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[k1]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Pz(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=nT(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function nT(e){var t;return(t=e??W2.Promise)!==null&&t!==void 0?t:Promise}function Rz(e){return e&&fn(e.next)&&fn(e.error)&&fn(e.complete)}function Iz(e){return e&&e instanceof b1||Rz(e)&&V2(e)}function Oz(e){return fn(e?.lift)}function Eo(e){return function(t){if(Oz(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function aa(e,t,n,r,i){return new Mz(e,t,n,r,i)}var Mz=function(e){To(t,e);function t(n,r,i,o,s,l){var u=e.call(this,n)||this;return u.onFinalize=s,u.shouldUnsubscribe=l,u._next=r?function(d){try{r(d)}catch(h){n.error(h)}}:e.prototype._next,u._error=o?function(d){try{o(d)}catch(h){n.error(h)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(b1),Lz=y1(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ps=function(e){To(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new rT(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Lz},t.prototype.next=function(n){var r=this;$f(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=jl(r.currentObservers),l=s.next();!l.done;l=s.next()){var u=l.value;u.next(n)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;$f(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;$f(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,l=i.observers;return o||s?B2:(this.currentObservers=null,l.push(n),new Wu(function(){r.currentObservers=null,Rh(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new Pn;return n.source=this,n},t.create=function(n,r){return new rT(n,r)},t}(Pn),rT=function(e){To(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:B2},t}(ps),q2=function(e){To(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ps),Az={now:function(){return Date.now()},delegate:void 0},Nz=function(e){To(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Wu),iT={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Ph([e,t],xh(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Dz=function(e){To(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),iT.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&iT.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Rh(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Nz),oT=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Az.now,e}(),Uz=function(e){To(t,e);function t(n,r){r===void 0&&(r=oT.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(oT);new Uz(Dz);var Fz=new Pn(function(e){return e.complete()});function jz(e){return e&&fn(e.schedule)}function K2(e){return e[e.length-1]}function C1(e){return jz(K2(e))?e.pop():void 0}function $z(e,t){return typeof K2(e)=="number"?e.pop():t}var J2=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Q2(e){return fn(e?.then)}function Y2(e){return fn(e[k1])}function X2(e){return Symbol.asyncIterator&&fn(e?.[Symbol.asyncIterator])}function Z2(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function zz(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var eR=zz();function tR(e){return fn(e?.[eR])}function nR(e){return Cz(this,arguments,function(){var t,n,r,i;return z2(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Tl(t.read())];case 3:return n=o.sent(),r=n.value,i=n.done,i?[4,Tl(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Tl(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rR(e){return fn(e?.getReader)}function pa(e){if(e instanceof Pn)return e;if(e!=null){if(Y2(e))return Bz(e);if(J2(e))return Vz(e);if(Q2(e))return Wz(e);if(X2(e))return iR(e);if(tR(e))return Hz(e);if(rR(e))return Gz(e)}throw Z2(e)}function Bz(e){return new Pn(function(t){var n=e[k1]();if(fn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vz(e){return new Pn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Wz(e){return new Pn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,H2)})}function Hz(e){return new Pn(function(t){var n,r;try{for(var i=jl(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function iR(e){return new Pn(function(t){qz(e,t).catch(function(n){return t.error(n)})})}function Gz(e){return iR(nR(e))}function qz(e,t){var n,r,i,o;return kz(this,void 0,void 0,function(){var s,l;return z2(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Sz(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),i={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Js(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function oR(e,t){return t===void 0&&(t=0),Eo(function(n,r){n.subscribe(aa(r,function(i){return Js(r,e,function(){return r.next(i)},t)},function(){return Js(r,e,function(){return r.complete()},t)},function(i){return Js(r,e,function(){return r.error(i)},t)}))})}function sR(e,t){return t===void 0&&(t=0),Eo(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Kz(e,t){return pa(e).pipe(sR(t),oR(t))}function Jz(e,t){return pa(e).pipe(sR(t),oR(t))}function Qz(e,t){return new Pn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Yz(e,t){return new Pn(function(n){var r;return Js(n,t,function(){r=e[eR](),Js(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(l){n.error(l);return}s?n.complete():n.next(o)},0,!0)}),function(){return fn(r?.return)&&r.return()}})}function aR(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pn(function(n){Js(n,t,function(){var r=e[Symbol.asyncIterator]();Js(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xz(e,t){return aR(nR(e),t)}function Zz(e,t){if(e!=null){if(Y2(e))return Kz(e,t);if(J2(e))return Qz(e,t);if(Q2(e))return Jz(e,t);if(X2(e))return aR(e,t);if(tR(e))return Yz(e,t);if(rR(e))return Xz(e,t)}throw Z2(e)}function lR(e,t){return t?Zz(e,t):pa(e)}y1(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Rn(e,t){return Eo(function(n,r){var i=0;n.subscribe(aa(r,function(o){r.next(e.call(t,o,i++))}))})}function eB(e,t,n,r,i,o,s,l){var u=[],d=0,h=0,p=!1,m=function(){p&&!u.length&&!d&&t.complete()},y=function(k){return d<r?C(k):u.push(k)},C=function(k){d++;var T=!1;pa(n(k,h++)).subscribe(aa(t,function(v){t.next(v)},function(){T=!0},void 0,function(){if(T)try{d--;for(var v=function(){var w=u.shift();s||C(w)};u.length&&d<r;)v();m()}catch(w){t.error(w)}}))};return e.subscribe(aa(t,y,function(){p=!0,m()})),function(){}}function cR(e,t,n){return n===void 0&&(n=1/0),fn(t)?cR(function(r,i){return Rn(function(o,s){return t(r,o,i,s)})(pa(e(r,i)))},n):(typeof t=="number"&&(n=t),Eo(function(r,i){return eB(r,i,e,n)}))}function uR(e){return e===void 0&&(e=1/0),cR(G2,e)}function tB(){return uR(1)}function L0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tB()(lR(e,C1(e)))}function nB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=C1(e),r=$z(e,1/0),i=e;return i.length?i.length===1?pa(i[0]):uR(r)(lR(i,n)):Fz}function dR(e,t){return Eo(function(n,r){var i=0;n.subscribe(aa(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function rB(e,t,n,r,i){return function(o,s){var l=n,u=t,d=0;o.subscribe(aa(s,function(h){var p=d++;u=l?e(u,h,p):(l=!0,h),s.next(u)},i))}}function iB(e){return Eo(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function oB(e,t){return Eo(rB(e,t,arguments.length>=2,!0))}function Ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=C1(e);return Eo(function(r,i){(n?L0(e,r,n):L0(e,r)).subscribe(i)})}function sT(e){return Eo(function(t,n){pa(e).subscribe(aa(n,function(){return n.complete()},O0)),!n.closed&&t.subscribe(n)})}var sB=Object.defineProperty,aB=Object.defineProperties,lB=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,cB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,lT=(e,t,n)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vs=(e,t)=>{for(var n in t||(t={}))cB.call(t,n)&&lT(e,n,t[n]);if(aT)for(var n of aT(t))uB.call(t,n)&&lT(e,n,t[n]);return e},uf=(e,t)=>aB(e,lB(t)),Er=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{l(n.next(u))}catch(d){i(d)}},s=u=>{try{l(n.throw(u))}catch(d){i(d)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);l((n=n.apply(e,t)).next())}),fR="lk";function yp(e){return typeof e>"u"?!1:dB(e)||fB(e)}function dB(e){var t;return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&typeof((t=e.publication)==null?void 0:t.track)<"u":!1}function fB(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&typeof e.publication<"u":!1}function hB(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u":!1}function S1(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(hB(e))return`${e.participant.identity}_${e.source}_placeholder`;if(yp(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}function pB(e){return e instanceof T0}function mB(e,t){return Er(this,null,function*(){const{x:n,y:r}=yield gz(e,t,{placement:"top",middleware:[hz(6),mz(),pz({padding:5})]});return{x:n,y:r}})}function gB(e,t){return!e.contains(t.target)}var vB=[K.ConnectionStateChanged,K.RoomMetadataChanged,K.ActiveSpeakersChanged,K.ConnectionQualityChanged,K.ParticipantConnected,K.ParticipantDisconnected,K.ParticipantPermissionsChanged,K.ParticipantMetadataChanged,K.ParticipantNameChanged,K.ParticipantAttributesChanged,K.TrackMuted,K.TrackUnmuted,K.TrackPublished,K.TrackUnpublished,K.TrackStreamStateChanged,K.TrackSubscriptionFailed,K.TrackSubscriptionPermissionChanged,K.TrackSubscriptionStatusChanged],yB=[...vB,K.LocalTrackPublished,K.LocalTrackUnpublished];Y.TrackPublished,Y.TrackUnpublished,Y.TrackMuted,Y.TrackUnmuted,Y.TrackStreamStateChanged,Y.TrackSubscribed,Y.TrackUnsubscribed,Y.TrackSubscriptionPermissionChanged,Y.TrackSubscriptionFailed,Y.LocalTrackPublished,Y.LocalTrackUnpublished;var bB=[Y.ConnectionQualityChanged,Y.IsSpeakingChanged,Y.ParticipantMetadataChanged,Y.ParticipantPermissionsChanged,Y.TrackMuted,Y.TrackUnmuted,Y.TrackPublished,Y.TrackUnpublished,Y.TrackStreamStateChanged,Y.TrackSubscriptionFailed,Y.TrackSubscriptionPermissionChanged,Y.TrackSubscriptionStatusChanged];[...bB,Y.LocalTrackPublished,Y.LocalTrackUnpublished];var it=bz.getLogger("lk-components-js");it.setDefaultLevel("WARN");function kB(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var CB=[],SB={showChat:!1,unreadMessages:0,showSettings:!1};function hR(e){return typeof e=="object"}function pR(e){return Array.isArray(e)&&e.filter(hR).length>0}function Zr(e){return`${fR}-${e}`}function wB(e){const t=A0(e),n=mR(e.participant).pipe(Rn(()=>A0(e)),Ei(t));return{className:Zr(e.source===G.Source.Camera||e.source===G.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function A0(e){if(yp(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(i=>i.source===t&&i.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function w1(e,...t){return new Pn(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(Ei(e))}function bp(e,t){return new Pn(n=>{const r=(...i)=>{n.next(i)};return e.on(t,r),()=>{e.off(t,r)}})}function TB(e){return bp(e,K.ConnectionStateChanged).pipe(Rn(([t])=>t),Ei(e.state))}function EB(e,t,n=!0){var r;const i=()=>Er(this,null,function*(){try{const l=yield wh.getLocalDevices(e,n);o.next(l)}catch(l){t?.(l)}}),o=new ps,s=o.pipe(iB(()=>{var l;(l=navigator?.mediaDevices)==null||l.removeEventListener("devicechange",i)}));if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(r=navigator?.mediaDevices)==null||r.addEventListener("devicechange",i)}return L0(wh.getLocalDevices(e,n).catch(l=>(t?.(l),[])),s)}function _B(e){return bp(e,K.DataReceived)}function xB(e){return bp(e,K.ChatMessage)}function PB(e){return w1(e,K.AudioPlaybackStatusChanged).pipe(Rn(t=>({canPlayAudio:t.canPlaybackAudio})))}function RB(e){return w1(e,K.VideoPlaybackStatusChanged).pipe(Rn(t=>({canPlayVideo:t.canPlaybackVideo})))}function IB(e,t){return bp(e,K.ActiveDeviceChanged).pipe(dR(([n])=>n===t),Rn(([n,r])=>(it.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)),Ei(e.getActiveDevice(t)))}function T1(e,...t){return new Pn(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(Ei(e))}function mR(e){return T1(e,Y.TrackMuted,Y.TrackUnmuted,Y.ParticipantPermissionsChanged,Y.TrackPublished,Y.TrackUnpublished,Y.LocalTrackPublished,Y.LocalTrackUnpublished,Y.MediaDevicesError,Y.TrackSubscriptionStatusChanged).pipe(Rn(t=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:i}=t,o=t.getTrackPublication(G.Source.Microphone),s=t.getTrackPublication(G.Source.Camera);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:i,cameraTrack:s,microphoneTrack:o,participant:t}}))}function OB(e){return e?T1(e,Y.ParticipantMetadataChanged,Y.ParticipantNameChanged).pipe(Rn(({name:t,identity:n,metadata:r})=>({name:t,identity:n,metadata:r})),Ei({name:e.name,identity:e.identity,metadata:e.metadata})):void 0}function MB(e){return E1(e,Y.ConnectionQualityChanged).pipe(Rn(([t])=>t),Ei(e.connectionQuality))}function E1(e,t){return new Pn(n=>{const r=(...i)=>{n.next(i)};return e.on(t,r),()=>{e.off(t,r)}})}function gR(e){var t,n,r,i;return T1(e.participant,Y.TrackMuted,Y.TrackUnmuted,Y.TrackSubscribed,Y.TrackUnsubscribed,Y.LocalTrackPublished,Y.LocalTrackUnpublished).pipe(Rn(o=>{var s,l;const u=(s=e.publication)!=null?s:o.getTrackPublication(e.source);return(l=u?.isMuted)!=null?l:!0}),Ei((i=(r=(t=e.publication)==null?void 0:t.isMuted)!=null?r:(n=e.participant.getTrackPublication(e.source))==null?void 0:n.isMuted)!=null?i:!0))}function LB(e){return E1(e,Y.IsSpeakingChanged).pipe(Rn(([t])=>t))}function AB(e){return E1(e,Y.ParticipantPermissionsChanged).pipe(Rn(()=>e.permissions),Ei(e.permissions))}function NB(e,t,n,r,i){const{localParticipant:o}=t,s=(h,p)=>{let m=!1;switch(h){case G.Source.Camera:m=p.isCameraEnabled;break;case G.Source.Microphone:m=p.isMicrophoneEnabled;break;case G.Source.ScreenShare:m=p.isScreenShareEnabled;break}return m},l=mR(o).pipe(Rn(h=>s(e,h.participant)),Ei(s(e,o))),u=new ps,d=(h,p)=>Er(this,null,function*(){try{switch(p??(p=n),u.next(!0),e){case G.Source.Camera:return yield o.setCameraEnabled(h??!o.isCameraEnabled,p,r),o.isCameraEnabled;case G.Source.Microphone:return yield o.setMicrophoneEnabled(h??!o.isMicrophoneEnabled,p,r),o.isMicrophoneEnabled;case G.Source.ScreenShare:return yield o.setScreenShareEnabled(h??!o.isScreenShareEnabled,p,r),o.isScreenShareEnabled;default:throw new TypeError("Tried to toggle unsupported source")}}catch(m){if(i&&m instanceof Error){i?.(m);return}else throw m}finally{u.next(!1)}});return{className:Zr("button"),toggle:d,enabledObserver:l,pendingObserver:u.asObservable()}}function DB(){let e=!1;const t=new ps,n=new ps,r=i=>Er(this,null,function*(){n.next(!0),e=i??!e,t.next(e),n.next(!1)});return{className:Zr("button"),toggle:r,enabledObserver:t.asObservable(),pendingObserver:n.asObservable()}}function UB(e,t,n){const r=new q2(void 0),i=t?IB(t,e):r.asObservable(),o=(s,...l)=>Er(this,[s,...l],function*(u,d={}){var h,p,m;if(t){it.debug(`Switching active device of kind "${e}" with id ${u}.`),yield t.switchActiveDevice(e,u,d.exact);const y=(h=t.getActiveDevice(e))!=null?h:u;y!==u&&u!=="default"&&it.info(`We tried to select the device with id (${u}), but the browser decided to select the device with id (${y}) instead.`);let C;e==="audioinput"?C=(p=t.localParticipant.getTrackPublication(G.Source.Microphone))==null?void 0:p.track:e==="videoinput"&&(C=(m=t.localParticipant.getTrackPublication(G.Source.Camera))==null?void 0:m.track);const k=u==="default"&&!C||u==="default"&&C?.mediaStreamTrack.label.startsWith("Default");r.next(k?u:y)}else if(n){yield n.setDeviceId(d.exact?{exact:u}:u);const y=yield n.getDeviceId();r.next(u==="default"&&n.mediaStreamTrack.label.startsWith("Default")?u:y)}else r.value!==u&&(it.warn("device switch skipped, please provide either a room or a local track to switch on. "),r.next(u))});return{className:Zr("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:o}}function FB(e){const t=n=>{e.disconnect(n)};return{className:Zr("disconnect-button"),disconnect:t}}function jB(e){const t=Zr("connection-quality"),n=MB(e);return{className:t,connectionQualityObserver:n}}function $B(e){let t="track-muted-indicator-camera";switch(e.source){case G.Source.Camera:t="track-muted-indicator-camera";break;case G.Source.Microphone:t="track-muted-indicator-microphone";break}const n=Zr(t),r=gR(e);return{className:n,mediaMutedObserver:r}}function zB(e){return{className:"lk-participant-name",infoObserver:OB(e)}}function BB(){return{className:Zr("participant-tile")}}var cT={CHAT:"lk-chat-topic",CHAT_UPDATE:"lk-chat-update-topic"};function N0(e,t){return Er(this,arguments,function*(n,r,i={}){const{reliable:o,destinationIdentities:s,topic:l}=i;yield n.publishData(r,{destinationIdentities:s,topic:l,reliable:o})})}function VB(e,t,n){const r=Array.isArray(t)?t:[t],i=_B(e).pipe(dR(([,,,l])=>t===void 0||l!==void 0&&r.includes(l)),Rn(([l,u,,d])=>{const h={payload:l,topic:d,from:u};return n?.(h),h}));let o;const s=new Pn(l=>{o=l});return{messageObservable:i,isSendingObservable:s,send:(l,...u)=>Er(this,[l,...u],function*(d,h={}){o.next(!0);try{yield N0(e.localParticipant,d,Vs({topic:r[0]},h))}finally{o.next(!1)}})}}function WB(e){return{chatObservable:xB(e),send:t=>Er(this,null,function*(){return yield e.localParticipant.sendChatMessage(t)}),edit:(t,n)=>Er(this,null,function*(){return yield e.localParticipant.editChatMessage(t,n)})}}var HB=new TextEncoder,GB=new TextDecoder,df=new Map,qB=e=>HB.encode(JSON.stringify(e)),KB=e=>JSON.parse(GB.decode(e));function JB(e,t){var n,r;const i=new ps,o=()=>{var _,z,F;return((_=e.serverInfo)==null?void 0:_.edition)===1||!!((z=e.serverInfo)!=null&&z.version)&&Ul((F=e.serverInfo)==null?void 0:F.version,"1.17.2")>0},{messageDecoder:s,messageEncoder:l,channelTopic:u,updateChannelTopic:d}=t??{},h=u??cT.CHAT,p=d??cT.CHAT_UPDATE;let m=!1;df.has(e)||(m=!0);const y=(n=df.get(e))!=null?n:new Map,C=(r=y.get(h))!=null?r:new ps;if(y.set(h,C),df.set(e,y),m){const{messageObservable:_}=VB(e,[h,p]);_.pipe(sT(i)).subscribe(C)}const{chatObservable:k,send:T}=WB(e),v=s??KB,w=nB(C.pipe(Rn(_=>{const z=v(_.payload),F=uf(Vs({},z),{from:_.from});if(!QB(F))return F})),k.pipe(Rn(([_,z])=>uf(Vs({},_),{from:z})))).pipe(oB((_,z)=>{var F;if(!z)return _;if("id"in z&&_.find(V=>{var q,ve;return((q=V.from)==null?void 0:q.identity)===((ve=z.from)==null?void 0:ve.identity)&&V.id===z.id})){const V=_.findIndex(q=>q.id===z.id);if(V>-1){const q=_[V];_[V]=uf(Vs({},z),{timestamp:q.timestamp,editTimestamp:(F=z.editTimestamp)!=null?F:z.timestamp})}return[..._]}return[..._,z]},[]),sT(i)),P=new q2(!1),E=l??qB,I=_=>Er(this,null,function*(){P.next(!0);try{const z=yield T(_),F=E(uf(Vs({},z),{ignore:o()}));return yield N0(e.localParticipant,F,{reliable:!0,topic:h}),z}finally{P.next(!1)}}),M=(_,z)=>Er(this,null,function*(){const F=Date.now(),V=typeof z=="string"?{id:z,message:"",timestamp:F}:z;P.next(!0);try{const q=yield e.localParticipant.editChatMessage(_,V),ve=E(q);return yield N0(e.localParticipant,ve,{topic:p,reliable:!0}),q}finally{P.next(!1)}});function N(){i.next(),i.complete(),df.delete(e)}return e.once(K.Disconnected,N),{messageObservable:w,isSendingObservable:P,send:I,update:M}}function QB(e){return e.ignore==!0}function YB(){const e=t=>Er(this,null,function*(){it.info("Start Audio for room: ",t),yield t.startAudio()});return{className:Zr("start-audio-button"),roomAudioPlaybackAllowedObservable:PB,handleStartAudioPlayback:e}}function XB(){const e=t=>Er(this,null,function*(){it.info("Start Video for room: ",t),yield t.startVideo()});return{className:Zr("start-audio-button"),roomVideoPlaybackAllowedObservable:RB,handleStartVideoPlayback:e}}function ZB(){return{className:[Zr("button"),Zr("chat-toggle")].join(" ")}}function eV(){return{className:"lk-room-container"}}function uT(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],i=[];return r.forEach(o=>{t.forEach(s=>{const l=Array.from(o.trackPublications.values()).filter(u=>u.source===s&&(!n||u.track)).map(u=>({participant:o,publication:u,source:u.source}));i.push(...l)})}),{trackReferences:i,participants:r}}function tV(e,t,n){var r,i;const o=(r=n.additionalRoomEvents)!=null?r:yB,s=(i=n.onlySubscribed)!=null?i:!0,l=Array.from(new Set([K.ParticipantConnected,K.ParticipantDisconnected,K.ConnectionStateChanged,K.LocalTrackPublished,K.LocalTrackUnpublished,K.TrackPublished,K.TrackUnpublished,K.TrackSubscriptionStatusChanged,...o]).values());return w1(e,...l).pipe(Rn(u=>{const d=uT(u,t,s);return it.debug(`TrackReference[] was updated. (length ${d.trackReferences.length})`,d),d}),Ei(uT(e,t,s)))}function nV(e,t){if(typeof localStorage>"u"){it.error("Local storage is not available.");return}try{if(t){const n=Object.fromEntries(Object.entries(t).filter(([,r])=>r!==""));localStorage.setItem(e,JSON.stringify(n))}}catch(n){it.error(`Error setting item to local storage: ${n}`)}}function rV(e){if(typeof localStorage>"u"){it.error("Local storage is not available.");return}try{const t=localStorage.getItem(e);if(!t){it.warn(`Item with key ${e} does not exist in local storage.`);return}return JSON.parse(t)}catch(t){it.error(`Error getting item from local storage: ${t}`);return}}function iV(e){return{load:()=>rV(e),save:t=>nV(e,t)}}var oV=`${fR}-user-choices`,Lc={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"",audioDeviceId:"",username:""},{load:sV,save:aV}=iV(oV);function lV(e,t=!1){t!==!0&&aV(e)}function cV(e,t=!1){var n,r,i,o,s;const l={videoEnabled:(n=e?.videoEnabled)!=null?n:Lc.videoEnabled,audioEnabled:(r=e?.audioEnabled)!=null?r:Lc.audioEnabled,videoDeviceId:(i=e?.videoDeviceId)!=null?i:Lc.videoDeviceId,audioDeviceId:(o=e?.audioDeviceId)!=null?o:Lc.audioDeviceId,username:(s=e?.username)!=null?s:Lc.username};if(t)return l;{const u=sV();return Vs(Vs({},l),u??{})}}function uV(e,t){if(t.msg==="show_chat")return{...e,showChat:!0,unreadMessages:0};if(t.msg==="hide_chat")return{...e,showChat:!1};if(t.msg==="toggle_chat"){const n={...e,showChat:!e.showChat};return n.showChat===!0&&(n.unreadMessages=0),n}else return t.msg==="unread_msg"?{...e,unreadMessages:t.count}:t.msg==="toggle_settings"?{...e,showSettings:!e.showSettings}:{...e}}function dV(e,t){return t.msg==="set_pin"?[t.trackReference]:t.msg==="clear_pin"?[]:{...e}}const _1=b.createContext(void 0);function vR(){const e=b.useContext(_1);if(!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function fV(e){const[t,n]=b.useReducer(dV,CB),[r,i]=b.useReducer(uV,SB);return e??{pin:{dispatch:n,state:t},widget:{dispatch:i,state:r}}}function yR(){return b.useContext(_1)}const x1=b.createContext(void 0);function P1(){return b.useContext(x1)}function kp(e){const t=P1(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}const hV=b.createContext(void 0);function pV(){return b.useContext(hV)}function Cp(e){const t=pV(),n=P1(),r=e??t??n?.participant;if(!r)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return r}const R1=b.createContext(void 0);function Sp(){const e=b.useContext(R1);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function wp(){return b.useContext(R1)}function Tp(e){const t=wp(),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}const mV=b.createContext(void 0);function bR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kR(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bR(e))&&(r&&(r+=" "),r+=t);return r}function gV(...e){return(...t)=>{for(const n of e)if(typeof n=="function")try{n(...t)}catch(r){console.error(r)}}}function _o(...e){const t={...e[0]};for(let n=1;n<e.length;n++){const r=e[n];for(const i in r){const o=t[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=gV(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?t[i]=kR(o,s):t[i]=s!==void 0?s:o}}return t}const vV={connect:!0,audio:!1,video:!1};function yV(e){const{token:t,serverUrl:n,options:r,room:i,connectOptions:o,connect:s,audio:l,video:u,screen:d,onConnected:h,onDisconnected:p,onError:m,onMediaDeviceFailure:y,onEncryptionError:C,simulateParticipants:k,...T}={...vV,...e};r&&i&&it.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[v,w]=b.useState();b.useEffect(()=>{w(i??new wh(r))},[i]);const P=b.useMemo(()=>{const{className:E}=eV();return _o(T,{className:E})},[T]);return b.useEffect(()=>{if(!v)return;const E=()=>{const N=v.localParticipant;it.debug("trying to publish local tracks"),Promise.all([N.setMicrophoneEnabled(!!l,typeof l!="boolean"?l:void 0),N.setCameraEnabled(!!u,typeof u!="boolean"?u:void 0),N.setScreenShareEnabled(!!d,typeof d!="boolean"?d:void 0)]).catch(_=>{it.warn(_),m?.(_)})},I=N=>{const _=Iu.getFailure(N);y?.(_)},M=N=>{C?.(N)};return v.on(K.SignalConnected,E).on(K.MediaDevicesError,I).on(K.EncryptionError,M),()=>{v.off(K.SignalConnected,E).off(K.MediaDevicesError,I).off(K.EncryptionError,M)}},[v,l,u,d,m,C,y]),b.useEffect(()=>{if(v){if(k){v.simulateParticipants({participants:{count:k},publish:{audio:!0,useRealTracks:!0}});return}if(!t){it.debug("no token yet");return}if(!n){it.warn("no livekit url provided"),m?.(Error("no livekit url provided"));return}s?(it.debug("connecting"),v.connect(n,t,o).catch(E=>{it.warn(E),m?.(E)})):(it.debug("disconnecting because connect is false"),v.disconnect())}},[s,t,JSON.stringify(o),v,m,n,k]),b.useEffect(()=>{if(!v)return;const E=I=>{switch(I){case nt.Disconnected:p&&p();break;case nt.Connected:h&&h();break}};return v.on(K.ConnectionStateChanged,E),()=>{v.off(K.ConnectionStateChanged,E)}},[t,h,p,v]),b.useEffect(()=>{if(v)return()=>{it.info("disconnecting on onmount"),v.disconnect()}},[v]),{room:v,htmlProps:P}}const bV=b.forwardRef(function(e,t){const{room:n,htmlProps:r}=yV(e);return b.createElement("div",{ref:t,...r},n&&b.createElement(R1.Provider,{value:n},b.createElement(mV.Provider,{value:e.featureFlags},e.children)))});function _r(e,t,n=!0){const[r,i]=b.useState(t);return b.useEffect(()=>{if(n&&i(t),typeof window>"u"||!e)return;const o=e.subscribe(i);return()=>o.unsubscribe()},[e,n]),r}function kV(e){const t=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=b.useState(t(e));function i(){r(t(e))}return b.useEffect(()=>{const o=window.matchMedia(e);return i(),o.addListener?o.addListener(i):o.addEventListener("change",i),()=>{o.removeListener?o.removeListener(i):o.removeEventListener("change",i)}},[e]),n}function CV(e={}){const t=Cp(e.participant),{className:n,connectionQualityObserver:r}=b.useMemo(()=>jB(t),[t]),i=_r(r,Gr.Unknown);return{className:n,quality:i}}function CR(e){const t=Tp(e),n=b.useMemo(()=>TB(t),[t]);return _r(n,t.state)}function SV(e){const t=Sp(),n=CR(t);return{buttonProps:b.useMemo(()=>{const{className:r,disconnect:i}=FB(t);return _o(e,{className:r,onClick:()=>i(e.stopTracks??!0),disabled:n===nt.Disconnected})},[t,e,n])}}function wV(e){if(e.publication instanceof Mu){const t=e.publication.track;if(t){const{facingMode:n}=A$(t);return n}}return"undefined"}function dT(e,t={}){var n,r;const i=typeof e=="string"?t.participant:e.participant,o=Cp(i),s=typeof e=="string"?{participant:o,source:e}:e,[l,u]=b.useState(!!((n=s.publication)!=null&&n.isMuted||(r=o.getTrackPublication(s.source))!=null&&r.isMuted));return b.useEffect(()=>{const d=gR(s).subscribe(u);return()=>d.unsubscribe()},[S1(s)]),l}function TV(e){const t=Cp(e),n=b.useMemo(()=>LB(t),[t]);return _r(n,t.isSpeaking)}function EV(){const e=Sp(),t=b.useMemo(()=>AB(e.localParticipant),[e]);return _r(t,e.localParticipant.permissions)}function _V({kind:e,room:t,track:n,requestPermissions:r,onError:i}){const o=wp(),s=b.useMemo(()=>EB(e,i,r),[e,r,i]),l=_r(s,[]),[u,d]=b.useState(""),{className:h,activeDeviceObservable:p,setActiveMediaDevice:m}=b.useMemo(()=>UB(e,t??o,n),[e,t,o,n]);return b.useEffect(()=>{const y=p.subscribe(C=>{it.info("setCurrentDeviceId",C),C&&d(C)});return()=>{y?.unsubscribe()}},[p]),{devices:l,className:h,activeDeviceId:u,setActiveMediaDevice:m}}function xV({trackRef:e,onParticipantClick:t,disableSpeakingIndicator:n,htmlProps:r}){const i=kp(e),o=b.useMemo(()=>{const{className:m}=BB();return _o(r,{className:m,onClick:y=>{var C;if((C=r.onClick)==null||C.call(r,y),typeof t=="function"){const k=i.publication??i.participant.getTrackPublication(i.source);t({participant:i.participant,track:k})}}})},[r,t,i.publication,i.source,i.participant]),s=i.participant.getTrackPublication(G.Source.Microphone),l=b.useMemo(()=>({participant:i.participant,source:G.Source.Microphone,publication:s}),[s,i.participant]),u=dT(i),d=dT(l),h=TV(i.participant),p=wV(i);return{elementProps:{"data-lk-audio-muted":d,"data-lk-video-muted":u,"data-lk-speaking":n===!0?!1:h,"data-lk-local-participant":i.participant.isLocal,"data-lk-source":i.source,"data-lk-facing-mode":p,...o}}}function PV({room:e,props:t}){const n=Tp(e),{className:r,roomAudioPlaybackAllowedObservable:i,handleStartAudioPlayback:o}=b.useMemo(()=>YB(),[]),s=b.useMemo(()=>i(n),[n,i]),{canPlayAudio:l}=_r(s,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:b.useMemo(()=>_o(t,{className:r,onClick:()=>{o(n)},style:{display:l?"none":"block"}}),[t,r,l,o,n]),canPlayAudio:l}}function RV({room:e,props:t}){const n=Tp(e),{className:r,roomVideoPlaybackAllowedObservable:i,handleStartVideoPlayback:o}=b.useMemo(()=>XB(),[]),s=b.useMemo(()=>i(n),[n,i]),{canPlayVideo:l}=_r(s,{canPlayVideo:n.canPlaybackVideo});return{mergedProps:b.useMemo(()=>_o(t,{className:r,onClick:()=>{o(n)},style:{display:l?"none":"block"}}),[t,r,l,o,n]),canPlayVideo:l}}function IV({props:e}){const{dispatch:t,state:n}=vR().widget,{className:r}=b.useMemo(()=>ZB(),[]);return{mergedProps:b.useMemo(()=>_o(e,{className:r,onClick:()=>{t&&t({msg:"toggle_chat"})},"aria-pressed":n!=null&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[e,r,t,n])}}function OV(e){var t,n;const r=kp(e),{className:i,mediaMutedObserver:o}=b.useMemo(()=>$B(r),[S1(r)]);return{isMuted:_r(o,!!((t=r.publication)!=null&&t.isMuted||(n=r.participant.getTrackPublication(r.source))!=null&&n.isMuted)),className:i}}function MV({source:e,onChange:t,initialState:n,captureOptions:r,publishOptions:i,onDeviceError:o,...s}){var l;const u=wp(),d=(l=u?.localParticipant)==null?void 0:l.getTrackPublication(e),h=b.useRef(!1),{toggle:p,className:m,pendingObserver:y,enabledObserver:C}=b.useMemo(()=>u?NB(e,u,r,i,o):DB(),[u,e,JSON.stringify(r),i]),k=_r(y,!1),T=_r(C,n??!!(d!=null&&d.isEnabled));b.useEffect(()=>{t?.(T,h.current),h.current=!1},[T,t]),b.useEffect(()=>{n!==void 0&&(it.debug("forcing initial toggle state",e,n),p(n))},[]);const v=b.useMemo(()=>_o(s,{className:m}),[s,m]),w=b.useCallback(P=>{var E;h.current=!0,p().catch(()=>h.current=!1),(E=s.onClick)==null||E.call(s,P)},[s,p]);return{toggle:p,enabled:T,pending:k,track:d,buttonProps:{...v,"aria-pressed":T,"data-lk-source":e,"data-lk-enabled":T,disabled:k,onClick:w}}}function LV(e=[G.Source.Camera,G.Source.Microphone,G.Source.ScreenShare,G.Source.ScreenShareAudio,G.Source.Unknown],t={}){const n=Tp(t.room),[r,i]=b.useState([]),[o,s]=b.useState([]),l=b.useMemo(()=>e.map(u=>hR(u)?u.source:u),[JSON.stringify(e)]);return b.useEffect(()=>{const u=tV(n,l,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:d,participants:h})=>{it.debug("setting track bundles",d,h),i(d),s(h)});return()=>u.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),b.useMemo(()=>{if(pR(e)){const u=NV(e,o),d=Array.from(r);return o.forEach(h=>{u.has(h.identity)&&(u.get(h.identity)??[]).forEach(p=>{if(r.find(({participant:y,publication:C})=>h.identity===y.identity&&C.source===p))return;it.debug(`Add ${p} placeholder for participant ${h.identity}.`);const m={participant:h,source:p};d.push(m)})}),d}else return r},[r,o,e])}function AV(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function NV(e,t){const n=new Map;if(pR(e)){const r=e.filter(i=>i.withPlaceholder).map(i=>i.source);t.forEach(i=>{const o=i.getTrackPublications().map(l=>{var u;return(u=l.track)==null?void 0:u.source}).filter(l=>l!==void 0),s=Array.from(AV(new Set(r),new Set(o)));s.length>0&&n.set(i.identity,s)})}return n}function DV(e){const t=Sp(),n=CR(t),r=b.useMemo(()=>n===nt.Disconnected,[n]),i=b.useMemo(()=>JB(t,e),[t,e,r]),o=_r(i.isSendingObservable,!1),s=_r(i.messageObservable,[]);return{send:i.send,update:i.update,chatMessages:s,isSending:o}}function UV(e={}){const[t,n]=b.useState(cV(e.defaults,e.preventLoad??!1)),r=b.useCallback(u=>{n(d=>({...d,audioEnabled:u}))},[]),i=b.useCallback(u=>{n(d=>({...d,videoEnabled:u}))},[]),o=b.useCallback(u=>{n(d=>({...d,audioDeviceId:u}))},[]),s=b.useCallback(u=>{n(d=>({...d,videoDeviceId:u}))},[]),l=b.useCallback(u=>{n(d=>({...d,username:u}))},[]);return b.useEffect(()=>{lV(t,e.preventSave??!1)},[t,e.preventSave]),{userChoices:t,saveAudioInputEnabled:r,saveVideoInputEnabled:i,saveAudioInputDeviceId:o,saveVideoInputDeviceId:s,saveUsername:l}}const FV=e=>{const t=n=>{let r=1-Math.max(-100,Math.min(-10,n))*-1/100;return r=Math.sqrt(r),r};return e.map(n=>n===-1/0?0:t(n))},jV={bands:5,loPass:100,hiPass:600,updateInterval:32,analyserOptions:{fftSize:2048}};function $V(e,t={}){var n;const r=e instanceof G?e:(n=e?.publication)==null?void 0:n.track,i={...jV,...t},[o,s]=b.useState(new Array(i.bands).fill(0));return b.useEffect(()=>{if(!r||!(r!=null&&r.mediaStream))return;const{analyser:l,cleanup:u}=Fj(r,i.analyserOptions),d=l.frequencyBinCount,h=new Float32Array(d),p=setInterval(()=>{l.getFloatFrequencyData(h);let m=new Float32Array(h.length);for(let T=0;T<h.length;T++)m[T]=h[T];m=m.slice(t.loPass,t.hiPass);const y=FV(m),C=Math.ceil(y.length/i.bands),k=[];for(let T=0;T<i.bands;T++){const v=y.slice(T*C,(T+1)*C).reduce((w,P)=>w+=P,0);k.push(v/C)}s(k)},i.updateInterval);return()=>{u(),clearInterval(p)}},[r,r?.mediaStream,JSON.stringify(t)]),o}const SR=b.forwardRef(function(e,t){const{mergedProps:n}=IV({props:e});return b.createElement("button",{ref:t,...n},e.children)}),zV=b.forwardRef(function(e,t){const{buttonProps:n}=SV(e);return b.createElement("button",{ref:t,...n},e.children)}),BV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},b.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),b.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),VV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},b.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),WV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",...e},b.createElement("path",{fill:"#FFF",d:"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z"})),HV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none",...e},b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),GV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},b.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z",clipRule:"evenodd"})),qV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),KV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},b.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),b.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),JV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},b.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),b.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),QV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),YV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("g",{opacity:.25},b.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),XV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("g",{opacity:.25},b.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),b.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),ZV=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},b.createElement("g",{opacity:.25},b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),b.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),eW=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),tW=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},b.createElement("g",{fill:"currentColor"},b.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),b.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"})));function nW(e){return e!==void 0}function ma(...e){return _o(...e.filter(nW))}function I1(e,t,n){return b.Children.map(e,r=>b.isValidElement(r)&&b.Children.only(e)?(r.props.class&&(t??(t={}),t.class=kR(r.props.class,t.class),t.style={...r.props.style,...t.style}),b.cloneElement(r,{...t,key:n})):r)}function rW(e){var t,n;if(typeof window<"u"&&typeof process<"u"&&(((t=process==null?void 0:process.env)==null?void 0:t.NODE_ENV)==="dev"||((n=process==null?void 0:process.env)==null?void 0:n.NODE_ENV)==="development")){const r=document.querySelector(".lk-room-container");r&&!getComputedStyle(r).getPropertyValue("--lk-has-imported-styles")&&it.warn("It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.")}}const qg=b.forwardRef(function({kind:e,initialSelection:t,onActiveDeviceChange:n,onDeviceListChange:r,onDeviceSelectError:i,exactMatch:o,track:s,requestPermissions:l,onError:u,...d},h){const p=wp(),m=b.useCallback(E=>{p&&p.emit(K.MediaDevicesError,E),u?.(E)},[p,u]),{devices:y,activeDeviceId:C,setActiveMediaDevice:k,className:T}=_V({kind:e,room:p,track:s,requestPermissions:l,onError:m});b.useEffect(()=>{t!==void 0&&k(t)},[k]),b.useEffect(()=>{typeof r=="function"&&r(y)},[r,y]),b.useEffect(()=>{C&&C!==""&&n?.(C)},[C]);const v=async E=>{try{await k(E,{exact:o})}catch(I){if(I instanceof Error)i?.(I);else throw I}},w=b.useMemo(()=>ma(d,{className:T},{className:"lk-list"}),[T,d]);function P(E,I,M){return E===I||M===0&&I==="default"}return b.createElement("ul",{ref:h,...w},y.map((E,I)=>b.createElement("li",{key:E.deviceId,id:E.deviceId,"data-lk-active":P(E.deviceId,C,I),"aria-selected":P(E.deviceId,C,I),role:"option"},b.createElement("button",{className:"lk-button",onClick:()=>v(E.deviceId)},E.label))))}),iW=b.forwardRef(function({label:e,...t},n){const r=Sp(),{mergedProps:i,canPlayAudio:o}=PV({room:r,props:t}),{mergedProps:s,canPlayVideo:l}=RV({room:r,props:i}),{style:u,...d}=s;return u.display=o&&l?"none":"block",b.createElement("button",{ref:n,style:u,...d},e??`Start ${o?"Video":"Audio"}`)});function wR(e,t){switch(e){case G.Source.Microphone:return t?b.createElement(JV,null):b.createElement(KV,null);case G.Source.Camera:return t?b.createElement(VV,null):b.createElement(BV,null);case G.Source.ScreenShare:return t?b.createElement(tW,null):b.createElement(eW,null);default:return}}function oW(e){switch(e){case Gr.Excellent:return b.createElement(QV,null);case Gr.Good:return b.createElement(YV,null);case Gr.Poor:return b.createElement(XV,null);default:return b.createElement(ZV,null)}}const Kg=b.forwardRef(function({showIcon:e,...t},n){const{buttonProps:r,enabled:i}=MV(t);return b.createElement("button",{ref:n,...r},(e??!0)&&wR(t.source,i),t.children)}),sW=b.forwardRef(function(e,t){const{className:n,quality:r}=CV(e),i=b.useMemo(()=>({...ma(e,{className:n}),"data-lk-quality":r}),[r,e,n]);return b.createElement("div",{ref:t,...i},e.children??oW(r))}),aW=b.forwardRef(function({participant:e,...t},n){const r=Cp(e),{className:i,infoObserver:o}=b.useMemo(()=>zB(r),[r]),{identity:s,name:l}=_r(o,{name:r.name,identity:r.identity,metadata:r.metadata}),u=b.useMemo(()=>ma(t,{className:i,"data-lk-participant-name":l}),[t,i,l]);return b.createElement("span",{ref:n,...u},l!==""?l:s,t.children)}),lW=b.forwardRef(function({trackRef:e,show:t="always",...n},r){const{className:i,isMuted:o}=OV(e),s=t==="always"||t==="muted"&&o||t==="unmuted"&&!o,l=b.useMemo(()=>ma(n,{className:i}),[i,n]);return s?b.createElement("div",{ref:r,...l,"data-lk-muted":o},n.children??wR(e.source,!o)):null});function cW(e,t={}){const[n,r]=b.useState(A0(e)),[i,o]=b.useState(n?.isMuted),[s,l]=b.useState(n?.isSubscribed),[u,d]=b.useState(n?.track),[h,p]=b.useState("landscape"),m=b.useRef(),{className:y,trackObserver:C}=b.useMemo(()=>wB(e),[e.participant.sid??e.participant.identity,e.source,yp(e)&&e.publication.trackSid]);return b.useEffect(()=>{const k=C.subscribe(T=>{it.debug("update track",T),r(T),o(T?.isMuted),l(T?.isSubscribed),d(T?.track)});return()=>k?.unsubscribe()},[C]),b.useEffect(()=>{var k,T;return u&&(m.current&&u.detach(m.current),(k=t.element)!=null&&k.current&&!(pB(e.participant)&&u?.kind==="audio")&&u.attach(t.element.current)),m.current=(T=t.element)==null?void 0:T.current,()=>{m.current&&u?.detach(m.current)}},[u,t.element]),b.useEffect(()=>{var k,T;if(typeof((k=n?.dimensions)==null?void 0:k.width)=="number"&&typeof((T=n?.dimensions)==null?void 0:T.height)=="number"){const v=n.dimensions.width>n.dimensions.height?"landscape":"portrait";p(v)}},[n]),{publication:n,isMuted:i,isSubscribed:s,track:u,elementProps:ma(t.props,{className:y,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":n?.source,...n?.kind==="video"&&{"data-lk-orientation":h}})}}var uW=typeof zc=="object"&&zc&&zc.Object===Object&&zc,dW=typeof self=="object"&&self&&self.Object===Object&&self;uW||dW||Function("return this")();const fW=b.forwardRef(function({trackRef:e,onSubscriptionStatusChanged:t,volume:n,muted:r,...i},o){const s=kp(e),l=b.useRef(null);b.useImperativeHandle(o,()=>l.current);const{elementProps:u,isSubscribed:d,track:h,publication:p}=cW(s,{element:l,props:i});return b.useEffect(()=>{t?.(!!d)},[d,t]),b.useEffect(()=>{h===void 0||n===void 0||(h instanceof Cl?h.setVolume(n):it.warn("Volume can only be set on remote audio tracks."))},[n,h]),b.useEffect(()=>{p===void 0||r===void 0||(p instanceof m1?p.setEnabled(!r):it.warn("Can only call setEnabled on remote track publications."))},[r,p,h]),b.createElement("audio",{ref:l,...u})});function hW({tracks:e,...t}){return b.createElement(b.Fragment,null,e.map(n=>b.createElement(x1.Provider,{value:n,key:S1(n)},I1(t.children))))}function pW({value:e,onPinChange:t,onWidgetChange:n,children:r}){const i=fV(e);return b.useEffect(()=>{it.debug("PinState Updated",{state:i.pin.state}),t&&i.pin.state&&t(i.pin.state)},[i.pin.state,t]),b.useEffect(()=>{it.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)},[n,i.widget.state]),b.createElement(_1.Provider,{value:i},r)}const mW=e=>{const t=[];for(let n=0;n<e;n++)t.push([n,e-1-n]);return t},fT=e=>[[Math.floor(e/2)],[-1]],gW=(e,t,n)=>{const[r,i]=b.useState(0),[o,s]=b.useState([[]]);b.useEffect(()=>{if(e==="thinking")s(fT(t));else if(e==="connecting"||e==="initializing"){const u=[...mW(t)];s(u)}else s(e==="listening"?fT(t):e===void 0?[new Array(t).fill(0).map((u,d)=>d)]:[[]]);i(0)},[e,t]);const l=b.useRef(null);return b.useEffect(()=>{let u=performance.now();const d=h=>{h-u>=n&&(i(p=>p+1),u=h),l.current=requestAnimationFrame(d)};return l.current=requestAnimationFrame(d),()=>{l.current!==null&&cancelAnimationFrame(l.current)}},[n,t,e,o.length]),o[r%o.length]},vW=new Map([["connecting",2e3],["initializing",2e3],["listening",500],["thinking",150]]),yW=(e,t)=>{if(e===void 0)return 1e3;let n=vW.get(e);if(n)switch(e){case"connecting":n/=t;break}return n},bW=b.forwardRef(function({state:e,options:t,barCount:n=15,trackRef:r,children:i,...o},s){const l=ma(o,{className:"lk-audio-bar-visualizer"});let u=P1();r&&(u=r);const d=$V(u,{bands:n,loPass:100,hiPass:200}),h=t?.minHeight??20,p=t?.maxHeight??100,m=gW(e,n,yW(e,n)??100);return b.createElement("div",{ref:s,...l,"data-lk-va-state":e},d.map((y,C)=>i?I1(i,{"data-lk-highlighted":m.includes(C),"data-lk-bar-index":C,class:"lk-audio-bar",style:{height:`${Math.min(p,Math.max(h,y*100+5))}%`}}):b.createElement("span",{key:C,"data-lk-highlighted":m.includes(C),"data-lk-bar-index":C,className:`lk-audio-bar ${m.includes(C)&&"lk-highlighted"}`,style:{height:`${Math.min(p,Math.max(h,y*100+5))}%`}})))}),kW=b.forwardRef(function({children:e,disableSpeakingIndicator:t,onParticipantClick:n,trackRef:r,...i},o){const s=kp(r),{elementProps:l}=xV({trackRef:s,htmlProps:i,disableSpeakingIndicator:t,onParticipantClick:n});return b.createElement("div",{ref:o,style:{position:"relative",minHeight:"160px"},...l},b.createElement(x1.Provider,{value:s},e??b.createElement(b.Fragment,null,yp(s)&&b.createElement(fW,{trackRef:s}),b.createElement(bW,{barCount:7,options:{minHeight:8}}),b.createElement("div",{className:"lk-participant-metadata"},b.createElement("div",{className:"lk-participant-metadata-item"},b.createElement(lW,{trackRef:s}),b.createElement(aW,null)),b.createElement(sW,{className:"lk-participant-metadata-item"})))))}),CW=b.forwardRef(function({entry:e,hideName:t=!1,hideTimestamp:n=!1,messageFormatter:r,...i},o){var s,l,u;const d=b.useMemo(()=>r?r(e.message):e.message,[e.message,r]),h=!!e.editTimestamp,p=new Date(e.timestamp),m=navigator?navigator.language:"en-US";return b.createElement("li",{ref:o,className:"lk-chat-entry",title:p.toLocaleTimeString(m,{timeStyle:"full"}),"data-lk-message-origin":(s=e.from)!=null&&s.isLocal?"local":"remote",...i},(!n||!t||h)&&b.createElement("span",{className:"lk-meta-data"},!t&&b.createElement("strong",{className:"lk-participant-name"},((l=e.from)==null?void 0:l.name)??((u=e.from)==null?void 0:u.identity)),(!n||h)&&b.createElement("span",{className:"lk-timestamp"},h&&"edited ",p.toLocaleTimeString(m,{timeStyle:"short"}))),b.createElement("span",{className:"lk-message-body"},d))});function SW({messageFormatter:e,messageDecoder:t,messageEncoder:n,channelTopic:r,...i}){const o=b.useRef(null),s=b.useRef(null),l=b.useMemo(()=>({messageDecoder:t,messageEncoder:n,channelTopic:r}),[t,n,r]),{send:u,chatMessages:d,isSending:h}=DV(l),p=yR(),m=b.useRef(0);async function y(C){C.preventDefault(),o.current&&o.current.value.trim()!==""&&u&&(await u(o.current.value),o.current.value="",o.current.focus())}return b.useEffect(()=>{var C;s&&((C=s.current)==null||C.scrollTo({top:s.current.scrollHeight}))},[s,d]),b.useEffect(()=>{var C,k,T,v,w;if(!p||d.length===0)return;if((C=p.widget.state)!=null&&C.showChat&&d.length>0&&m.current!==((k=d[d.length-1])==null?void 0:k.timestamp)){m.current=(T=d[d.length-1])==null?void 0:T.timestamp;return}const P=d.filter(I=>!m.current||I.timestamp>m.current).length,{widget:E}=p;P>0&&((v=E.state)==null?void 0:v.unreadMessages)!==P&&((w=E.dispatch)==null||w.call(E,{msg:"unread_msg",count:P}))},[d,p?.widget]),b.createElement("div",{...i,className:"lk-chat"},b.createElement("div",{className:"lk-chat-header"},"Messages",b.createElement(SR,{className:"lk-close-button"},b.createElement(WV,null))),b.createElement("ul",{className:"lk-list lk-chat-messages",ref:s},i.children?d.map((C,k)=>I1(i.children,{entry:C,key:C.id??k,messageFormatter:e})):d.map((C,k,T)=>{const v=k>=1&&T[k-1].from===C.from,w=k>=1&&C.timestamp-T[k-1].timestamp<6e4;return b.createElement(CW,{key:C.id??k,hideName:v,hideTimestamp:v===!1?!1:w,entry:C,messageFormatter:e})})),b.createElement("form",{className:"lk-chat-form",onSubmit:y},b.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:h,ref:o,type:"text",placeholder:"Enter a message...",onInput:C=>C.stopPropagation(),onKeyDown:C=>C.stopPropagation(),onKeyUp:C=>C.stopPropagation()}),b.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:h},"Send")))}function hT({kind:e,initialSelection:t,onActiveDeviceChange:n,tracks:r,requestPermissions:i=!1,...o}){const[s,l]=b.useState(!1),[u,d]=b.useState([]),[h,p]=b.useState(!0),[m,y]=b.useState(i),C=(w,P)=>{it.debug("handle device change"),l(!1),n?.(w,P)},k=b.useRef(null),T=b.useRef(null);b.useLayoutEffect(()=>{s&&y(!0)},[s]),b.useLayoutEffect(()=>{k.current&&T.current&&(u||h)&&mB(k.current,T.current).then(({x:w,y:P})=>{T.current&&Object.assign(T.current.style,{left:`${w}px`,top:`${P}px`})}),p(!1)},[k,T,u,h]);const v=b.useCallback(w=>{T.current&&w.target!==k.current&&s&&gB(T.current,w)&&l(!1)},[s,T,k]);return b.useEffect(()=>(document.addEventListener("click",v),window.addEventListener("resize",()=>p(!0)),()=>{document.removeEventListener("click",v),window.removeEventListener("resize",()=>p(!0))}),[v,p]),b.createElement(b.Fragment,null,b.createElement("button",{className:"lk-button lk-button-menu","aria-pressed":s,...o,onClick:()=>l(!s),ref:k},o.children),!o.disabled&&b.createElement("div",{className:"lk-device-menu",ref:T,style:{visibility:s?"visible":"hidden"}},e?b.createElement(qg,{initialSelection:t,onActiveDeviceChange:w=>C(e,w),onDeviceListChange:d,kind:e,track:r?.[e],requestPermissions:m}):b.createElement(b.Fragment,null,b.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),b.createElement(qg,{kind:"audioinput",onActiveDeviceChange:w=>C("audioinput",w),onDeviceListChange:d,track:r?.audioinput,requestPermissions:m}),b.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),b.createElement(qg,{kind:"videoinput",onActiveDeviceChange:w=>C("videoinput",w),onDeviceListChange:d,track:r?.videoinput,requestPermissions:m}))))}function wW(){b.useEffect(()=>{rW()},[])}function TW({props:e}){const{dispatch:t,state:n}=vR().widget,r="lk-button lk-settings-toggle";return{mergedProps:b.useMemo(()=>_o(e,{className:r,onClick:()=>{t&&t({msg:"toggle_settings"})},"aria-pressed":n!=null&&n.showSettings?"true":"false"}),[e,r,t,n])}}const EW=b.forwardRef(function(e,t){const{mergedProps:n}=TW({props:e});return b.createElement("button",{ref:t,...n},e.children)});function _W({variation:e,controls:t,saveUserChoices:n=!0,onDeviceError:r,...i}){var o;const[s,l]=b.useState(!1),u=yR();b.useEffect(()=>{var z,F;((z=u?.widget.state)==null?void 0:z.showChat)!==void 0&&l((F=u?.widget.state)==null?void 0:F.showChat)},[(o=u?.widget.state)==null?void 0:o.showChat]);const d=kV(`(max-width: ${s?1e3:760}px)`)?"minimal":"verbose";e??(e=d);const h={leave:!0,...t},p=EV();p?(h.camera??(h.camera=p.canPublish),h.microphone??(h.microphone=p.canPublish),h.screenShare??(h.screenShare=p.canPublish),h.chat??(h.chat=p.canPublishData&&t?.chat)):(h.camera=!1,h.chat=!1,h.microphone=!1,h.screenShare=!1);const m=b.useMemo(()=>e==="minimal"||e==="verbose",[e]),y=b.useMemo(()=>e==="textOnly"||e==="verbose",[e]),C=kB(),[k,T]=b.useState(!1),v=b.useCallback(z=>{T(z)},[T]),w=ma({className:"lk-control-bar"},i),{saveAudioInputEnabled:P,saveVideoInputEnabled:E,saveAudioInputDeviceId:I,saveVideoInputDeviceId:M}=UV({preventSave:!n}),N=b.useCallback((z,F)=>F?P(z):null,[P]),_=b.useCallback((z,F)=>F?E(z):null,[E]);return b.createElement("div",{...w},h.microphone&&b.createElement("div",{className:"lk-button-group"},b.createElement(Kg,{source:G.Source.Microphone,showIcon:m,onChange:N,onDeviceError:z=>r?.({source:G.Source.Microphone,error:z})},y&&"Microphone"),b.createElement("div",{className:"lk-button-group-menu"},b.createElement(hT,{kind:"audioinput",onActiveDeviceChange:(z,F)=>I(F??"")}))),h.camera&&b.createElement("div",{className:"lk-button-group"},b.createElement(Kg,{source:G.Source.Camera,showIcon:m,onChange:_,onDeviceError:z=>r?.({source:G.Source.Camera,error:z})},y&&"Camera"),b.createElement("div",{className:"lk-button-group-menu"},b.createElement(hT,{kind:"videoinput",onActiveDeviceChange:(z,F)=>M(F??"")}))),h.screenShare&&C&&b.createElement(Kg,{source:G.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:m,onChange:v,onDeviceError:z=>r?.({source:G.Source.ScreenShare,error:z})},y&&(k?"Stop screen share":"Share screen")),h.chat&&b.createElement(SR,null,m&&b.createElement(HV,null),y&&"Chat"),h.settings&&b.createElement(EW,null,m&&b.createElement(GV,null),y&&"Settings"),h.leave&&b.createElement(zV,null,m&&b.createElement(qV,null),y&&"Leave"),b.createElement(iW,null))}function xW({...e}){const[t,n]=b.useState({showChat:!1,unreadMessages:0}),r=LV([G.Source.Microphone]);return wW(),b.createElement(pW,{onWidgetChange:n},b.createElement("div",{className:"lk-audio-conference",...e},b.createElement("div",{className:"lk-audio-conference-stage"},b.createElement(hW,{tracks:r},b.createElement(kW,null))),b.createElement(_W,{controls:{microphone:!0,screenShare:!1,camera:!1,chat:!0}}),t.showChat&&b.createElement(SW,null)))}const PW="wss://playvoice-im1h8cr0.livekit.cloud";function RW(){const[e,t]=b.useState(null),[n,r]=b.useState(!0);return b.useEffect(()=>{async function i(){try{const s=await(await fetch("http://localhost:3333/chat-token")).json();t(s.token)}catch(o){console.error("Erro ao buscar token:",o)}finally{r(!1)}}i()},[]),n?ee.jsx("p",{children:"Carregando..."}):e?ee.jsx(bV,{token:e,serverUrl:PW,connect:!0,children:ee.jsx(xW,{})}):ee.jsx("p",{children:"Erro ao obter o token."})}var IW=Object.defineProperty,OW=(e,t)=>{for(var n in t)IW(e,n,{get:t[n],enumerable:!0})},TR=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},pT=(e,t,n)=>(TR(e,t,"read from private field"),n?n.call(e):t.get(e)),MW=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},LW=(e,t,n,r)=>(TR(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),AW={};OW(AW,{Channel:()=>ER,PluginListener:()=>_R,addPluginListener:()=>DW,convertFileSrc:()=>UW,invoke:()=>Ep,transformCallback:()=>Ih});function NW(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function Ih(e,t=!1){let n=NW(),r=`_${n}`;return Object.defineProperty(window,r,{value:i=>(t&&Reflect.deleteProperty(window,r),e?.(i)),writable:!1,configurable:!0}),n}var Bc,ER=class{constructor(){this.__TAURI_CHANNEL_MARKER__=!0,MW(this,Bc,()=>{}),this.id=Ih(e=>{pT(this,Bc).call(this,e)})}set onmessage(e){LW(this,Bc,e)}get onmessage(){return pT(this,Bc)}toJSON(){return`__CHANNEL__:${this.id}`}};Bc=new WeakMap;var _R=class{constructor(e,t,n){this.plugin=e,this.event=t,this.channelId=n}async unregister(){return Ep(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}};async function DW(e,t,n){let r=new ER;return r.onmessage=n,Ep(`plugin:${e}|register_listener`,{event:t,handler:r}).then(()=>new _R(e,t,r.id))}async function Ep(e,t={}){return new Promise((n,r)=>{let i=Ih(s=>{n(s),Reflect.deleteProperty(window,`_${o}`)},!0),o=Ih(s=>{r(s),Reflect.deleteProperty(window,`_${i}`)},!0);window.__TAURI_IPC__({cmd:e,callback:i,error:o,...t})})}function UW(e,t="asset"){let n=encodeURIComponent(e);return navigator.userAgent.includes("Windows")?`https://${t}.localhost/${n}`:`${t}://localhost/${n}`}var Oh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Oh.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",p=1,m=2,y=4,C=1,k=2,T=1,v=2,w=4,P=8,E=16,I=32,M=64,N=128,_=256,z=512,F=30,V="...",q=800,ve=16,he=1,$e=2,Qe=3,De=1/0,re=9007199254740991,ae=17976931348623157e292,Ee=0/0,ke=4294967295,Pe=ke-1,ze=ke>>>1,Et=[["ary",N],["bind",T],["bindKey",v],["curry",P],["curryRight",E],["flip",z],["partial",I],["partialRight",M],["rearg",_]],mt="[object Arguments]",lt="[object Array]",Xt="[object AsyncFunction]",vn="[object Boolean]",ti="[object Date]",hn="[object DOMException]",Rr="[object Error]",Te="[object Function]",Re="[object GeneratorFunction]",ye="[object Map]",Ie="[object Number]",Ct="[object Null]",_t="[object Object]",Ue="[object Promise]",et="[object Proxy]",gt="[object RegExp]",Zt="[object Set]",lr="[object String]",Ir="[object Symbol]",ut="[object Undefined]",vt="[object WeakMap]",yn="[object WeakSet]",$n="[object ArrayBuffer]",bn="[object DataView]",ks="[object Float32Array]",Or="[object Float64Array]",cr="[object Int8Array]",ga="[object Int16Array]",xo="[object Int32Array]",ql="[object Uint8Array]",Mr="[object Uint8ClampedArray]",va="[object Uint16Array]",ya="[object Uint32Array]",Hu=/\b__p \+= '';/g,Pp=/\b(__p \+=) '' \+/g,Gu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cs=/&(?:amp|lt|gt|quot|#39);/g,Kl=/[&<>"']/g,Jl=RegExp(Cs.source),ba=RegExp(Kl.source),Ql=/<%-([\s\S]+?)%>/g,Rp=/<%([\s\S]+?)%>/g,Yl=/<%=([\s\S]+?)%>/g,Ip=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qu=/^\w*$/,ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Po=/[\\^$.*+?()[\]{}|]/g,Ku=RegExp(Po.source),Xl=/^\s+/,Op=/\s/,L=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,U=/\{\n\/\* \[wrapped with (.+)\] \*/,B=/,? & /,ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,_e=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,Oe=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,Ce=/^\[object .+?Constructor\]$/,rt=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ge=/($^)/,en=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",Ss="\\u0300-\\u036f",ni="\\ufe20-\\ufe2f",Ro="\\u20d0-\\u20ff",ri=Ss+ni+Ro,ws="\\u2700-\\u27bf",Lr="a-z\\xdf-\\xf6\\xf8-\\xff",Ca="\\xac\\xb1\\xd7\\xf7",Sa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wa="\\u2000-\\u206f",Be=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",In="\\ufe0e\\ufe0f",Rt=Ca+Sa+wa+Be,ur="['’]",Ju="["+xt+"]",Qu="["+Rt+"]",Yu="["+ri+"]",A1="\\d+",QR="["+ws+"]",N1="["+Lr+"]",D1="[^"+xt+Rt+A1+ws+Lr+Pt+"]",Mp="\\ud83c[\\udffb-\\udfff]",YR="(?:"+Yu+"|"+Mp+")",U1="[^"+xt+"]",Lp="(?:\\ud83c[\\udde6-\\uddff]){2}",Ap="[\\ud800-\\udbff][\\udc00-\\udfff]",Ta="["+Pt+"]",F1="\\u200d",j1="(?:"+N1+"|"+D1+")",XR="(?:"+Ta+"|"+D1+")",$1="(?:"+ur+"(?:d|ll|m|re|s|t|ve))?",z1="(?:"+ur+"(?:D|LL|M|RE|S|T|VE))?",B1=YR+"?",V1="["+In+"]?",ZR="(?:"+F1+"(?:"+[U1,Lp,Ap].join("|")+")"+V1+B1+")*",eI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",W1=V1+B1+ZR,nI="(?:"+[QR,Lp,Ap].join("|")+")"+W1,rI="(?:"+[U1+Yu+"?",Yu,Lp,Ap,Ju].join("|")+")",iI=RegExp(ur,"g"),oI=RegExp(Yu,"g"),Np=RegExp(Mp+"(?="+Mp+")|"+rI+W1,"g"),sI=RegExp([Ta+"?"+N1+"+"+$1+"(?="+[Qu,Ta,"$"].join("|")+")",XR+"+"+z1+"(?="+[Qu,Ta+j1,"$"].join("|")+")",Ta+"?"+j1+"+"+$1,Ta+"+"+z1,tI,eI,A1,nI].join("|"),"g"),aI=RegExp("["+F1+xt+ri+In+"]"),lI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uI=-1,It={};It[ks]=It[Or]=It[cr]=It[ga]=It[xo]=It[ql]=It[Mr]=It[va]=It[ya]=!0,It[mt]=It[lt]=It[$n]=It[vn]=It[bn]=It[ti]=It[Rr]=It[Te]=It[ye]=It[Ie]=It[_t]=It[gt]=It[Zt]=It[lr]=It[vt]=!1;var St={};St[mt]=St[lt]=St[$n]=St[bn]=St[vn]=St[ti]=St[ks]=St[Or]=St[cr]=St[ga]=St[xo]=St[ye]=St[Ie]=St[_t]=St[gt]=St[Zt]=St[lr]=St[Ir]=St[ql]=St[Mr]=St[va]=St[ya]=!0,St[Rr]=St[Te]=St[vt]=!1;var dI={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},fI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mI=parseFloat,gI=parseInt,H1=typeof pc=="object"&&pc&&pc.Object===Object&&pc,vI=typeof self=="object"&&self&&self.Object===Object&&self,kn=H1||vI||Function("return this")(),Dp=t&&!t.nodeType&&t,Ts=Dp&&!0&&e&&!e.nodeType&&e,G1=Ts&&Ts.exports===Dp,Up=G1&&H1.process,Ar=function(){try{var j=Ts&&Ts.require&&Ts.require("util").types;return j||Up&&Up.binding&&Up.binding("util")}catch{}}(),q1=Ar&&Ar.isArrayBuffer,K1=Ar&&Ar.isDate,J1=Ar&&Ar.isMap,Q1=Ar&&Ar.isRegExp,Y1=Ar&&Ar.isSet,X1=Ar&&Ar.isTypedArray;function dr(j,Q,W){switch(W.length){case 0:return j.call(Q);case 1:return j.call(Q,W[0]);case 2:return j.call(Q,W[0],W[1]);case 3:return j.call(Q,W[0],W[1],W[2])}return j.apply(Q,W)}function yI(j,Q,W,pe){for(var Fe=-1,at=j==null?0:j.length;++Fe<at;){var sn=j[Fe];Q(pe,sn,W(sn),j)}return pe}function Nr(j,Q){for(var W=-1,pe=j==null?0:j.length;++W<pe&&Q(j[W],W,j)!==!1;);return j}function bI(j,Q){for(var W=j==null?0:j.length;W--&&Q(j[W],W,j)!==!1;);return j}function Z1(j,Q){for(var W=-1,pe=j==null?0:j.length;++W<pe;)if(!Q(j[W],W,j))return!1;return!0}function Io(j,Q){for(var W=-1,pe=j==null?0:j.length,Fe=0,at=[];++W<pe;){var sn=j[W];Q(sn,W,j)&&(at[Fe++]=sn)}return at}function Xu(j,Q){var W=j==null?0:j.length;return!!W&&Ea(j,Q,0)>-1}function Fp(j,Q,W){for(var pe=-1,Fe=j==null?0:j.length;++pe<Fe;)if(W(Q,j[pe]))return!0;return!1}function At(j,Q){for(var W=-1,pe=j==null?0:j.length,Fe=Array(pe);++W<pe;)Fe[W]=Q(j[W],W,j);return Fe}function Oo(j,Q){for(var W=-1,pe=Q.length,Fe=j.length;++W<pe;)j[Fe+W]=Q[W];return j}function jp(j,Q,W,pe){var Fe=-1,at=j==null?0:j.length;for(pe&&at&&(W=j[++Fe]);++Fe<at;)W=Q(W,j[Fe],Fe,j);return W}function kI(j,Q,W,pe){var Fe=j==null?0:j.length;for(pe&&Fe&&(W=j[--Fe]);Fe--;)W=Q(W,j[Fe],Fe,j);return W}function $p(j,Q){for(var W=-1,pe=j==null?0:j.length;++W<pe;)if(Q(j[W],W,j))return!0;return!1}var CI=zp("length");function SI(j){return j.split("")}function wI(j){return j.match(ne)||[]}function eb(j,Q,W){var pe;return W(j,function(Fe,at,sn){if(Q(Fe,at,sn))return pe=at,!1}),pe}function Zu(j,Q,W,pe){for(var Fe=j.length,at=W+(pe?1:-1);pe?at--:++at<Fe;)if(Q(j[at],at,j))return at;return-1}function Ea(j,Q,W){return Q===Q?NI(j,Q,W):Zu(j,tb,W)}function TI(j,Q,W,pe){for(var Fe=W-1,at=j.length;++Fe<at;)if(pe(j[Fe],Q))return Fe;return-1}function tb(j){return j!==j}function nb(j,Q){var W=j==null?0:j.length;return W?Vp(j,Q)/W:Ee}function zp(j){return function(Q){return Q==null?n:Q[j]}}function Bp(j){return function(Q){return j==null?n:j[Q]}}function rb(j,Q,W,pe,Fe){return Fe(j,function(at,sn,bt){W=pe?(pe=!1,at):Q(W,at,sn,bt)}),W}function EI(j,Q){var W=j.length;for(j.sort(Q);W--;)j[W]=j[W].value;return j}function Vp(j,Q){for(var W,pe=-1,Fe=j.length;++pe<Fe;){var at=Q(j[pe]);at!==n&&(W=W===n?at:W+at)}return W}function Wp(j,Q){for(var W=-1,pe=Array(j);++W<j;)pe[W]=Q(W);return pe}function _I(j,Q){return At(Q,function(W){return[W,j[W]]})}function ib(j){return j&&j.slice(0,lb(j)+1).replace(Xl,"")}function fr(j){return function(Q){return j(Q)}}function Hp(j,Q){return At(Q,function(W){return j[W]})}function Zl(j,Q){return j.has(Q)}function ob(j,Q){for(var W=-1,pe=j.length;++W<pe&&Ea(Q,j[W],0)>-1;);return W}function sb(j,Q){for(var W=j.length;W--&&Ea(Q,j[W],0)>-1;);return W}function xI(j,Q){for(var W=j.length,pe=0;W--;)j[W]===Q&&++pe;return pe}var PI=Bp(dI),RI=Bp(fI);function II(j){return"\\"+pI[j]}function OI(j,Q){return j==null?n:j[Q]}function _a(j){return aI.test(j)}function MI(j){return lI.test(j)}function LI(j){for(var Q,W=[];!(Q=j.next()).done;)W.push(Q.value);return W}function Gp(j){var Q=-1,W=Array(j.size);return j.forEach(function(pe,Fe){W[++Q]=[Fe,pe]}),W}function ab(j,Q){return function(W){return j(Q(W))}}function Mo(j,Q){for(var W=-1,pe=j.length,Fe=0,at=[];++W<pe;){var sn=j[W];(sn===Q||sn===h)&&(j[W]=h,at[Fe++]=W)}return at}function ed(j){var Q=-1,W=Array(j.size);return j.forEach(function(pe){W[++Q]=pe}),W}function AI(j){var Q=-1,W=Array(j.size);return j.forEach(function(pe){W[++Q]=[pe,pe]}),W}function NI(j,Q,W){for(var pe=W-1,Fe=j.length;++pe<Fe;)if(j[pe]===Q)return pe;return-1}function DI(j,Q,W){for(var pe=W+1;pe--;)if(j[pe]===Q)return pe;return pe}function xa(j){return _a(j)?FI(j):CI(j)}function ii(j){return _a(j)?jI(j):SI(j)}function lb(j){for(var Q=j.length;Q--&&Op.test(j.charAt(Q)););return Q}var UI=Bp(hI);function FI(j){for(var Q=Np.lastIndex=0;Np.test(j);)++Q;return Q}function jI(j){return j.match(Np)||[]}function $I(j){return j.match(sI)||[]}var zI=function j(Q){Q=Q==null?kn:Pa.defaults(kn.Object(),Q,Pa.pick(kn,cI));var W=Q.Array,pe=Q.Date,Fe=Q.Error,at=Q.Function,sn=Q.Math,bt=Q.Object,qp=Q.RegExp,BI=Q.String,Dr=Q.TypeError,td=W.prototype,VI=at.prototype,Ra=bt.prototype,nd=Q["__core-js_shared__"],rd=VI.toString,dt=Ra.hasOwnProperty,WI=0,cb=function(){var a=/[^.]+$/.exec(nd&&nd.keys&&nd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),id=Ra.toString,HI=rd.call(bt),GI=kn._,qI=qp("^"+rd.call(dt).replace(Po,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),od=G1?Q.Buffer:n,Lo=Q.Symbol,sd=Q.Uint8Array,ub=od?od.allocUnsafe:n,ad=ab(bt.getPrototypeOf,bt),db=bt.create,fb=Ra.propertyIsEnumerable,ld=td.splice,hb=Lo?Lo.isConcatSpreadable:n,ec=Lo?Lo.iterator:n,Es=Lo?Lo.toStringTag:n,cd=function(){try{var a=Is(bt,"defineProperty");return a({},"",{}),a}catch{}}(),KI=Q.clearTimeout!==kn.clearTimeout&&Q.clearTimeout,JI=pe&&pe.now!==kn.Date.now&&pe.now,QI=Q.setTimeout!==kn.setTimeout&&Q.setTimeout,ud=sn.ceil,dd=sn.floor,Kp=bt.getOwnPropertySymbols,YI=od?od.isBuffer:n,pb=Q.isFinite,XI=td.join,ZI=ab(bt.keys,bt),an=sn.max,On=sn.min,e5=pe.now,t5=Q.parseInt,mb=sn.random,n5=td.reverse,Jp=Is(Q,"DataView"),tc=Is(Q,"Map"),Qp=Is(Q,"Promise"),Ia=Is(Q,"Set"),nc=Is(Q,"WeakMap"),rc=Is(bt,"create"),fd=nc&&new nc,Oa={},r5=Os(Jp),i5=Os(tc),o5=Os(Qp),s5=Os(Ia),a5=Os(nc),hd=Lo?Lo.prototype:n,ic=hd?hd.valueOf:n,gb=hd?hd.toString:n;function x(a){if(Vt(a)&&!je(a)&&!(a instanceof Ye)){if(a instanceof Ur)return a;if(dt.call(a,"__wrapped__"))return vk(a)}return new Ur(a)}var Ma=function(){function a(){}return function(c){if(!Ft(c))return{};if(db)return db(c);a.prototype=c;var f=new a;return a.prototype=n,f}}();function pd(){}function Ur(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}x.templateSettings={escape:Ql,evaluate:Rp,interpolate:Yl,variable:"",imports:{_:x}},x.prototype=pd.prototype,x.prototype.constructor=x,Ur.prototype=Ma(pd.prototype),Ur.prototype.constructor=Ur;function Ye(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function l5(){var a=new Ye(this.__wrapped__);return a.__actions__=Qn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Qn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Qn(this.__views__),a}function c5(){if(this.__filtered__){var a=new Ye(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function u5(){var a=this.__wrapped__.value(),c=this.__dir__,f=je(a),g=c<0,S=f?a.length:0,R=SO(0,S,this.__views__),O=R.start,A=R.end,$=A-O,X=g?A:O-1,Z=this.__iteratees__,ie=Z.length,ue=0,Se=On($,this.__takeCount__);if(!f||!g&&S==$&&Se==$)return $b(a,this.__actions__);var Le=[];e:for(;$--&&ue<Se;){X+=c;for(var We=-1,Ae=a[X];++We<ie;){var Ke=Z[We],tt=Ke.iteratee,mr=Ke.type,Vn=tt(Ae);if(mr==$e)Ae=Vn;else if(!Vn){if(mr==he)continue e;break e}}Le[ue++]=Ae}return Le}Ye.prototype=Ma(pd.prototype),Ye.prototype.constructor=Ye;function _s(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var g=a[c];this.set(g[0],g[1])}}function d5(){this.__data__=rc?rc(null):{},this.size=0}function f5(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function h5(a){var c=this.__data__;if(rc){var f=c[a];return f===u?n:f}return dt.call(c,a)?c[a]:n}function p5(a){var c=this.__data__;return rc?c[a]!==n:dt.call(c,a)}function m5(a,c){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=rc&&c===n?u:c,this}_s.prototype.clear=d5,_s.prototype.delete=f5,_s.prototype.get=h5,_s.prototype.has=p5,_s.prototype.set=m5;function Gi(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var g=a[c];this.set(g[0],g[1])}}function g5(){this.__data__=[],this.size=0}function v5(a){var c=this.__data__,f=md(c,a);if(f<0)return!1;var g=c.length-1;return f==g?c.pop():ld.call(c,f,1),--this.size,!0}function y5(a){var c=this.__data__,f=md(c,a);return f<0?n:c[f][1]}function b5(a){return md(this.__data__,a)>-1}function k5(a,c){var f=this.__data__,g=md(f,a);return g<0?(++this.size,f.push([a,c])):f[g][1]=c,this}Gi.prototype.clear=g5,Gi.prototype.delete=v5,Gi.prototype.get=y5,Gi.prototype.has=b5,Gi.prototype.set=k5;function qi(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var g=a[c];this.set(g[0],g[1])}}function C5(){this.size=0,this.__data__={hash:new _s,map:new(tc||Gi),string:new _s}}function S5(a){var c=xd(this,a).delete(a);return this.size-=c?1:0,c}function w5(a){return xd(this,a).get(a)}function T5(a){return xd(this,a).has(a)}function E5(a,c){var f=xd(this,a),g=f.size;return f.set(a,c),this.size+=f.size==g?0:1,this}qi.prototype.clear=C5,qi.prototype.delete=S5,qi.prototype.get=w5,qi.prototype.has=T5,qi.prototype.set=E5;function xs(a){var c=-1,f=a==null?0:a.length;for(this.__data__=new qi;++c<f;)this.add(a[c])}function _5(a){return this.__data__.set(a,u),this}function x5(a){return this.__data__.has(a)}xs.prototype.add=xs.prototype.push=_5,xs.prototype.has=x5;function oi(a){var c=this.__data__=new Gi(a);this.size=c.size}function P5(){this.__data__=new Gi,this.size=0}function R5(a){var c=this.__data__,f=c.delete(a);return this.size=c.size,f}function I5(a){return this.__data__.get(a)}function O5(a){return this.__data__.has(a)}function M5(a,c){var f=this.__data__;if(f instanceof Gi){var g=f.__data__;if(!tc||g.length<i-1)return g.push([a,c]),this.size=++f.size,this;f=this.__data__=new qi(g)}return f.set(a,c),this.size=f.size,this}oi.prototype.clear=P5,oi.prototype.delete=R5,oi.prototype.get=I5,oi.prototype.has=O5,oi.prototype.set=M5;function vb(a,c){var f=je(a),g=!f&&Ms(a),S=!f&&!g&&Fo(a),R=!f&&!g&&!S&&Da(a),O=f||g||S||R,A=O?Wp(a.length,BI):[],$=A.length;for(var X in a)(c||dt.call(a,X))&&!(O&&(X=="length"||S&&(X=="offset"||X=="parent")||R&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Yi(X,$)))&&A.push(X);return A}function yb(a){var c=a.length;return c?a[am(0,c-1)]:n}function L5(a,c){return Pd(Qn(a),Ps(c,0,a.length))}function A5(a){return Pd(Qn(a))}function Yp(a,c,f){(f!==n&&!si(a[c],f)||f===n&&!(c in a))&&Ki(a,c,f)}function oc(a,c,f){var g=a[c];(!(dt.call(a,c)&&si(g,f))||f===n&&!(c in a))&&Ki(a,c,f)}function md(a,c){for(var f=a.length;f--;)if(si(a[f][0],c))return f;return-1}function N5(a,c,f,g){return Ao(a,function(S,R,O){c(g,S,f(S),O)}),g}function bb(a,c){return a&&xi(c,pn(c),a)}function D5(a,c){return a&&xi(c,Xn(c),a)}function Ki(a,c,f){c=="__proto__"&&cd?cd(a,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[c]=f}function Xp(a,c){for(var f=-1,g=c.length,S=W(g),R=a==null;++f<g;)S[f]=R?n:Mm(a,c[f]);return S}function Ps(a,c,f){return a===a&&(f!==n&&(a=a<=f?a:f),c!==n&&(a=a>=c?a:c)),a}function Fr(a,c,f,g,S,R){var O,A=c&p,$=c&m,X=c&y;if(f&&(O=S?f(a,g,S,R):f(a)),O!==n)return O;if(!Ft(a))return a;var Z=je(a);if(Z){if(O=TO(a),!A)return Qn(a,O)}else{var ie=Mn(a),ue=ie==Te||ie==Re;if(Fo(a))return Vb(a,A);if(ie==_t||ie==mt||ue&&!S){if(O=$||ue?{}:lk(a),!A)return $?hO(a,D5(O,a)):fO(a,bb(O,a))}else{if(!St[ie])return S?a:{};O=EO(a,ie,A)}}R||(R=new oi);var Se=R.get(a);if(Se)return Se;R.set(a,O),Uk(a)?a.forEach(function(Ae){O.add(Fr(Ae,c,f,Ae,a,R))}):Nk(a)&&a.forEach(function(Ae,Ke){O.set(Ke,Fr(Ae,c,f,Ke,a,R))});var Le=X?$?ym:vm:$?Xn:pn,We=Z?n:Le(a);return Nr(We||a,function(Ae,Ke){We&&(Ke=Ae,Ae=a[Ke]),oc(O,Ke,Fr(Ae,c,f,Ke,a,R))}),O}function U5(a){var c=pn(a);return function(f){return kb(f,a,c)}}function kb(a,c,f){var g=f.length;if(a==null)return!g;for(a=bt(a);g--;){var S=f[g],R=c[S],O=a[S];if(O===n&&!(S in a)||!R(O))return!1}return!0}function Cb(a,c,f){if(typeof a!="function")throw new Dr(s);return fc(function(){a.apply(n,f)},c)}function sc(a,c,f,g){var S=-1,R=Xu,O=!0,A=a.length,$=[],X=c.length;if(!A)return $;f&&(c=At(c,fr(f))),g?(R=Fp,O=!1):c.length>=i&&(R=Zl,O=!1,c=new xs(c));e:for(;++S<A;){var Z=a[S],ie=f==null?Z:f(Z);if(Z=g||Z!==0?Z:0,O&&ie===ie){for(var ue=X;ue--;)if(c[ue]===ie)continue e;$.push(Z)}else R(c,ie,g)||$.push(Z)}return $}var Ao=Kb(_i),Sb=Kb(em,!0);function F5(a,c){var f=!0;return Ao(a,function(g,S,R){return f=!!c(g,S,R),f}),f}function gd(a,c,f){for(var g=-1,S=a.length;++g<S;){var R=a[g],O=c(R);if(O!=null&&(A===n?O===O&&!pr(O):f(O,A)))var A=O,$=R}return $}function j5(a,c,f,g){var S=a.length;for(f=Ve(f),f<0&&(f=-f>S?0:S+f),g=g===n||g>S?S:Ve(g),g<0&&(g+=S),g=f>g?0:jk(g);f<g;)a[f++]=c;return a}function wb(a,c){var f=[];return Ao(a,function(g,S,R){c(g,S,R)&&f.push(g)}),f}function Cn(a,c,f,g,S){var R=-1,O=a.length;for(f||(f=xO),S||(S=[]);++R<O;){var A=a[R];c>0&&f(A)?c>1?Cn(A,c-1,f,g,S):Oo(S,A):g||(S[S.length]=A)}return S}var Zp=Jb(),Tb=Jb(!0);function _i(a,c){return a&&Zp(a,c,pn)}function em(a,c){return a&&Tb(a,c,pn)}function vd(a,c){return Io(c,function(f){return Xi(a[f])})}function Rs(a,c){c=Do(c,a);for(var f=0,g=c.length;a!=null&&f<g;)a=a[Pi(c[f++])];return f&&f==g?a:n}function Eb(a,c,f){var g=c(a);return je(a)?g:Oo(g,f(a))}function zn(a){return a==null?a===n?ut:Ct:Es&&Es in bt(a)?CO(a):AO(a)}function tm(a,c){return a>c}function $5(a,c){return a!=null&&dt.call(a,c)}function z5(a,c){return a!=null&&c in bt(a)}function B5(a,c,f){return a>=On(c,f)&&a<an(c,f)}function nm(a,c,f){for(var g=f?Fp:Xu,S=a[0].length,R=a.length,O=R,A=W(R),$=1/0,X=[];O--;){var Z=a[O];O&&c&&(Z=At(Z,fr(c))),$=On(Z.length,$),A[O]=!f&&(c||S>=120&&Z.length>=120)?new xs(O&&Z):n}Z=a[0];var ie=-1,ue=A[0];e:for(;++ie<S&&X.length<$;){var Se=Z[ie],Le=c?c(Se):Se;if(Se=f||Se!==0?Se:0,!(ue?Zl(ue,Le):g(X,Le,f))){for(O=R;--O;){var We=A[O];if(!(We?Zl(We,Le):g(a[O],Le,f)))continue e}ue&&ue.push(Le),X.push(Se)}}return X}function V5(a,c,f,g){return _i(a,function(S,R,O){c(g,f(S),R,O)}),g}function ac(a,c,f){c=Do(c,a),a=fk(a,c);var g=a==null?a:a[Pi($r(c))];return g==null?n:dr(g,a,f)}function _b(a){return Vt(a)&&zn(a)==mt}function W5(a){return Vt(a)&&zn(a)==$n}function H5(a){return Vt(a)&&zn(a)==ti}function lc(a,c,f,g,S){return a===c?!0:a==null||c==null||!Vt(a)&&!Vt(c)?a!==a&&c!==c:G5(a,c,f,g,lc,S)}function G5(a,c,f,g,S,R){var O=je(a),A=je(c),$=O?lt:Mn(a),X=A?lt:Mn(c);$=$==mt?_t:$,X=X==mt?_t:X;var Z=$==_t,ie=X==_t,ue=$==X;if(ue&&Fo(a)){if(!Fo(c))return!1;O=!0,Z=!1}if(ue&&!Z)return R||(R=new oi),O||Da(a)?ok(a,c,f,g,S,R):bO(a,c,$,f,g,S,R);if(!(f&C)){var Se=Z&&dt.call(a,"__wrapped__"),Le=ie&&dt.call(c,"__wrapped__");if(Se||Le){var We=Se?a.value():a,Ae=Le?c.value():c;return R||(R=new oi),S(We,Ae,f,g,R)}}return ue?(R||(R=new oi),kO(a,c,f,g,S,R)):!1}function q5(a){return Vt(a)&&Mn(a)==ye}function rm(a,c,f,g){var S=f.length,R=S,O=!g;if(a==null)return!R;for(a=bt(a);S--;){var A=f[S];if(O&&A[2]?A[1]!==a[A[0]]:!(A[0]in a))return!1}for(;++S<R;){A=f[S];var $=A[0],X=a[$],Z=A[1];if(O&&A[2]){if(X===n&&!($ in a))return!1}else{var ie=new oi;if(g)var ue=g(X,Z,$,a,c,ie);if(!(ue===n?lc(Z,X,C|k,g,ie):ue))return!1}}return!0}function xb(a){if(!Ft(a)||RO(a))return!1;var c=Xi(a)?qI:Ce;return c.test(Os(a))}function K5(a){return Vt(a)&&zn(a)==gt}function J5(a){return Vt(a)&&Mn(a)==Zt}function Q5(a){return Vt(a)&&Ad(a.length)&&!!It[zn(a)]}function Pb(a){return typeof a=="function"?a:a==null?Zn:typeof a=="object"?je(a)?Ob(a[0],a[1]):Ib(a):Qk(a)}function im(a){if(!dc(a))return ZI(a);var c=[];for(var f in bt(a))dt.call(a,f)&&f!="constructor"&&c.push(f);return c}function Y5(a){if(!Ft(a))return LO(a);var c=dc(a),f=[];for(var g in a)g=="constructor"&&(c||!dt.call(a,g))||f.push(g);return f}function om(a,c){return a<c}function Rb(a,c){var f=-1,g=Yn(a)?W(a.length):[];return Ao(a,function(S,R,O){g[++f]=c(S,R,O)}),g}function Ib(a){var c=km(a);return c.length==1&&c[0][2]?uk(c[0][0],c[0][1]):function(f){return f===a||rm(f,a,c)}}function Ob(a,c){return Sm(a)&&ck(c)?uk(Pi(a),c):function(f){var g=Mm(f,a);return g===n&&g===c?Lm(f,a):lc(c,g,C|k)}}function yd(a,c,f,g,S){a!==c&&Zp(c,function(R,O){if(S||(S=new oi),Ft(R))X5(a,c,O,f,yd,g,S);else{var A=g?g(Tm(a,O),R,O+"",a,c,S):n;A===n&&(A=R),Yp(a,O,A)}},Xn)}function X5(a,c,f,g,S,R,O){var A=Tm(a,f),$=Tm(c,f),X=O.get($);if(X){Yp(a,f,X);return}var Z=R?R(A,$,f+"",a,c,O):n,ie=Z===n;if(ie){var ue=je($),Se=!ue&&Fo($),Le=!ue&&!Se&&Da($);Z=$,ue||Se||Le?je(A)?Z=A:qt(A)?Z=Qn(A):Se?(ie=!1,Z=Vb($,!0)):Le?(ie=!1,Z=Wb($,!0)):Z=[]:hc($)||Ms($)?(Z=A,Ms(A)?Z=$k(A):(!Ft(A)||Xi(A))&&(Z=lk($))):ie=!1}ie&&(O.set($,Z),S(Z,$,g,R,O),O.delete($)),Yp(a,f,Z)}function Mb(a,c){var f=a.length;if(f)return c+=c<0?f:0,Yi(c,f)?a[c]:n}function Lb(a,c,f){c.length?c=At(c,function(R){return je(R)?function(O){return Rs(O,R.length===1?R[0]:R)}:R}):c=[Zn];var g=-1;c=At(c,fr(Me()));var S=Rb(a,function(R,O,A){var $=At(c,function(X){return X(R)});return{criteria:$,index:++g,value:R}});return EI(S,function(R,O){return dO(R,O,f)})}function Z5(a,c){return Ab(a,c,function(f,g){return Lm(a,g)})}function Ab(a,c,f){for(var g=-1,S=c.length,R={};++g<S;){var O=c[g],A=Rs(a,O);f(A,O)&&cc(R,Do(O,a),A)}return R}function eO(a){return function(c){return Rs(c,a)}}function sm(a,c,f,g){var S=g?TI:Ea,R=-1,O=c.length,A=a;for(a===c&&(c=Qn(c)),f&&(A=At(a,fr(f)));++R<O;)for(var $=0,X=c[R],Z=f?f(X):X;($=S(A,Z,$,g))>-1;)A!==a&&ld.call(A,$,1),ld.call(a,$,1);return a}function Nb(a,c){for(var f=a?c.length:0,g=f-1;f--;){var S=c[f];if(f==g||S!==R){var R=S;Yi(S)?ld.call(a,S,1):um(a,S)}}return a}function am(a,c){return a+dd(mb()*(c-a+1))}function tO(a,c,f,g){for(var S=-1,R=an(ud((c-a)/(f||1)),0),O=W(R);R--;)O[g?R:++S]=a,a+=f;return O}function lm(a,c){var f="";if(!a||c<1||c>re)return f;do c%2&&(f+=a),c=dd(c/2),c&&(a+=a);while(c);return f}function He(a,c){return Em(dk(a,c,Zn),a+"")}function nO(a){return yb(Ua(a))}function rO(a,c){var f=Ua(a);return Pd(f,Ps(c,0,f.length))}function cc(a,c,f,g){if(!Ft(a))return a;c=Do(c,a);for(var S=-1,R=c.length,O=R-1,A=a;A!=null&&++S<R;){var $=Pi(c[S]),X=f;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(S!=O){var Z=A[$];X=g?g(Z,$,A):n,X===n&&(X=Ft(Z)?Z:Yi(c[S+1])?[]:{})}oc(A,$,X),A=A[$]}return a}var Db=fd?function(a,c){return fd.set(a,c),a}:Zn,iO=cd?function(a,c){return cd(a,"toString",{configurable:!0,enumerable:!1,value:Nm(c),writable:!0})}:Zn;function oO(a){return Pd(Ua(a))}function jr(a,c,f){var g=-1,S=a.length;c<0&&(c=-c>S?0:S+c),f=f>S?S:f,f<0&&(f+=S),S=c>f?0:f-c>>>0,c>>>=0;for(var R=W(S);++g<S;)R[g]=a[g+c];return R}function sO(a,c){var f;return Ao(a,function(g,S,R){return f=c(g,S,R),!f}),!!f}function bd(a,c,f){var g=0,S=a==null?g:a.length;if(typeof c=="number"&&c===c&&S<=ze){for(;g<S;){var R=g+S>>>1,O=a[R];O!==null&&!pr(O)&&(f?O<=c:O<c)?g=R+1:S=R}return S}return cm(a,c,Zn,f)}function cm(a,c,f,g){var S=0,R=a==null?0:a.length;if(R===0)return 0;c=f(c);for(var O=c!==c,A=c===null,$=pr(c),X=c===n;S<R;){var Z=dd((S+R)/2),ie=f(a[Z]),ue=ie!==n,Se=ie===null,Le=ie===ie,We=pr(ie);if(O)var Ae=g||Le;else X?Ae=Le&&(g||ue):A?Ae=Le&&ue&&(g||!Se):$?Ae=Le&&ue&&!Se&&(g||!We):Se||We?Ae=!1:Ae=g?ie<=c:ie<c;Ae?S=Z+1:R=Z}return On(R,Pe)}function Ub(a,c){for(var f=-1,g=a.length,S=0,R=[];++f<g;){var O=a[f],A=c?c(O):O;if(!f||!si(A,$)){var $=A;R[S++]=O===0?0:O}}return R}function Fb(a){return typeof a=="number"?a:pr(a)?Ee:+a}function hr(a){if(typeof a=="string")return a;if(je(a))return At(a,hr)+"";if(pr(a))return gb?gb.call(a):"";var c=a+"";return c=="0"&&1/a==-De?"-0":c}function No(a,c,f){var g=-1,S=Xu,R=a.length,O=!0,A=[],$=A;if(f)O=!1,S=Fp;else if(R>=i){var X=c?null:vO(a);if(X)return ed(X);O=!1,S=Zl,$=new xs}else $=c?[]:A;e:for(;++g<R;){var Z=a[g],ie=c?c(Z):Z;if(Z=f||Z!==0?Z:0,O&&ie===ie){for(var ue=$.length;ue--;)if($[ue]===ie)continue e;c&&$.push(ie),A.push(Z)}else S($,ie,f)||($!==A&&$.push(ie),A.push(Z))}return A}function um(a,c){return c=Do(c,a),a=fk(a,c),a==null||delete a[Pi($r(c))]}function jb(a,c,f,g){return cc(a,c,f(Rs(a,c)),g)}function kd(a,c,f,g){for(var S=a.length,R=g?S:-1;(g?R--:++R<S)&&c(a[R],R,a););return f?jr(a,g?0:R,g?R+1:S):jr(a,g?R+1:0,g?S:R)}function $b(a,c){var f=a;return f instanceof Ye&&(f=f.value()),jp(c,function(g,S){return S.func.apply(S.thisArg,Oo([g],S.args))},f)}function dm(a,c,f){var g=a.length;if(g<2)return g?No(a[0]):[];for(var S=-1,R=W(g);++S<g;)for(var O=a[S],A=-1;++A<g;)A!=S&&(R[S]=sc(R[S]||O,a[A],c,f));return No(Cn(R,1),c,f)}function zb(a,c,f){for(var g=-1,S=a.length,R=c.length,O={};++g<S;){var A=g<R?c[g]:n;f(O,a[g],A)}return O}function fm(a){return qt(a)?a:[]}function hm(a){return typeof a=="function"?a:Zn}function Do(a,c){return je(a)?a:Sm(a,c)?[a]:gk(ct(a))}var aO=He;function Uo(a,c,f){var g=a.length;return f=f===n?g:f,!c&&f>=g?a:jr(a,c,f)}var Bb=KI||function(a){return kn.clearTimeout(a)};function Vb(a,c){if(c)return a.slice();var f=a.length,g=ub?ub(f):new a.constructor(f);return a.copy(g),g}function pm(a){var c=new a.constructor(a.byteLength);return new sd(c).set(new sd(a)),c}function lO(a,c){var f=c?pm(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function cO(a){var c=new a.constructor(a.source,le.exec(a));return c.lastIndex=a.lastIndex,c}function uO(a){return ic?bt(ic.call(a)):{}}function Wb(a,c){var f=c?pm(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function Hb(a,c){if(a!==c){var f=a!==n,g=a===null,S=a===a,R=pr(a),O=c!==n,A=c===null,$=c===c,X=pr(c);if(!A&&!X&&!R&&a>c||R&&O&&$&&!A&&!X||g&&O&&$||!f&&$||!S)return 1;if(!g&&!R&&!X&&a<c||X&&f&&S&&!g&&!R||A&&f&&S||!O&&S||!$)return-1}return 0}function dO(a,c,f){for(var g=-1,S=a.criteria,R=c.criteria,O=S.length,A=f.length;++g<O;){var $=Hb(S[g],R[g]);if($){if(g>=A)return $;var X=f[g];return $*(X=="desc"?-1:1)}}return a.index-c.index}function Gb(a,c,f,g){for(var S=-1,R=a.length,O=f.length,A=-1,$=c.length,X=an(R-O,0),Z=W($+X),ie=!g;++A<$;)Z[A]=c[A];for(;++S<O;)(ie||S<R)&&(Z[f[S]]=a[S]);for(;X--;)Z[A++]=a[S++];return Z}function qb(a,c,f,g){for(var S=-1,R=a.length,O=-1,A=f.length,$=-1,X=c.length,Z=an(R-A,0),ie=W(Z+X),ue=!g;++S<Z;)ie[S]=a[S];for(var Se=S;++$<X;)ie[Se+$]=c[$];for(;++O<A;)(ue||S<R)&&(ie[Se+f[O]]=a[S++]);return ie}function Qn(a,c){var f=-1,g=a.length;for(c||(c=W(g));++f<g;)c[f]=a[f];return c}function xi(a,c,f,g){var S=!f;f||(f={});for(var R=-1,O=c.length;++R<O;){var A=c[R],$=g?g(f[A],a[A],A,f,a):n;$===n&&($=a[A]),S?Ki(f,A,$):oc(f,A,$)}return f}function fO(a,c){return xi(a,Cm(a),c)}function hO(a,c){return xi(a,sk(a),c)}function Cd(a,c){return function(f,g){var S=je(f)?yI:N5,R=c?c():{};return S(f,a,Me(g,2),R)}}function La(a){return He(function(c,f){var g=-1,S=f.length,R=S>1?f[S-1]:n,O=S>2?f[2]:n;for(R=a.length>3&&typeof R=="function"?(S--,R):n,O&&Bn(f[0],f[1],O)&&(R=S<3?n:R,S=1),c=bt(c);++g<S;){var A=f[g];A&&a(c,A,g,R)}return c})}function Kb(a,c){return function(f,g){if(f==null)return f;if(!Yn(f))return a(f,g);for(var S=f.length,R=c?S:-1,O=bt(f);(c?R--:++R<S)&&g(O[R],R,O)!==!1;);return f}}function Jb(a){return function(c,f,g){for(var S=-1,R=bt(c),O=g(c),A=O.length;A--;){var $=O[a?A:++S];if(f(R[$],$,R)===!1)break}return c}}function pO(a,c,f){var g=c&T,S=uc(a);function R(){var O=this&&this!==kn&&this instanceof R?S:a;return O.apply(g?f:this,arguments)}return R}function Qb(a){return function(c){c=ct(c);var f=_a(c)?ii(c):n,g=f?f[0]:c.charAt(0),S=f?Uo(f,1).join(""):c.slice(1);return g[a]()+S}}function Aa(a){return function(c){return jp(Kk(qk(c).replace(iI,"")),a,"")}}function uc(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=Ma(a.prototype),g=a.apply(f,c);return Ft(g)?g:f}}function mO(a,c,f){var g=uc(a);function S(){for(var R=arguments.length,O=W(R),A=R,$=Na(S);A--;)O[A]=arguments[A];var X=R<3&&O[0]!==$&&O[R-1]!==$?[]:Mo(O,$);if(R-=X.length,R<f)return tk(a,c,Sd,S.placeholder,n,O,X,n,n,f-R);var Z=this&&this!==kn&&this instanceof S?g:a;return dr(Z,this,O)}return S}function Yb(a){return function(c,f,g){var S=bt(c);if(!Yn(c)){var R=Me(f,3);c=pn(c),f=function(A){return R(S[A],A,S)}}var O=a(c,f,g);return O>-1?S[R?c[O]:O]:n}}function Xb(a){return Qi(function(c){var f=c.length,g=f,S=Ur.prototype.thru;for(a&&c.reverse();g--;){var R=c[g];if(typeof R!="function")throw new Dr(s);if(S&&!O&&_d(R)=="wrapper")var O=new Ur([],!0)}for(g=O?g:f;++g<f;){R=c[g];var A=_d(R),$=A=="wrapper"?bm(R):n;$&&wm($[0])&&$[1]==(N|P|I|_)&&!$[4].length&&$[9]==1?O=O[_d($[0])].apply(O,$[3]):O=R.length==1&&wm(R)?O[A]():O.thru(R)}return function(){var X=arguments,Z=X[0];if(O&&X.length==1&&je(Z))return O.plant(Z).value();for(var ie=0,ue=f?c[ie].apply(this,X):Z;++ie<f;)ue=c[ie].call(this,ue);return ue}})}function Sd(a,c,f,g,S,R,O,A,$,X){var Z=c&N,ie=c&T,ue=c&v,Se=c&(P|E),Le=c&z,We=ue?n:uc(a);function Ae(){for(var Ke=arguments.length,tt=W(Ke),mr=Ke;mr--;)tt[mr]=arguments[mr];if(Se)var Vn=Na(Ae),gr=xI(tt,Vn);if(g&&(tt=Gb(tt,g,S,Se)),R&&(tt=qb(tt,R,O,Se)),Ke-=gr,Se&&Ke<X){var Kt=Mo(tt,Vn);return tk(a,c,Sd,Ae.placeholder,f,tt,Kt,A,$,X-Ke)}var ai=ie?f:this,eo=ue?ai[a]:a;return Ke=tt.length,A?tt=NO(tt,A):Le&&Ke>1&&tt.reverse(),Z&&$<Ke&&(tt.length=$),this&&this!==kn&&this instanceof Ae&&(eo=We||uc(eo)),eo.apply(ai,tt)}return Ae}function Zb(a,c){return function(f,g){return V5(f,a,c(g),{})}}function wd(a,c){return function(f,g){var S;if(f===n&&g===n)return c;if(f!==n&&(S=f),g!==n){if(S===n)return g;typeof f=="string"||typeof g=="string"?(f=hr(f),g=hr(g)):(f=Fb(f),g=Fb(g)),S=a(f,g)}return S}}function mm(a){return Qi(function(c){return c=At(c,fr(Me())),He(function(f){var g=this;return a(c,function(S){return dr(S,g,f)})})})}function Td(a,c){c=c===n?" ":hr(c);var f=c.length;if(f<2)return f?lm(c,a):c;var g=lm(c,ud(a/xa(c)));return _a(c)?Uo(ii(g),0,a).join(""):g.slice(0,a)}function gO(a,c,f,g){var S=c&T,R=uc(a);function O(){for(var A=-1,$=arguments.length,X=-1,Z=g.length,ie=W(Z+$),ue=this&&this!==kn&&this instanceof O?R:a;++X<Z;)ie[X]=g[X];for(;$--;)ie[X++]=arguments[++A];return dr(ue,S?f:this,ie)}return O}function ek(a){return function(c,f,g){return g&&typeof g!="number"&&Bn(c,f,g)&&(f=g=n),c=Zi(c),f===n?(f=c,c=0):f=Zi(f),g=g===n?c<f?1:-1:Zi(g),tO(c,f,g,a)}}function Ed(a){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=zr(c),f=zr(f)),a(c,f)}}function tk(a,c,f,g,S,R,O,A,$,X){var Z=c&P,ie=Z?O:n,ue=Z?n:O,Se=Z?R:n,Le=Z?n:R;c|=Z?I:M,c&=~(Z?M:I),c&w||(c&=~(T|v));var We=[a,c,S,Se,ie,Le,ue,A,$,X],Ae=f.apply(n,We);return wm(a)&&hk(Ae,We),Ae.placeholder=g,pk(Ae,a,c)}function gm(a){var c=sn[a];return function(f,g){if(f=zr(f),g=g==null?0:On(Ve(g),292),g&&pb(f)){var S=(ct(f)+"e").split("e"),R=c(S[0]+"e"+(+S[1]+g));return S=(ct(R)+"e").split("e"),+(S[0]+"e"+(+S[1]-g))}return c(f)}}var vO=Ia&&1/ed(new Ia([,-0]))[1]==De?function(a){return new Ia(a)}:Fm;function nk(a){return function(c){var f=Mn(c);return f==ye?Gp(c):f==Zt?AI(c):_I(c,a(c))}}function Ji(a,c,f,g,S,R,O,A){var $=c&v;if(!$&&typeof a!="function")throw new Dr(s);var X=g?g.length:0;if(X||(c&=~(I|M),g=S=n),O=O===n?O:an(Ve(O),0),A=A===n?A:Ve(A),X-=S?S.length:0,c&M){var Z=g,ie=S;g=S=n}var ue=$?n:bm(a),Se=[a,c,f,g,S,Z,ie,R,O,A];if(ue&&MO(Se,ue),a=Se[0],c=Se[1],f=Se[2],g=Se[3],S=Se[4],A=Se[9]=Se[9]===n?$?0:a.length:an(Se[9]-X,0),!A&&c&(P|E)&&(c&=~(P|E)),!c||c==T)var Le=pO(a,c,f);else c==P||c==E?Le=mO(a,c,A):(c==I||c==(T|I))&&!S.length?Le=gO(a,c,f,g):Le=Sd.apply(n,Se);var We=ue?Db:hk;return pk(We(Le,Se),a,c)}function rk(a,c,f,g){return a===n||si(a,Ra[f])&&!dt.call(g,f)?c:a}function ik(a,c,f,g,S,R){return Ft(a)&&Ft(c)&&(R.set(c,a),yd(a,c,n,ik,R),R.delete(c)),a}function yO(a){return hc(a)?n:a}function ok(a,c,f,g,S,R){var O=f&C,A=a.length,$=c.length;if(A!=$&&!(O&&$>A))return!1;var X=R.get(a),Z=R.get(c);if(X&&Z)return X==c&&Z==a;var ie=-1,ue=!0,Se=f&k?new xs:n;for(R.set(a,c),R.set(c,a);++ie<A;){var Le=a[ie],We=c[ie];if(g)var Ae=O?g(We,Le,ie,c,a,R):g(Le,We,ie,a,c,R);if(Ae!==n){if(Ae)continue;ue=!1;break}if(Se){if(!$p(c,function(Ke,tt){if(!Zl(Se,tt)&&(Le===Ke||S(Le,Ke,f,g,R)))return Se.push(tt)})){ue=!1;break}}else if(!(Le===We||S(Le,We,f,g,R))){ue=!1;break}}return R.delete(a),R.delete(c),ue}function bO(a,c,f,g,S,R,O){switch(f){case bn:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case $n:return!(a.byteLength!=c.byteLength||!R(new sd(a),new sd(c)));case vn:case ti:case Ie:return si(+a,+c);case Rr:return a.name==c.name&&a.message==c.message;case gt:case lr:return a==c+"";case ye:var A=Gp;case Zt:var $=g&C;if(A||(A=ed),a.size!=c.size&&!$)return!1;var X=O.get(a);if(X)return X==c;g|=k,O.set(a,c);var Z=ok(A(a),A(c),g,S,R,O);return O.delete(a),Z;case Ir:if(ic)return ic.call(a)==ic.call(c)}return!1}function kO(a,c,f,g,S,R){var O=f&C,A=vm(a),$=A.length,X=vm(c),Z=X.length;if($!=Z&&!O)return!1;for(var ie=$;ie--;){var ue=A[ie];if(!(O?ue in c:dt.call(c,ue)))return!1}var Se=R.get(a),Le=R.get(c);if(Se&&Le)return Se==c&&Le==a;var We=!0;R.set(a,c),R.set(c,a);for(var Ae=O;++ie<$;){ue=A[ie];var Ke=a[ue],tt=c[ue];if(g)var mr=O?g(tt,Ke,ue,c,a,R):g(Ke,tt,ue,a,c,R);if(!(mr===n?Ke===tt||S(Ke,tt,f,g,R):mr)){We=!1;break}Ae||(Ae=ue=="constructor")}if(We&&!Ae){var Vn=a.constructor,gr=c.constructor;Vn!=gr&&"constructor"in a&&"constructor"in c&&!(typeof Vn=="function"&&Vn instanceof Vn&&typeof gr=="function"&&gr instanceof gr)&&(We=!1)}return R.delete(a),R.delete(c),We}function Qi(a){return Em(dk(a,n,kk),a+"")}function vm(a){return Eb(a,pn,Cm)}function ym(a){return Eb(a,Xn,sk)}var bm=fd?function(a){return fd.get(a)}:Fm;function _d(a){for(var c=a.name+"",f=Oa[c],g=dt.call(Oa,c)?f.length:0;g--;){var S=f[g],R=S.func;if(R==null||R==a)return S.name}return c}function Na(a){var c=dt.call(x,"placeholder")?x:a;return c.placeholder}function Me(){var a=x.iteratee||Dm;return a=a===Dm?Pb:a,arguments.length?a(arguments[0],arguments[1]):a}function xd(a,c){var f=a.__data__;return PO(c)?f[typeof c=="string"?"string":"hash"]:f.map}function km(a){for(var c=pn(a),f=c.length;f--;){var g=c[f],S=a[g];c[f]=[g,S,ck(S)]}return c}function Is(a,c){var f=OI(a,c);return xb(f)?f:n}function CO(a){var c=dt.call(a,Es),f=a[Es];try{a[Es]=n;var g=!0}catch{}var S=id.call(a);return g&&(c?a[Es]=f:delete a[Es]),S}var Cm=Kp?function(a){return a==null?[]:(a=bt(a),Io(Kp(a),function(c){return fb.call(a,c)}))}:jm,sk=Kp?function(a){for(var c=[];a;)Oo(c,Cm(a)),a=ad(a);return c}:jm,Mn=zn;(Jp&&Mn(new Jp(new ArrayBuffer(1)))!=bn||tc&&Mn(new tc)!=ye||Qp&&Mn(Qp.resolve())!=Ue||Ia&&Mn(new Ia)!=Zt||nc&&Mn(new nc)!=vt)&&(Mn=function(a){var c=zn(a),f=c==_t?a.constructor:n,g=f?Os(f):"";if(g)switch(g){case r5:return bn;case i5:return ye;case o5:return Ue;case s5:return Zt;case a5:return vt}return c});function SO(a,c,f){for(var g=-1,S=f.length;++g<S;){var R=f[g],O=R.size;switch(R.type){case"drop":a+=O;break;case"dropRight":c-=O;break;case"take":c=On(c,a+O);break;case"takeRight":a=an(a,c-O);break}}return{start:a,end:c}}function wO(a){var c=a.match(U);return c?c[1].split(B):[]}function ak(a,c,f){c=Do(c,a);for(var g=-1,S=c.length,R=!1;++g<S;){var O=Pi(c[g]);if(!(R=a!=null&&f(a,O)))break;a=a[O]}return R||++g!=S?R:(S=a==null?0:a.length,!!S&&Ad(S)&&Yi(O,S)&&(je(a)||Ms(a)))}function TO(a){var c=a.length,f=new a.constructor(c);return c&&typeof a[0]=="string"&&dt.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function lk(a){return typeof a.constructor=="function"&&!dc(a)?Ma(ad(a)):{}}function EO(a,c,f){var g=a.constructor;switch(c){case $n:return pm(a);case vn:case ti:return new g(+a);case bn:return lO(a,f);case ks:case Or:case cr:case ga:case xo:case ql:case Mr:case va:case ya:return Wb(a,f);case ye:return new g;case Ie:case lr:return new g(a);case gt:return cO(a);case Zt:return new g;case Ir:return uO(a)}}function _O(a,c){var f=c.length;if(!f)return a;var g=f-1;return c[g]=(f>1?"& ":"")+c[g],c=c.join(f>2?", ":" "),a.replace(L,`{
/* [wrapped with `+c+`] */
`)}function xO(a){return je(a)||Ms(a)||!!(hb&&a&&a[hb])}function Yi(a,c){var f=typeof a;return c=c??re,!!c&&(f=="number"||f!="symbol"&&st.test(a))&&a>-1&&a%1==0&&a<c}function Bn(a,c,f){if(!Ft(f))return!1;var g=typeof c;return(g=="number"?Yn(f)&&Yi(c,f.length):g=="string"&&c in f)?si(f[c],a):!1}function Sm(a,c){if(je(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||pr(a)?!0:qu.test(a)||!Ip.test(a)||c!=null&&a in bt(c)}function PO(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function wm(a){var c=_d(a),f=x[c];if(typeof f!="function"||!(c in Ye.prototype))return!1;if(a===f)return!0;var g=bm(f);return!!g&&a===g[0]}function RO(a){return!!cb&&cb in a}var IO=nd?Xi:$m;function dc(a){var c=a&&a.constructor,f=typeof c=="function"&&c.prototype||Ra;return a===f}function ck(a){return a===a&&!Ft(a)}function uk(a,c){return function(f){return f==null?!1:f[a]===c&&(c!==n||a in bt(f))}}function OO(a){var c=Md(a,function(g){return f.size===d&&f.clear(),g}),f=c.cache;return c}function MO(a,c){var f=a[1],g=c[1],S=f|g,R=S<(T|v|N),O=g==N&&f==P||g==N&&f==_&&a[7].length<=c[8]||g==(N|_)&&c[7].length<=c[8]&&f==P;if(!(R||O))return a;g&T&&(a[2]=c[2],S|=f&T?0:w);var A=c[3];if(A){var $=a[3];a[3]=$?Gb($,A,c[4]):A,a[4]=$?Mo(a[3],h):c[4]}return A=c[5],A&&($=a[5],a[5]=$?qb($,A,c[6]):A,a[6]=$?Mo(a[5],h):c[6]),A=c[7],A&&(a[7]=A),g&N&&(a[8]=a[8]==null?c[8]:On(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=S,a}function LO(a){var c=[];if(a!=null)for(var f in bt(a))c.push(f);return c}function AO(a){return id.call(a)}function dk(a,c,f){return c=an(c===n?a.length-1:c,0),function(){for(var g=arguments,S=-1,R=an(g.length-c,0),O=W(R);++S<R;)O[S]=g[c+S];S=-1;for(var A=W(c+1);++S<c;)A[S]=g[S];return A[c]=f(O),dr(a,this,A)}}function fk(a,c){return c.length<2?a:Rs(a,jr(c,0,-1))}function NO(a,c){for(var f=a.length,g=On(c.length,f),S=Qn(a);g--;){var R=c[g];a[g]=Yi(R,f)?S[R]:n}return a}function Tm(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var hk=mk(Db),fc=QI||function(a,c){return kn.setTimeout(a,c)},Em=mk(iO);function pk(a,c,f){var g=c+"";return Em(a,_O(g,DO(wO(g),f)))}function mk(a){var c=0,f=0;return function(){var g=e5(),S=ve-(g-f);if(f=g,S>0){if(++c>=q)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Pd(a,c){var f=-1,g=a.length,S=g-1;for(c=c===n?g:c;++f<c;){var R=am(f,S),O=a[R];a[R]=a[f],a[f]=O}return a.length=c,a}var gk=OO(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(ka,function(f,g,S,R){c.push(S?R.replace(_e,"$1"):g||f)}),c});function Pi(a){if(typeof a=="string"||pr(a))return a;var c=a+"";return c=="0"&&1/a==-De?"-0":c}function Os(a){if(a!=null){try{return rd.call(a)}catch{}try{return a+""}catch{}}return""}function DO(a,c){return Nr(Et,function(f){var g="_."+f[0];c&f[1]&&!Xu(a,g)&&a.push(g)}),a.sort()}function vk(a){if(a instanceof Ye)return a.clone();var c=new Ur(a.__wrapped__,a.__chain__);return c.__actions__=Qn(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function UO(a,c,f){(f?Bn(a,c,f):c===n)?c=1:c=an(Ve(c),0);var g=a==null?0:a.length;if(!g||c<1)return[];for(var S=0,R=0,O=W(ud(g/c));S<g;)O[R++]=jr(a,S,S+=c);return O}function FO(a){for(var c=-1,f=a==null?0:a.length,g=0,S=[];++c<f;){var R=a[c];R&&(S[g++]=R)}return S}function jO(){var a=arguments.length;if(!a)return[];for(var c=W(a-1),f=arguments[0],g=a;g--;)c[g-1]=arguments[g];return Oo(je(f)?Qn(f):[f],Cn(c,1))}var $O=He(function(a,c){return qt(a)?sc(a,Cn(c,1,qt,!0)):[]}),zO=He(function(a,c){var f=$r(c);return qt(f)&&(f=n),qt(a)?sc(a,Cn(c,1,qt,!0),Me(f,2)):[]}),BO=He(function(a,c){var f=$r(c);return qt(f)&&(f=n),qt(a)?sc(a,Cn(c,1,qt,!0),n,f):[]});function VO(a,c,f){var g=a==null?0:a.length;return g?(c=f||c===n?1:Ve(c),jr(a,c<0?0:c,g)):[]}function WO(a,c,f){var g=a==null?0:a.length;return g?(c=f||c===n?1:Ve(c),c=g-c,jr(a,0,c<0?0:c)):[]}function HO(a,c){return a&&a.length?kd(a,Me(c,3),!0,!0):[]}function GO(a,c){return a&&a.length?kd(a,Me(c,3),!0):[]}function qO(a,c,f,g){var S=a==null?0:a.length;return S?(f&&typeof f!="number"&&Bn(a,c,f)&&(f=0,g=S),j5(a,c,f,g)):[]}function yk(a,c,f){var g=a==null?0:a.length;if(!g)return-1;var S=f==null?0:Ve(f);return S<0&&(S=an(g+S,0)),Zu(a,Me(c,3),S)}function bk(a,c,f){var g=a==null?0:a.length;if(!g)return-1;var S=g-1;return f!==n&&(S=Ve(f),S=f<0?an(g+S,0):On(S,g-1)),Zu(a,Me(c,3),S,!0)}function kk(a){var c=a==null?0:a.length;return c?Cn(a,1):[]}function KO(a){var c=a==null?0:a.length;return c?Cn(a,De):[]}function JO(a,c){var f=a==null?0:a.length;return f?(c=c===n?1:Ve(c),Cn(a,c)):[]}function QO(a){for(var c=-1,f=a==null?0:a.length,g={};++c<f;){var S=a[c];g[S[0]]=S[1]}return g}function Ck(a){return a&&a.length?a[0]:n}function YO(a,c,f){var g=a==null?0:a.length;if(!g)return-1;var S=f==null?0:Ve(f);return S<0&&(S=an(g+S,0)),Ea(a,c,S)}function XO(a){var c=a==null?0:a.length;return c?jr(a,0,-1):[]}var ZO=He(function(a){var c=At(a,fm);return c.length&&c[0]===a[0]?nm(c):[]}),eM=He(function(a){var c=$r(a),f=At(a,fm);return c===$r(f)?c=n:f.pop(),f.length&&f[0]===a[0]?nm(f,Me(c,2)):[]}),tM=He(function(a){var c=$r(a),f=At(a,fm);return c=typeof c=="function"?c:n,c&&f.pop(),f.length&&f[0]===a[0]?nm(f,n,c):[]});function nM(a,c){return a==null?"":XI.call(a,c)}function $r(a){var c=a==null?0:a.length;return c?a[c-1]:n}function rM(a,c,f){var g=a==null?0:a.length;if(!g)return-1;var S=g;return f!==n&&(S=Ve(f),S=S<0?an(g+S,0):On(S,g-1)),c===c?DI(a,c,S):Zu(a,tb,S,!0)}function iM(a,c){return a&&a.length?Mb(a,Ve(c)):n}var oM=He(Sk);function Sk(a,c){return a&&a.length&&c&&c.length?sm(a,c):a}function sM(a,c,f){return a&&a.length&&c&&c.length?sm(a,c,Me(f,2)):a}function aM(a,c,f){return a&&a.length&&c&&c.length?sm(a,c,n,f):a}var lM=Qi(function(a,c){var f=a==null?0:a.length,g=Xp(a,c);return Nb(a,At(c,function(S){return Yi(S,f)?+S:S}).sort(Hb)),g});function cM(a,c){var f=[];if(!(a&&a.length))return f;var g=-1,S=[],R=a.length;for(c=Me(c,3);++g<R;){var O=a[g];c(O,g,a)&&(f.push(O),S.push(g))}return Nb(a,S),f}function _m(a){return a==null?a:n5.call(a)}function uM(a,c,f){var g=a==null?0:a.length;return g?(f&&typeof f!="number"&&Bn(a,c,f)?(c=0,f=g):(c=c==null?0:Ve(c),f=f===n?g:Ve(f)),jr(a,c,f)):[]}function dM(a,c){return bd(a,c)}function fM(a,c,f){return cm(a,c,Me(f,2))}function hM(a,c){var f=a==null?0:a.length;if(f){var g=bd(a,c);if(g<f&&si(a[g],c))return g}return-1}function pM(a,c){return bd(a,c,!0)}function mM(a,c,f){return cm(a,c,Me(f,2),!0)}function gM(a,c){var f=a==null?0:a.length;if(f){var g=bd(a,c,!0)-1;if(si(a[g],c))return g}return-1}function vM(a){return a&&a.length?Ub(a):[]}function yM(a,c){return a&&a.length?Ub(a,Me(c,2)):[]}function bM(a){var c=a==null?0:a.length;return c?jr(a,1,c):[]}function kM(a,c,f){return a&&a.length?(c=f||c===n?1:Ve(c),jr(a,0,c<0?0:c)):[]}function CM(a,c,f){var g=a==null?0:a.length;return g?(c=f||c===n?1:Ve(c),c=g-c,jr(a,c<0?0:c,g)):[]}function SM(a,c){return a&&a.length?kd(a,Me(c,3),!1,!0):[]}function wM(a,c){return a&&a.length?kd(a,Me(c,3)):[]}var TM=He(function(a){return No(Cn(a,1,qt,!0))}),EM=He(function(a){var c=$r(a);return qt(c)&&(c=n),No(Cn(a,1,qt,!0),Me(c,2))}),_M=He(function(a){var c=$r(a);return c=typeof c=="function"?c:n,No(Cn(a,1,qt,!0),n,c)});function xM(a){return a&&a.length?No(a):[]}function PM(a,c){return a&&a.length?No(a,Me(c,2)):[]}function RM(a,c){return c=typeof c=="function"?c:n,a&&a.length?No(a,n,c):[]}function xm(a){if(!(a&&a.length))return[];var c=0;return a=Io(a,function(f){if(qt(f))return c=an(f.length,c),!0}),Wp(c,function(f){return At(a,zp(f))})}function wk(a,c){if(!(a&&a.length))return[];var f=xm(a);return c==null?f:At(f,function(g){return dr(c,n,g)})}var IM=He(function(a,c){return qt(a)?sc(a,c):[]}),OM=He(function(a){return dm(Io(a,qt))}),MM=He(function(a){var c=$r(a);return qt(c)&&(c=n),dm(Io(a,qt),Me(c,2))}),LM=He(function(a){var c=$r(a);return c=typeof c=="function"?c:n,dm(Io(a,qt),n,c)}),AM=He(xm);function NM(a,c){return zb(a||[],c||[],oc)}function DM(a,c){return zb(a||[],c||[],cc)}var UM=He(function(a){var c=a.length,f=c>1?a[c-1]:n;return f=typeof f=="function"?(a.pop(),f):n,wk(a,f)});function Tk(a){var c=x(a);return c.__chain__=!0,c}function FM(a,c){return c(a),a}function Rd(a,c){return c(a)}var jM=Qi(function(a){var c=a.length,f=c?a[0]:0,g=this.__wrapped__,S=function(R){return Xp(R,a)};return c>1||this.__actions__.length||!(g instanceof Ye)||!Yi(f)?this.thru(S):(g=g.slice(f,+f+(c?1:0)),g.__actions__.push({func:Rd,args:[S],thisArg:n}),new Ur(g,this.__chain__).thru(function(R){return c&&!R.length&&R.push(n),R}))});function $M(){return Tk(this)}function zM(){return new Ur(this.value(),this.__chain__)}function BM(){this.__values__===n&&(this.__values__=Fk(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function VM(){return this}function WM(a){for(var c,f=this;f instanceof pd;){var g=vk(f);g.__index__=0,g.__values__=n,c?S.__wrapped__=g:c=g;var S=g;f=f.__wrapped__}return S.__wrapped__=a,c}function HM(){var a=this.__wrapped__;if(a instanceof Ye){var c=a;return this.__actions__.length&&(c=new Ye(this)),c=c.reverse(),c.__actions__.push({func:Rd,args:[_m],thisArg:n}),new Ur(c,this.__chain__)}return this.thru(_m)}function GM(){return $b(this.__wrapped__,this.__actions__)}var qM=Cd(function(a,c,f){dt.call(a,f)?++a[f]:Ki(a,f,1)});function KM(a,c,f){var g=je(a)?Z1:F5;return f&&Bn(a,c,f)&&(c=n),g(a,Me(c,3))}function JM(a,c){var f=je(a)?Io:wb;return f(a,Me(c,3))}var QM=Yb(yk),YM=Yb(bk);function XM(a,c){return Cn(Id(a,c),1)}function ZM(a,c){return Cn(Id(a,c),De)}function e3(a,c,f){return f=f===n?1:Ve(f),Cn(Id(a,c),f)}function Ek(a,c){var f=je(a)?Nr:Ao;return f(a,Me(c,3))}function _k(a,c){var f=je(a)?bI:Sb;return f(a,Me(c,3))}var t3=Cd(function(a,c,f){dt.call(a,f)?a[f].push(c):Ki(a,f,[c])});function n3(a,c,f,g){a=Yn(a)?a:Ua(a),f=f&&!g?Ve(f):0;var S=a.length;return f<0&&(f=an(S+f,0)),Nd(a)?f<=S&&a.indexOf(c,f)>-1:!!S&&Ea(a,c,f)>-1}var r3=He(function(a,c,f){var g=-1,S=typeof c=="function",R=Yn(a)?W(a.length):[];return Ao(a,function(O){R[++g]=S?dr(c,O,f):ac(O,c,f)}),R}),i3=Cd(function(a,c,f){Ki(a,f,c)});function Id(a,c){var f=je(a)?At:Rb;return f(a,Me(c,3))}function o3(a,c,f,g){return a==null?[]:(je(c)||(c=c==null?[]:[c]),f=g?n:f,je(f)||(f=f==null?[]:[f]),Lb(a,c,f))}var s3=Cd(function(a,c,f){a[f?0:1].push(c)},function(){return[[],[]]});function a3(a,c,f){var g=je(a)?jp:rb,S=arguments.length<3;return g(a,Me(c,4),f,S,Ao)}function l3(a,c,f){var g=je(a)?kI:rb,S=arguments.length<3;return g(a,Me(c,4),f,S,Sb)}function c3(a,c){var f=je(a)?Io:wb;return f(a,Ld(Me(c,3)))}function u3(a){var c=je(a)?yb:nO;return c(a)}function d3(a,c,f){(f?Bn(a,c,f):c===n)?c=1:c=Ve(c);var g=je(a)?L5:rO;return g(a,c)}function f3(a){var c=je(a)?A5:oO;return c(a)}function h3(a){if(a==null)return 0;if(Yn(a))return Nd(a)?xa(a):a.length;var c=Mn(a);return c==ye||c==Zt?a.size:im(a).length}function p3(a,c,f){var g=je(a)?$p:sO;return f&&Bn(a,c,f)&&(c=n),g(a,Me(c,3))}var m3=He(function(a,c){if(a==null)return[];var f=c.length;return f>1&&Bn(a,c[0],c[1])?c=[]:f>2&&Bn(c[0],c[1],c[2])&&(c=[c[0]]),Lb(a,Cn(c,1),[])}),Od=JI||function(){return kn.Date.now()};function g3(a,c){if(typeof c!="function")throw new Dr(s);return a=Ve(a),function(){if(--a<1)return c.apply(this,arguments)}}function xk(a,c,f){return c=f?n:c,c=a&&c==null?a.length:c,Ji(a,N,n,n,n,n,c)}function Pk(a,c){var f;if(typeof c!="function")throw new Dr(s);return a=Ve(a),function(){return--a>0&&(f=c.apply(this,arguments)),a<=1&&(c=n),f}}var Pm=He(function(a,c,f){var g=T;if(f.length){var S=Mo(f,Na(Pm));g|=I}return Ji(a,g,c,f,S)}),Rk=He(function(a,c,f){var g=T|v;if(f.length){var S=Mo(f,Na(Rk));g|=I}return Ji(c,g,a,f,S)});function Ik(a,c,f){c=f?n:c;var g=Ji(a,P,n,n,n,n,n,c);return g.placeholder=Ik.placeholder,g}function Ok(a,c,f){c=f?n:c;var g=Ji(a,E,n,n,n,n,n,c);return g.placeholder=Ok.placeholder,g}function Mk(a,c,f){var g,S,R,O,A,$,X=0,Z=!1,ie=!1,ue=!0;if(typeof a!="function")throw new Dr(s);c=zr(c)||0,Ft(f)&&(Z=!!f.leading,ie="maxWait"in f,R=ie?an(zr(f.maxWait)||0,c):R,ue="trailing"in f?!!f.trailing:ue);function Se(Kt){var ai=g,eo=S;return g=S=n,X=Kt,O=a.apply(eo,ai),O}function Le(Kt){return X=Kt,A=fc(Ke,c),Z?Se(Kt):O}function We(Kt){var ai=Kt-$,eo=Kt-X,Yk=c-ai;return ie?On(Yk,R-eo):Yk}function Ae(Kt){var ai=Kt-$,eo=Kt-X;return $===n||ai>=c||ai<0||ie&&eo>=R}function Ke(){var Kt=Od();if(Ae(Kt))return tt(Kt);A=fc(Ke,We(Kt))}function tt(Kt){return A=n,ue&&g?Se(Kt):(g=S=n,O)}function mr(){A!==n&&Bb(A),X=0,g=$=S=A=n}function Vn(){return A===n?O:tt(Od())}function gr(){var Kt=Od(),ai=Ae(Kt);if(g=arguments,S=this,$=Kt,ai){if(A===n)return Le($);if(ie)return Bb(A),A=fc(Ke,c),Se($)}return A===n&&(A=fc(Ke,c)),O}return gr.cancel=mr,gr.flush=Vn,gr}var v3=He(function(a,c){return Cb(a,1,c)}),y3=He(function(a,c,f){return Cb(a,zr(c)||0,f)});function b3(a){return Ji(a,z)}function Md(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Dr(s);var f=function(){var g=arguments,S=c?c.apply(this,g):g[0],R=f.cache;if(R.has(S))return R.get(S);var O=a.apply(this,g);return f.cache=R.set(S,O)||R,O};return f.cache=new(Md.Cache||qi),f}Md.Cache=qi;function Ld(a){if(typeof a!="function")throw new Dr(s);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function k3(a){return Pk(2,a)}var C3=aO(function(a,c){c=c.length==1&&je(c[0])?At(c[0],fr(Me())):At(Cn(c,1),fr(Me()));var f=c.length;return He(function(g){for(var S=-1,R=On(g.length,f);++S<R;)g[S]=c[S].call(this,g[S]);return dr(a,this,g)})}),Rm=He(function(a,c){var f=Mo(c,Na(Rm));return Ji(a,I,n,c,f)}),Lk=He(function(a,c){var f=Mo(c,Na(Lk));return Ji(a,M,n,c,f)}),S3=Qi(function(a,c){return Ji(a,_,n,n,n,c)});function w3(a,c){if(typeof a!="function")throw new Dr(s);return c=c===n?c:Ve(c),He(a,c)}function T3(a,c){if(typeof a!="function")throw new Dr(s);return c=c==null?0:an(Ve(c),0),He(function(f){var g=f[c],S=Uo(f,0,c);return g&&Oo(S,g),dr(a,this,S)})}function E3(a,c,f){var g=!0,S=!0;if(typeof a!="function")throw new Dr(s);return Ft(f)&&(g="leading"in f?!!f.leading:g,S="trailing"in f?!!f.trailing:S),Mk(a,c,{leading:g,maxWait:c,trailing:S})}function _3(a){return xk(a,1)}function x3(a,c){return Rm(hm(c),a)}function P3(){if(!arguments.length)return[];var a=arguments[0];return je(a)?a:[a]}function R3(a){return Fr(a,y)}function I3(a,c){return c=typeof c=="function"?c:n,Fr(a,y,c)}function O3(a){return Fr(a,p|y)}function M3(a,c){return c=typeof c=="function"?c:n,Fr(a,p|y,c)}function L3(a,c){return c==null||kb(a,c,pn(c))}function si(a,c){return a===c||a!==a&&c!==c}var A3=Ed(tm),N3=Ed(function(a,c){return a>=c}),Ms=_b(function(){return arguments}())?_b:function(a){return Vt(a)&&dt.call(a,"callee")&&!fb.call(a,"callee")},je=W.isArray,D3=q1?fr(q1):W5;function Yn(a){return a!=null&&Ad(a.length)&&!Xi(a)}function qt(a){return Vt(a)&&Yn(a)}function U3(a){return a===!0||a===!1||Vt(a)&&zn(a)==vn}var Fo=YI||$m,F3=K1?fr(K1):H5;function j3(a){return Vt(a)&&a.nodeType===1&&!hc(a)}function $3(a){if(a==null)return!0;if(Yn(a)&&(je(a)||typeof a=="string"||typeof a.splice=="function"||Fo(a)||Da(a)||Ms(a)))return!a.length;var c=Mn(a);if(c==ye||c==Zt)return!a.size;if(dc(a))return!im(a).length;for(var f in a)if(dt.call(a,f))return!1;return!0}function z3(a,c){return lc(a,c)}function B3(a,c,f){f=typeof f=="function"?f:n;var g=f?f(a,c):n;return g===n?lc(a,c,n,f):!!g}function Im(a){if(!Vt(a))return!1;var c=zn(a);return c==Rr||c==hn||typeof a.message=="string"&&typeof a.name=="string"&&!hc(a)}function V3(a){return typeof a=="number"&&pb(a)}function Xi(a){if(!Ft(a))return!1;var c=zn(a);return c==Te||c==Re||c==Xt||c==et}function Ak(a){return typeof a=="number"&&a==Ve(a)}function Ad(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=re}function Ft(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Vt(a){return a!=null&&typeof a=="object"}var Nk=J1?fr(J1):q5;function W3(a,c){return a===c||rm(a,c,km(c))}function H3(a,c,f){return f=typeof f=="function"?f:n,rm(a,c,km(c),f)}function G3(a){return Dk(a)&&a!=+a}function q3(a){if(IO(a))throw new Fe(o);return xb(a)}function K3(a){return a===null}function J3(a){return a==null}function Dk(a){return typeof a=="number"||Vt(a)&&zn(a)==Ie}function hc(a){if(!Vt(a)||zn(a)!=_t)return!1;var c=ad(a);if(c===null)return!0;var f=dt.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&rd.call(f)==HI}var Om=Q1?fr(Q1):K5;function Q3(a){return Ak(a)&&a>=-re&&a<=re}var Uk=Y1?fr(Y1):J5;function Nd(a){return typeof a=="string"||!je(a)&&Vt(a)&&zn(a)==lr}function pr(a){return typeof a=="symbol"||Vt(a)&&zn(a)==Ir}var Da=X1?fr(X1):Q5;function Y3(a){return a===n}function X3(a){return Vt(a)&&Mn(a)==vt}function Z3(a){return Vt(a)&&zn(a)==yn}var eL=Ed(om),tL=Ed(function(a,c){return a<=c});function Fk(a){if(!a)return[];if(Yn(a))return Nd(a)?ii(a):Qn(a);if(ec&&a[ec])return LI(a[ec]());var c=Mn(a),f=c==ye?Gp:c==Zt?ed:Ua;return f(a)}function Zi(a){if(!a)return a===0?a:0;if(a=zr(a),a===De||a===-De){var c=a<0?-1:1;return c*ae}return a===a?a:0}function Ve(a){var c=Zi(a),f=c%1;return c===c?f?c-f:c:0}function jk(a){return a?Ps(Ve(a),0,ke):0}function zr(a){if(typeof a=="number")return a;if(pr(a))return Ee;if(Ft(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Ft(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=ib(a);var f=be.test(a);return f||rt.test(a)?gI(a.slice(2),f?2:8):Oe.test(a)?Ee:+a}function $k(a){return xi(a,Xn(a))}function nL(a){return a?Ps(Ve(a),-re,re):a===0?a:0}function ct(a){return a==null?"":hr(a)}var rL=La(function(a,c){if(dc(c)||Yn(c)){xi(c,pn(c),a);return}for(var f in c)dt.call(c,f)&&oc(a,f,c[f])}),zk=La(function(a,c){xi(c,Xn(c),a)}),Dd=La(function(a,c,f,g){xi(c,Xn(c),a,g)}),iL=La(function(a,c,f,g){xi(c,pn(c),a,g)}),oL=Qi(Xp);function sL(a,c){var f=Ma(a);return c==null?f:bb(f,c)}var aL=He(function(a,c){a=bt(a);var f=-1,g=c.length,S=g>2?c[2]:n;for(S&&Bn(c[0],c[1],S)&&(g=1);++f<g;)for(var R=c[f],O=Xn(R),A=-1,$=O.length;++A<$;){var X=O[A],Z=a[X];(Z===n||si(Z,Ra[X])&&!dt.call(a,X))&&(a[X]=R[X])}return a}),lL=He(function(a){return a.push(n,ik),dr(Bk,n,a)});function cL(a,c){return eb(a,Me(c,3),_i)}function uL(a,c){return eb(a,Me(c,3),em)}function dL(a,c){return a==null?a:Zp(a,Me(c,3),Xn)}function fL(a,c){return a==null?a:Tb(a,Me(c,3),Xn)}function hL(a,c){return a&&_i(a,Me(c,3))}function pL(a,c){return a&&em(a,Me(c,3))}function mL(a){return a==null?[]:vd(a,pn(a))}function gL(a){return a==null?[]:vd(a,Xn(a))}function Mm(a,c,f){var g=a==null?n:Rs(a,c);return g===n?f:g}function vL(a,c){return a!=null&&ak(a,c,$5)}function Lm(a,c){return a!=null&&ak(a,c,z5)}var yL=Zb(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=id.call(c)),a[c]=f},Nm(Zn)),bL=Zb(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=id.call(c)),dt.call(a,c)?a[c].push(f):a[c]=[f]},Me),kL=He(ac);function pn(a){return Yn(a)?vb(a):im(a)}function Xn(a){return Yn(a)?vb(a,!0):Y5(a)}function CL(a,c){var f={};return c=Me(c,3),_i(a,function(g,S,R){Ki(f,c(g,S,R),g)}),f}function SL(a,c){var f={};return c=Me(c,3),_i(a,function(g,S,R){Ki(f,S,c(g,S,R))}),f}var wL=La(function(a,c,f){yd(a,c,f)}),Bk=La(function(a,c,f,g){yd(a,c,f,g)}),TL=Qi(function(a,c){var f={};if(a==null)return f;var g=!1;c=At(c,function(R){return R=Do(R,a),g||(g=R.length>1),R}),xi(a,ym(a),f),g&&(f=Fr(f,p|m|y,yO));for(var S=c.length;S--;)um(f,c[S]);return f});function EL(a,c){return Vk(a,Ld(Me(c)))}var _L=Qi(function(a,c){return a==null?{}:Z5(a,c)});function Vk(a,c){if(a==null)return{};var f=At(ym(a),function(g){return[g]});return c=Me(c),Ab(a,f,function(g,S){return c(g,S[0])})}function xL(a,c,f){c=Do(c,a);var g=-1,S=c.length;for(S||(S=1,a=n);++g<S;){var R=a==null?n:a[Pi(c[g])];R===n&&(g=S,R=f),a=Xi(R)?R.call(a):R}return a}function PL(a,c,f){return a==null?a:cc(a,c,f)}function RL(a,c,f,g){return g=typeof g=="function"?g:n,a==null?a:cc(a,c,f,g)}var Wk=nk(pn),Hk=nk(Xn);function IL(a,c,f){var g=je(a),S=g||Fo(a)||Da(a);if(c=Me(c,4),f==null){var R=a&&a.constructor;S?f=g?new R:[]:Ft(a)?f=Xi(R)?Ma(ad(a)):{}:f={}}return(S?Nr:_i)(a,function(O,A,$){return c(f,O,A,$)}),f}function OL(a,c){return a==null?!0:um(a,c)}function ML(a,c,f){return a==null?a:jb(a,c,hm(f))}function LL(a,c,f,g){return g=typeof g=="function"?g:n,a==null?a:jb(a,c,hm(f),g)}function Ua(a){return a==null?[]:Hp(a,pn(a))}function AL(a){return a==null?[]:Hp(a,Xn(a))}function NL(a,c,f){return f===n&&(f=c,c=n),f!==n&&(f=zr(f),f=f===f?f:0),c!==n&&(c=zr(c),c=c===c?c:0),Ps(zr(a),c,f)}function DL(a,c,f){return c=Zi(c),f===n?(f=c,c=0):f=Zi(f),a=zr(a),B5(a,c,f)}function UL(a,c,f){if(f&&typeof f!="boolean"&&Bn(a,c,f)&&(c=f=n),f===n&&(typeof c=="boolean"?(f=c,c=n):typeof a=="boolean"&&(f=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Zi(a),c===n?(c=a,a=0):c=Zi(c)),a>c){var g=a;a=c,c=g}if(f||a%1||c%1){var S=mb();return On(a+S*(c-a+mI("1e-"+((S+"").length-1))),c)}return am(a,c)}var FL=Aa(function(a,c,f){return c=c.toLowerCase(),a+(f?Gk(c):c)});function Gk(a){return Am(ct(a).toLowerCase())}function qk(a){return a=ct(a),a&&a.replace(yt,PI).replace(oI,"")}function jL(a,c,f){a=ct(a),c=hr(c);var g=a.length;f=f===n?g:Ps(Ve(f),0,g);var S=f;return f-=c.length,f>=0&&a.slice(f,S)==c}function $L(a){return a=ct(a),a&&ba.test(a)?a.replace(Kl,RI):a}function zL(a){return a=ct(a),a&&Ku.test(a)?a.replace(Po,"\\$&"):a}var BL=Aa(function(a,c,f){return a+(f?"-":"")+c.toLowerCase()}),VL=Aa(function(a,c,f){return a+(f?" ":"")+c.toLowerCase()}),WL=Qb("toLowerCase");function HL(a,c,f){a=ct(a),c=Ve(c);var g=c?xa(a):0;if(!c||g>=c)return a;var S=(c-g)/2;return Td(dd(S),f)+a+Td(ud(S),f)}function GL(a,c,f){a=ct(a),c=Ve(c);var g=c?xa(a):0;return c&&g<c?a+Td(c-g,f):a}function qL(a,c,f){a=ct(a),c=Ve(c);var g=c?xa(a):0;return c&&g<c?Td(c-g,f)+a:a}function KL(a,c,f){return f||c==null?c=0:c&&(c=+c),t5(ct(a).replace(Xl,""),c||0)}function JL(a,c,f){return(f?Bn(a,c,f):c===n)?c=1:c=Ve(c),lm(ct(a),c)}function QL(){var a=arguments,c=ct(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var YL=Aa(function(a,c,f){return a+(f?"_":"")+c.toLowerCase()});function XL(a,c,f){return f&&typeof f!="number"&&Bn(a,c,f)&&(c=f=n),f=f===n?ke:f>>>0,f?(a=ct(a),a&&(typeof c=="string"||c!=null&&!Om(c))&&(c=hr(c),!c&&_a(a))?Uo(ii(a),0,f):a.split(c,f)):[]}var ZL=Aa(function(a,c,f){return a+(f?" ":"")+Am(c)});function eA(a,c,f){return a=ct(a),f=f==null?0:Ps(Ve(f),0,a.length),c=hr(c),a.slice(f,f+c.length)==c}function tA(a,c,f){var g=x.templateSettings;f&&Bn(a,c,f)&&(c=n),a=ct(a),c=Dd({},c,g,rk);var S=Dd({},c.imports,g.imports,rk),R=pn(S),O=Hp(S,R),A,$,X=0,Z=c.interpolate||Ge,ie="__p += '",ue=qp((c.escape||Ge).source+"|"+Z.source+"|"+(Z===Yl?Ne:Ge).source+"|"+(c.evaluate||Ge).source+"|$","g"),Se="//# sourceURL="+(dt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uI+"]")+`
`;a.replace(ue,function(Ae,Ke,tt,mr,Vn,gr){return tt||(tt=mr),ie+=a.slice(X,gr).replace(en,II),Ke&&(A=!0,ie+=`' +
__e(`+Ke+`) +
'`),Vn&&($=!0,ie+=`';
`+Vn+`;
__p += '`),tt&&(ie+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),X=gr+Ae.length,Ae}),ie+=`';
`;var Le=dt.call(c,"variable")&&c.variable;if(!Le)ie=`with (obj) {
`+ie+`
}
`;else if(fe.test(Le))throw new Fe(l);ie=($?ie.replace(Hu,""):ie).replace(Pp,"$1").replace(Gu,"$1;"),ie="function("+(Le||"obj")+`) {
`+(Le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var We=Jk(function(){return at(R,Se+"return "+ie).apply(n,O)});if(We.source=ie,Im(We))throw We;return We}function nA(a){return ct(a).toLowerCase()}function rA(a){return ct(a).toUpperCase()}function iA(a,c,f){if(a=ct(a),a&&(f||c===n))return ib(a);if(!a||!(c=hr(c)))return a;var g=ii(a),S=ii(c),R=ob(g,S),O=sb(g,S)+1;return Uo(g,R,O).join("")}function oA(a,c,f){if(a=ct(a),a&&(f||c===n))return a.slice(0,lb(a)+1);if(!a||!(c=hr(c)))return a;var g=ii(a),S=sb(g,ii(c))+1;return Uo(g,0,S).join("")}function sA(a,c,f){if(a=ct(a),a&&(f||c===n))return a.replace(Xl,"");if(!a||!(c=hr(c)))return a;var g=ii(a),S=ob(g,ii(c));return Uo(g,S).join("")}function aA(a,c){var f=F,g=V;if(Ft(c)){var S="separator"in c?c.separator:S;f="length"in c?Ve(c.length):f,g="omission"in c?hr(c.omission):g}a=ct(a);var R=a.length;if(_a(a)){var O=ii(a);R=O.length}if(f>=R)return a;var A=f-xa(g);if(A<1)return g;var $=O?Uo(O,0,A).join(""):a.slice(0,A);if(S===n)return $+g;if(O&&(A+=$.length-A),Om(S)){if(a.slice(A).search(S)){var X,Z=$;for(S.global||(S=qp(S.source,ct(le.exec(S))+"g")),S.lastIndex=0;X=S.exec(Z);)var ie=X.index;$=$.slice(0,ie===n?A:ie)}}else if(a.indexOf(hr(S),A)!=A){var ue=$.lastIndexOf(S);ue>-1&&($=$.slice(0,ue))}return $+g}function lA(a){return a=ct(a),a&&Jl.test(a)?a.replace(Cs,UI):a}var cA=Aa(function(a,c,f){return a+(f?" ":"")+c.toUpperCase()}),Am=Qb("toUpperCase");function Kk(a,c,f){return a=ct(a),c=f?n:c,c===n?MI(a)?$I(a):wI(a):a.match(c)||[]}var Jk=He(function(a,c){try{return dr(a,n,c)}catch(f){return Im(f)?f:new Fe(f)}}),uA=Qi(function(a,c){return Nr(c,function(f){f=Pi(f),Ki(a,f,Pm(a[f],a))}),a});function dA(a){var c=a==null?0:a.length,f=Me();return a=c?At(a,function(g){if(typeof g[1]!="function")throw new Dr(s);return[f(g[0]),g[1]]}):[],He(function(g){for(var S=-1;++S<c;){var R=a[S];if(dr(R[0],this,g))return dr(R[1],this,g)}})}function fA(a){return U5(Fr(a,p))}function Nm(a){return function(){return a}}function hA(a,c){return a==null||a!==a?c:a}var pA=Xb(),mA=Xb(!0);function Zn(a){return a}function Dm(a){return Pb(typeof a=="function"?a:Fr(a,p))}function gA(a){return Ib(Fr(a,p))}function vA(a,c){return Ob(a,Fr(c,p))}var yA=He(function(a,c){return function(f){return ac(f,a,c)}}),bA=He(function(a,c){return function(f){return ac(a,f,c)}});function Um(a,c,f){var g=pn(c),S=vd(c,g);f==null&&!(Ft(c)&&(S.length||!g.length))&&(f=c,c=a,a=this,S=vd(c,pn(c)));var R=!(Ft(f)&&"chain"in f)||!!f.chain,O=Xi(a);return Nr(S,function(A){var $=c[A];a[A]=$,O&&(a.prototype[A]=function(){var X=this.__chain__;if(R||X){var Z=a(this.__wrapped__),ie=Z.__actions__=Qn(this.__actions__);return ie.push({func:$,args:arguments,thisArg:a}),Z.__chain__=X,Z}return $.apply(a,Oo([this.value()],arguments))})}),a}function kA(){return kn._===this&&(kn._=GI),this}function Fm(){}function CA(a){return a=Ve(a),He(function(c){return Mb(c,a)})}var SA=mm(At),wA=mm(Z1),TA=mm($p);function Qk(a){return Sm(a)?zp(Pi(a)):eO(a)}function EA(a){return function(c){return a==null?n:Rs(a,c)}}var _A=ek(),xA=ek(!0);function jm(){return[]}function $m(){return!1}function PA(){return{}}function RA(){return""}function IA(){return!0}function OA(a,c){if(a=Ve(a),a<1||a>re)return[];var f=ke,g=On(a,ke);c=Me(c),a-=ke;for(var S=Wp(g,c);++f<a;)c(f);return S}function MA(a){return je(a)?At(a,Pi):pr(a)?[a]:Qn(gk(ct(a)))}function LA(a){var c=++WI;return ct(a)+c}var AA=wd(function(a,c){return a+c},0),NA=gm("ceil"),DA=wd(function(a,c){return a/c},1),UA=gm("floor");function FA(a){return a&&a.length?gd(a,Zn,tm):n}function jA(a,c){return a&&a.length?gd(a,Me(c,2),tm):n}function $A(a){return nb(a,Zn)}function zA(a,c){return nb(a,Me(c,2))}function BA(a){return a&&a.length?gd(a,Zn,om):n}function VA(a,c){return a&&a.length?gd(a,Me(c,2),om):n}var WA=wd(function(a,c){return a*c},1),HA=gm("round"),GA=wd(function(a,c){return a-c},0);function qA(a){return a&&a.length?Vp(a,Zn):0}function KA(a,c){return a&&a.length?Vp(a,Me(c,2)):0}return x.after=g3,x.ary=xk,x.assign=rL,x.assignIn=zk,x.assignInWith=Dd,x.assignWith=iL,x.at=oL,x.before=Pk,x.bind=Pm,x.bindAll=uA,x.bindKey=Rk,x.castArray=P3,x.chain=Tk,x.chunk=UO,x.compact=FO,x.concat=jO,x.cond=dA,x.conforms=fA,x.constant=Nm,x.countBy=qM,x.create=sL,x.curry=Ik,x.curryRight=Ok,x.debounce=Mk,x.defaults=aL,x.defaultsDeep=lL,x.defer=v3,x.delay=y3,x.difference=$O,x.differenceBy=zO,x.differenceWith=BO,x.drop=VO,x.dropRight=WO,x.dropRightWhile=HO,x.dropWhile=GO,x.fill=qO,x.filter=JM,x.flatMap=XM,x.flatMapDeep=ZM,x.flatMapDepth=e3,x.flatten=kk,x.flattenDeep=KO,x.flattenDepth=JO,x.flip=b3,x.flow=pA,x.flowRight=mA,x.fromPairs=QO,x.functions=mL,x.functionsIn=gL,x.groupBy=t3,x.initial=XO,x.intersection=ZO,x.intersectionBy=eM,x.intersectionWith=tM,x.invert=yL,x.invertBy=bL,x.invokeMap=r3,x.iteratee=Dm,x.keyBy=i3,x.keys=pn,x.keysIn=Xn,x.map=Id,x.mapKeys=CL,x.mapValues=SL,x.matches=gA,x.matchesProperty=vA,x.memoize=Md,x.merge=wL,x.mergeWith=Bk,x.method=yA,x.methodOf=bA,x.mixin=Um,x.negate=Ld,x.nthArg=CA,x.omit=TL,x.omitBy=EL,x.once=k3,x.orderBy=o3,x.over=SA,x.overArgs=C3,x.overEvery=wA,x.overSome=TA,x.partial=Rm,x.partialRight=Lk,x.partition=s3,x.pick=_L,x.pickBy=Vk,x.property=Qk,x.propertyOf=EA,x.pull=oM,x.pullAll=Sk,x.pullAllBy=sM,x.pullAllWith=aM,x.pullAt=lM,x.range=_A,x.rangeRight=xA,x.rearg=S3,x.reject=c3,x.remove=cM,x.rest=w3,x.reverse=_m,x.sampleSize=d3,x.set=PL,x.setWith=RL,x.shuffle=f3,x.slice=uM,x.sortBy=m3,x.sortedUniq=vM,x.sortedUniqBy=yM,x.split=XL,x.spread=T3,x.tail=bM,x.take=kM,x.takeRight=CM,x.takeRightWhile=SM,x.takeWhile=wM,x.tap=FM,x.throttle=E3,x.thru=Rd,x.toArray=Fk,x.toPairs=Wk,x.toPairsIn=Hk,x.toPath=MA,x.toPlainObject=$k,x.transform=IL,x.unary=_3,x.union=TM,x.unionBy=EM,x.unionWith=_M,x.uniq=xM,x.uniqBy=PM,x.uniqWith=RM,x.unset=OL,x.unzip=xm,x.unzipWith=wk,x.update=ML,x.updateWith=LL,x.values=Ua,x.valuesIn=AL,x.without=IM,x.words=Kk,x.wrap=x3,x.xor=OM,x.xorBy=MM,x.xorWith=LM,x.zip=AM,x.zipObject=NM,x.zipObjectDeep=DM,x.zipWith=UM,x.entries=Wk,x.entriesIn=Hk,x.extend=zk,x.extendWith=Dd,Um(x,x),x.add=AA,x.attempt=Jk,x.camelCase=FL,x.capitalize=Gk,x.ceil=NA,x.clamp=NL,x.clone=R3,x.cloneDeep=O3,x.cloneDeepWith=M3,x.cloneWith=I3,x.conformsTo=L3,x.deburr=qk,x.defaultTo=hA,x.divide=DA,x.endsWith=jL,x.eq=si,x.escape=$L,x.escapeRegExp=zL,x.every=KM,x.find=QM,x.findIndex=yk,x.findKey=cL,x.findLast=YM,x.findLastIndex=bk,x.findLastKey=uL,x.floor=UA,x.forEach=Ek,x.forEachRight=_k,x.forIn=dL,x.forInRight=fL,x.forOwn=hL,x.forOwnRight=pL,x.get=Mm,x.gt=A3,x.gte=N3,x.has=vL,x.hasIn=Lm,x.head=Ck,x.identity=Zn,x.includes=n3,x.indexOf=YO,x.inRange=DL,x.invoke=kL,x.isArguments=Ms,x.isArray=je,x.isArrayBuffer=D3,x.isArrayLike=Yn,x.isArrayLikeObject=qt,x.isBoolean=U3,x.isBuffer=Fo,x.isDate=F3,x.isElement=j3,x.isEmpty=$3,x.isEqual=z3,x.isEqualWith=B3,x.isError=Im,x.isFinite=V3,x.isFunction=Xi,x.isInteger=Ak,x.isLength=Ad,x.isMap=Nk,x.isMatch=W3,x.isMatchWith=H3,x.isNaN=G3,x.isNative=q3,x.isNil=J3,x.isNull=K3,x.isNumber=Dk,x.isObject=Ft,x.isObjectLike=Vt,x.isPlainObject=hc,x.isRegExp=Om,x.isSafeInteger=Q3,x.isSet=Uk,x.isString=Nd,x.isSymbol=pr,x.isTypedArray=Da,x.isUndefined=Y3,x.isWeakMap=X3,x.isWeakSet=Z3,x.join=nM,x.kebabCase=BL,x.last=$r,x.lastIndexOf=rM,x.lowerCase=VL,x.lowerFirst=WL,x.lt=eL,x.lte=tL,x.max=FA,x.maxBy=jA,x.mean=$A,x.meanBy=zA,x.min=BA,x.minBy=VA,x.stubArray=jm,x.stubFalse=$m,x.stubObject=PA,x.stubString=RA,x.stubTrue=IA,x.multiply=WA,x.nth=iM,x.noConflict=kA,x.noop=Fm,x.now=Od,x.pad=HL,x.padEnd=GL,x.padStart=qL,x.parseInt=KL,x.random=UL,x.reduce=a3,x.reduceRight=l3,x.repeat=JL,x.replace=QL,x.result=xL,x.round=HA,x.runInContext=j,x.sample=u3,x.size=h3,x.snakeCase=YL,x.some=p3,x.sortedIndex=dM,x.sortedIndexBy=fM,x.sortedIndexOf=hM,x.sortedLastIndex=pM,x.sortedLastIndexBy=mM,x.sortedLastIndexOf=gM,x.startCase=ZL,x.startsWith=eA,x.subtract=GA,x.sum=qA,x.sumBy=KA,x.template=tA,x.times=OA,x.toFinite=Zi,x.toInteger=Ve,x.toLength=jk,x.toLower=nA,x.toNumber=zr,x.toSafeInteger=nL,x.toString=ct,x.toUpper=rA,x.trim=iA,x.trimEnd=oA,x.trimStart=sA,x.truncate=aA,x.unescape=lA,x.uniqueId=LA,x.upperCase=cA,x.upperFirst=Am,x.each=Ek,x.eachRight=_k,x.first=Ck,Um(x,function(){var a={};return _i(x,function(c,f){dt.call(x.prototype,f)||(a[f]=c)}),a}(),{chain:!1}),x.VERSION=r,Nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){x[a].placeholder=x}),Nr(["drop","take"],function(a,c){Ye.prototype[a]=function(f){f=f===n?1:an(Ve(f),0);var g=this.__filtered__&&!c?new Ye(this):this.clone();return g.__filtered__?g.__takeCount__=On(f,g.__takeCount__):g.__views__.push({size:On(f,ke),type:a+(g.__dir__<0?"Right":"")}),g},Ye.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),Nr(["filter","map","takeWhile"],function(a,c){var f=c+1,g=f==he||f==Qe;Ye.prototype[a]=function(S){var R=this.clone();return R.__iteratees__.push({iteratee:Me(S,3),type:f}),R.__filtered__=R.__filtered__||g,R}}),Nr(["head","last"],function(a,c){var f="take"+(c?"Right":"");Ye.prototype[a]=function(){return this[f](1).value()[0]}}),Nr(["initial","tail"],function(a,c){var f="drop"+(c?"":"Right");Ye.prototype[a]=function(){return this.__filtered__?new Ye(this):this[f](1)}}),Ye.prototype.compact=function(){return this.filter(Zn)},Ye.prototype.find=function(a){return this.filter(a).head()},Ye.prototype.findLast=function(a){return this.reverse().find(a)},Ye.prototype.invokeMap=He(function(a,c){return typeof a=="function"?new Ye(this):this.map(function(f){return ac(f,a,c)})}),Ye.prototype.reject=function(a){return this.filter(Ld(Me(a)))},Ye.prototype.slice=function(a,c){a=Ve(a);var f=this;return f.__filtered__&&(a>0||c<0)?new Ye(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),c!==n&&(c=Ve(c),f=c<0?f.dropRight(-c):f.take(c-a)),f)},Ye.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ye.prototype.toArray=function(){return this.take(ke)},_i(Ye.prototype,function(a,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),g=/^(?:head|last)$/.test(c),S=x[g?"take"+(c=="last"?"Right":""):c],R=g||/^find/.test(c);S&&(x.prototype[c]=function(){var O=this.__wrapped__,A=g?[1]:arguments,$=O instanceof Ye,X=A[0],Z=$||je(O),ie=function(Ke){var tt=S.apply(x,Oo([Ke],A));return g&&ue?tt[0]:tt};Z&&f&&typeof X=="function"&&X.length!=1&&($=Z=!1);var ue=this.__chain__,Se=!!this.__actions__.length,Le=R&&!ue,We=$&&!Se;if(!R&&Z){O=We?O:new Ye(this);var Ae=a.apply(O,A);return Ae.__actions__.push({func:Rd,args:[ie],thisArg:n}),new Ur(Ae,ue)}return Le&&We?a.apply(this,A):(Ae=this.thru(ie),Le?g?Ae.value()[0]:Ae.value():Ae)})}),Nr(["pop","push","shift","sort","splice","unshift"],function(a){var c=td[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);x.prototype[a]=function(){var S=arguments;if(g&&!this.__chain__){var R=this.value();return c.apply(je(R)?R:[],S)}return this[f](function(O){return c.apply(je(O)?O:[],S)})}}),_i(Ye.prototype,function(a,c){var f=x[c];if(f){var g=f.name+"";dt.call(Oa,g)||(Oa[g]=[]),Oa[g].push({name:c,func:f})}}),Oa[Sd(n,v).name]=[{name:"wrapper",func:n}],Ye.prototype.clone=l5,Ye.prototype.reverse=c5,Ye.prototype.value=u5,x.prototype.at=jM,x.prototype.chain=$M,x.prototype.commit=zM,x.prototype.next=BM,x.prototype.plant=WM,x.prototype.reverse=HM,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=GM,x.prototype.first=x.prototype.head,ec&&(x.prototype[ec]=VM),x},Pa=zI();Ts?((Ts.exports=Pa)._=Pa,Dp._=Pa):kn._=Pa}).call(pc)})(Oh,Oh.exports);var FW=Oh.exports;function jW(){const[e,t]=b.useState(null),n=b.useRef(null);return b.useEffect(()=>{const r=setInterval(async()=>{const i=await Ep("get_champ_select_data");FW.isEqual(i,n.current)||(n.current=i,t(i),console.log("ReRendered"))},500);return()=>{clearInterval(r)}},[]),e}function ei(...e){return Wx(Yy(e))}function $W({className:e,...t}){return ee.jsxs("nav",{className:ei("flex items-center space-x-4 lg:space-x-6",e),...t,children:[ee.jsx("a",{href:"/examples/dashboard",className:"text-sm font-medium transition-colors hover:text-primary",children:"Overview"}),ee.jsx("a",{href:"/chat-voice",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-primary",children:"Chat Voice"}),ee.jsx("a",{href:"/examples/dashboard",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-primary",children:"Products"}),ee.jsx("a",{href:"/examples/dashboard",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-primary",children:"Settings"})]})}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}function zW(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xR(...e){return t=>e.forEach(n=>zW(n,t))}function D0(...e){return b.useCallback(xR(...e),e)}const Au=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),o=i.find(VW);if(o){const s=o.props.children,l=i.map(u=>u===o?b.Children.count(s)>1?b.Children.only(null):b.isValidElement(s)?s.props.children:null:u);return b.createElement(U0,rn({},r,{ref:t}),b.isValidElement(s)?b.cloneElement(s,void 0,l):null)}return b.createElement(U0,rn({},r,{ref:t}),n)});Au.displayName="Slot";const U0=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...WW(r,n.props),ref:t?xR(t,n.ref):n.ref}):b.Children.count(n)>1?b.Children.only(null):null});U0.displayName="SlotClone";const BW=({children:e})=>b.createElement(b.Fragment,null,e);function VW(e){return b.isValidElement(e)&&e.type===BW}function WW(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{o(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const mT=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,gT=Yy,PR=(e,t)=>n=>{var r;if(t?.variants==null)return gT(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(d=>{const h=n?.[d],p=o?.[d];if(h===null)return null;const m=mT(h)||mT(p);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[p,m]=h;return m===void 0||(d[p]=m),d},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:m,...y}=h;return Object.entries(y).every(C=>{let[k,T]=C;return Array.isArray(T)?T.includes({...o,...l}[k]):{...o,...l}[k]===T})?[...d,p,m]:d},[]);return gT(e,s,u,n?.class,n?.className)},HW=PR("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),El=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?Au:"button";return ee.jsx(s,{className:ei(HW({variant:t,size:n,className:e})),ref:o,...i})});El.displayName="Button";function GW(){const{user:e}=T4();return ee.jsxs("div",{className:"flex items-center justify-between bg-[#101010] px-2 py-4",children:[ee.jsx("section",{children:ee.jsx("img",{src:"/PlayVoiceLogo.png",alt:"Logo PlayVoice",className:"h-12 w-16"})}),ee.jsxs("section",{className:"flex items-center",children:[ee.jsx(El,{className:"bg-[#1A3472] text-white hover:bg-[#253d75]",children:"Ver Jogos"}),ee.jsx(El,{variant:"ghost",className:"hover:bg-transparent",children:ee.jsx("img",{src:"/games/LOL.png",alt:"League of Legends",className:"w-12 h-12"})}),ee.jsx(El,{variant:"ghost",className:"hover:bg-transparent",children:ee.jsx("img",{src:"/games/ADD.png",alt:"League of Legends",className:"w-12 h-12"})})]}),ee.jsx("section",{className:"flex items-center gap-2",children:ee.jsxs(X4,{children:[e?.firstName,e?.lastName,e?.username,ee.jsx(E6,{})]})})]})}const RR=b.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:ei("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));RR.displayName="Card";const IR=b.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:ei("flex flex-col space-y-1.5 p-6",e),...t}));IR.displayName="CardHeader";const qW=b.forwardRef(({className:e,...t},n)=>ee.jsx("h3",{ref:n,className:ei("text-2xl font-semibold leading-none tracking-tight",e),...t}));qW.displayName="CardTitle";const KW=b.forwardRef(({className:e,...t},n)=>ee.jsx("p",{ref:n,className:ei("text-sm text-muted-foreground",e),...t}));KW.displayName="CardDescription";const OR=b.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:ei("p-6 pt-0",e),...t}));OR.displayName="CardContent";const JW=b.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:ei(" flex items-center p-6 pt-0",e),...t}));JW.displayName="CardFooter";function O1(e,t=[]){let n=[];function r(o,s){const l=b.createContext(s),u=n.length;n=[...n,s];function d(p){const{scope:m,children:y,...C}=p,k=m?.[e][u]||l,T=b.useMemo(()=>C,Object.values(C));return b.createElement(k.Provider,{value:T},y)}function h(p,m){const y=m?.[e][u]||l,C=b.useContext(y);if(C)return C;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,h]}const i=()=>{const o=n.map(s=>b.createContext(s));return function(l){const u=l?.[e]||o;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[r,QW(i,...t)]}function QW(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:u,scopeName:d})=>{const p=u(o)[`__scope${d}`];return{...l,...p}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const YW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nu=YW.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:o,...s}=r,l=o?Au:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(l,rn({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Qs(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function XW(e){const t=e+"CollectionProvider",[n,r]=O1(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:C,children:k}=y,T=H.useRef(null),v=H.useRef(new Map).current;return H.createElement(i,{scope:C,itemMap:v,collectionRef:T},k)},l=e+"CollectionSlot",u=H.forwardRef((y,C)=>{const{scope:k,children:T}=y,v=o(l,k),w=D0(C,v.collectionRef);return H.createElement(Au,{ref:w},T)}),d=e+"CollectionItemSlot",h="data-radix-collection-item",p=H.forwardRef((y,C)=>{const{scope:k,children:T,...v}=y,w=H.useRef(null),P=D0(C,w),E=o(d,k);return H.useEffect(()=>(E.itemMap.set(w,{ref:w,...v}),()=>void E.itemMap.delete(w))),H.createElement(Au,{[h]:"",ref:P},T)});function m(y){const C=o(e+"CollectionConsumer",y);return H.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const v=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(C.itemMap.values()).sort((E,I)=>v.indexOf(E.ref.current)-v.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},m,r]}const ZW=globalThis?.document?b.useLayoutEffect:()=>{},eH=IT["useId".toString()]||(()=>{});let tH=0;function nH(e){const[t,n]=b.useState(eH());return ZW(()=>{e||n(r=>r??String(tH++))},[e]),e||(t?`radix-${t}`:"")}function M1(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function _p({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=rH({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,l=M1(n),u=b.useCallback(d=>{if(o){const p=typeof d=="function"?d(e):d;p!==e&&l(p)}else i(d)},[o,e,i,l]);return[s,u]}function rH({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,i=b.useRef(r),o=M1(t);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const iH=b.createContext(void 0);function MR(e){const t=b.useContext(iH);return e||t||"ltr"}const Jg="rovingFocusGroup.onEntryFocus",oH={bubbles:!1,cancelable:!0},L1="RovingFocusGroup",[F0,LR,sH]=XW(L1),[aH,AR]=O1(L1,[sH]),[lH,cH]=aH(L1),uH=b.forwardRef((e,t)=>b.createElement(F0.Provider,{scope:e.__scopeRovingFocusGroup},b.createElement(F0.Slot,{scope:e.__scopeRovingFocusGroup},b.createElement(dH,rn({},e,{ref:t}))))),dH=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,...h}=e,p=b.useRef(null),m=D0(t,p),y=MR(o),[C=null,k]=_p({prop:s,defaultProp:l,onChange:u}),[T,v]=b.useState(!1),w=M1(d),P=LR(n),E=b.useRef(!1),[I,M]=b.useState(0);return b.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Jg,w),()=>N.removeEventListener(Jg,w)},[w]),b.createElement(lH,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:C,onItemFocus:b.useCallback(N=>k(N),[k]),onItemShiftTab:b.useCallback(()=>v(!0),[]),onFocusableItemAdd:b.useCallback(()=>M(N=>N+1),[]),onFocusableItemRemove:b.useCallback(()=>M(N=>N-1),[])},b.createElement(Nu.div,rn({tabIndex:T||I===0?-1:0,"data-orientation":r},h,{ref:m,style:{outline:"none",...e.style},onMouseDown:Qs(e.onMouseDown,()=>{E.current=!0}),onFocus:Qs(e.onFocus,N=>{const _=!E.current;if(N.target===N.currentTarget&&_&&!T){const z=new CustomEvent(Jg,oH);if(N.currentTarget.dispatchEvent(z),!z.defaultPrevented){const F=P().filter($e=>$e.focusable),V=F.find($e=>$e.active),q=F.find($e=>$e.id===C),he=[V,q,...F].filter(Boolean).map($e=>$e.ref.current);NR(he)}}E.current=!1}),onBlur:Qs(e.onBlur,()=>v(!1))})))}),fH="RovingFocusGroupItem",hH=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,l=nH(),u=o||l,d=cH(fH,n),h=d.currentTabStopId===u,p=LR(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return b.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),b.createElement(F0.ItemSlot,{scope:n,id:u,focusable:r,active:i},b.createElement(Nu.span,rn({tabIndex:h?0:-1,"data-orientation":d.orientation},s,{ref:t,onMouseDown:Qs(e.onMouseDown,C=>{r?d.onItemFocus(u):C.preventDefault()}),onFocus:Qs(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qs(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=gH(C,d.orientation,d.dir);if(k!==void 0){C.preventDefault();let v=p().filter(w=>w.focusable).map(w=>w.ref.current);if(k==="last")v.reverse();else if(k==="prev"||k==="next"){k==="prev"&&v.reverse();const w=v.indexOf(C.currentTarget);v=d.loop?vH(v,w+1):v.slice(w+1)}setTimeout(()=>NR(v))}})})))}),pH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gH(e,t,n){const r=mH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pH[r]}function NR(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function vH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const yH=uH,bH=hH,DR=b.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=e,[s=!1,l]=_p({prop:n,onChange:i,defaultProp:r});return b.createElement(Nu.button,rn({type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0},o,{ref:t,onClick:Qs(e.onClick,()=>{e.disabled||l(!s)})}))}),UR=DR,xp="ToggleGroup",[FR,jH]=O1(xp,[AR]),jR=AR(),kH=H.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return H.createElement(CH,rn({},i,{ref:t}))}if(n==="multiple"){const i=r;return H.createElement(SH,rn({},i,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${xp}\``)}),[$R,zR]=FR(xp),CH=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s,l]=_p({prop:n,defaultProp:r,onChange:i});return H.createElement($R,{scope:e.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:l,onItemDeactivate:H.useCallback(()=>l(""),[l])},H.createElement(BR,rn({},o,{ref:t})))}),SH=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s=[],l]=_p({prop:n,defaultProp:r,onChange:i}),u=H.useCallback(h=>l((p=[])=>[...p,h]),[l]),d=H.useCallback(h=>l((p=[])=>p.filter(m=>m!==h)),[l]);return H.createElement($R,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:u,onItemDeactivate:d},H.createElement(BR,rn({},o,{ref:t})))}),[wH,TH]=FR(xp),BR=H.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:l=!0,...u}=e,d=jR(n),h=MR(s),p={role:"group",dir:h,...u};return H.createElement(wH,{scope:n,rovingFocus:i,disabled:r},i?H.createElement(yH,rn({asChild:!0},d,{orientation:o,dir:h,loop:l}),H.createElement(Nu.div,rn({},p,{ref:t}))):H.createElement(Nu.div,rn({},p,{ref:t})))}),j0="ToggleGroupItem",EH=H.forwardRef((e,t)=>{const n=zR(j0,e.__scopeToggleGroup),r=TH(j0,e.__scopeToggleGroup),i=jR(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,l={...e,pressed:o,disabled:s},u=H.useRef(null);return r.rovingFocus?H.createElement(bH,rn({asChild:!0},i,{focusable:!s,active:o,ref:u}),H.createElement(vT,rn({},l,{ref:t}))):H.createElement(vT,rn({},l,{ref:t}))}),vT=H.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,o=zR(j0,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=o.type==="single"?s:void 0;return H.createElement(DR,rn({},l,i,{ref:t,onPressedChange:u=>{u?o.onItemActivate(r):o.onItemDeactivate(r)}}))}),VR=kH,WR=EH,HR=PR("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),_H=b.forwardRef(({className:e,variant:t,size:n,...r},i)=>ee.jsx(UR,{ref:i,className:ei(HR({variant:t,size:n,className:e})),...r}));_H.displayName=UR.displayName;const GR=b.createContext({size:"default",variant:"default"}),qR=b.forwardRef(({className:e,variant:t,size:n,children:r,...i},o)=>ee.jsx(VR,{ref:o,className:ei("flex items-center justify-center gap-1",e),...i,children:ee.jsx(GR.Provider,{value:{variant:t,size:n},children:r})}));qR.displayName=VR.displayName;const KR=b.forwardRef(({className:e,children:t,variant:n,size:r,...i},o)=>{const s=b.useContext(GR);return ee.jsx(WR,{ref:o,className:ei(HR({variant:s.variant||n,size:s.size||r}),e),...i,children:t})});KR.displayName=WR.displayName;const JR=b.forwardRef(({className:e,type:t,...n},r)=>ee.jsx("input",{type:t,className:ei("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));JR.displayName="Input";const yT=[{name:"KamiKat",avatarUrl:"http://localhost:3333/uploads/teste1.jpg",messages:[]},{name:"brTT",avatarUrl:"http://localhost:3333/uploads/teste1.jpg",messages:[]},{name:"LeoManeiro",avatarUrl:"http://localhost:3333/uploads/teste1.jpg",messages:[]}],xH=()=>{const[e,t]=H.useState(!1),[n,r]=H.useState(yT[0].name),[i,o]=H.useState(yT),s=u=>{u.trim()&&o(d=>d.map(h=>h.name===n?{...h,messages:[...h.messages,u]}:h))};function l(){if(!e)return null;const u=i.find(d=>d.name===n);return ee.jsxs(RR,{className:"flex flex-col w-96 h-80 border-none absolute bottom-0 right-64",children:[ee.jsx(IR,{className:"flex-row space-x-1 items-center space-y-0 p-0 bg-[#101010] rounded-md",children:ee.jsx(Jx,{className:"w-4 h-4 cursor-pointer hover:text-gray-300",onClick:()=>t(!1)})}),ee.jsx(OR,{className:"flex-1 p-0",children:ee.jsxs("div",{className:"w-full h-full pt-6 bg-[#242424] flex items-start",children:[ee.jsx(qR,{type:"single",defaultValue:n,className:"flex flex-col w-max px-1 border-r border-white/20 h-full justify-start",children:i.map(d=>ee.jsx(KR,{className:"w-full hover:bg-[#101010] hover:opacity-80 hover:text-white data-[state=on]:bg-[#101010] h-max py-0.5",value:d.name,onClick:()=>r(d.name),children:ee.jsx("span",{className:"w-full text-start",children:d.name})},d.name))}),ee.jsxs("div",{className:"w-full h-full px-2 py-3 flex flex-col justify-end gap-y-2",children:[ee.jsx("div",{className:"grid grid-flow-row gap-y-1 w-full",children:u?.messages.map((d,h)=>ee.jsx("span",{className:`bg-[#101010] py-0.5 px-2 text-sm rounded-md self-end ${h%2===0?"justify-self-start":"justify-self-end"} min-h-min`,children:d},h))}),ee.jsxs("div",{className:"flex justify-between items-center bg-[#101010] rounded-md pr-2 h-max",children:[ee.jsx(JR,{className:"w-full text-sm h-6 bg-[#101010] border-none rounded-md text-white",onKeyDown:d=>{d.key==="Enter"&&(s(d.currentTarget.value),d.currentTarget.value="")}}),ee.jsx(f7,{className:"w-4 h-4 cursor-pointer hover:text-gray-300",onClick:d=>{const h=d.currentTarget.previousElementSibling;h&&(s(h.value),h.value="")}})]})]})]})})]})}return ee.jsxs("div",{className:"bg-[#101010] w-64 h-full text-white",children:[ee.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[ee.jsx("span",{className:"font-semibold text-lg",children:"Amigos"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(p7,{className:"w-5 h-5 cursor-pointer hover:text-gray-300"}),ee.jsx(d7,{className:"w-5 h-5 cursor-pointer hover:text-gray-300"})]})]}),ee.jsx("div",{className:"p-4 space-y-4",children:i.map((u,d)=>ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("img",{src:u.avatarUrl,alt:u.name,className:"w-10 h-10 rounded-full"}),ee.jsx("div",{className:"flex-1",children:ee.jsx("span",{className:"text-sm font-medium",children:u.name})}),ee.jsx(c7,{className:"w-5 h-5 cursor-pointer hover:text-gray-300",onClick:()=>{t(!0),r(u.name)}}),ee.jsx(l7,{className:"w-5 h-5 cursor-pointer hover:text-gray-300"})]},d))}),ee.jsx(l,{})]})};function PH(){return jW(),ee.jsxs("div",{className:"flex flex-col flex-1 min-h-screen",children:[ee.jsx(GW,{}),ee.jsx("div",{className:"absolute top-32 left-0",children:ee.jsx($W,{className:"mx-6"})}),ee.jsx("main",{className:"w-full grid flex-1",children:ee.jsx("div",{className:"justify-self-end",children:ee.jsx(xH,{})})})]})}function RH(){return ee.jsxs("main",{className:"flex w-full min-h-screen items-center justify-center p-8",children:[ee.jsxs("div",{className:"flex flex-col w-2/3 items-center justify-center gap-4",children:[ee.jsx("img",{src:"/PlayVoiceLogo.png",alt:"Logo PlayVoice",className:"h-[370px] w-[500px]"}),ee.jsx("h1",{className:"text-3xl font-bold text-white",children:"Bem-vindo ao PlayVoice"}),ee.jsx("p",{className:"text-lg text-[#A5A5A5]",children:"O aplicativo definitivo de comunicação para gamers!"})]}),ee.jsxs("div",{className:"flex flex-col w-2/3 items-center justify-center gap-4",children:[ee.jsx(zS,{to:"/sign-in",children:ee.jsx(El,{className:"bg-[#1A3472] text-white py-3 px-8 hover:bg-[#253d75]",children:"Entrar"})}),ee.jsx(zS,{to:"sign-up",children:ee.jsx(El,{className:"bg-[#1A3472] text-white py-3 px-8 hover:bg-[#253d75]",children:"Cadastrar-se"})})]})]})}function IH(){return ee.jsx("main",{className:"min-h-[640px] flex items-center justify-center",children:ee.jsx(C6,{appearance:{layout:{logoImageUrl:"/PlayVoiceLogo.png",unsafe_disableDevelopmentModeWarnings:!0},elements:{card:"bg-[#101010]",footerItem:"bg-[#101010]",footer:{background:"#101010"},footerAction:"bg-[#101010]",footerActionText:"text-[#ffffff]",footerActionLink:"text-[#ffffff]",socialButtonsBlockButton:"bg-white hover:bg-gray-300",headerTitle:"text-white",formFieldLabel:"text-[#ffffff]",dividerText:"text-[#ffffff]",formButtonPrimary:"bg-[#0F172A] hover:bg-slate-600 text-[#ffffff] text-sm"}},path:"/sign-in",signUpUrl:"/sign-up",signUpForceRedirectUrl:"/dashboard",forceRedirectUrl:"/dashboard"})})}function OH(){return ee.jsx("main",{className:"flex min-h-[640px] items-center justify-center",children:ee.jsx(S6,{appearance:{layout:{logoImageUrl:"/PlayVoiceLogo.png",unsafe_disableDevelopmentModeWarnings:!0},elements:{card:"bg-[#101010]",footerItem:"bg-[#101010]",footer:{background:"#101010"},footerAction:"bg-[#101010]",footerActionText:"text-[#ffffff]",footerActionLink:"text-[#ffffff]",socialButtonsBlockButton:"bg-white hover:bg-gray-300",headerTitle:"text-white",formFieldLabel:"text-[#ffffff]",dividerText:"text-[#ffffff]",formButtonPrimary:"bg-[#0F172A] hover:bg-slate-400 text-[#ffffff] text-sm"}},path:"/sign-up",signInUrl:"/sign-in",afterSignOutUrl:"/sign-in"})})}const MH="pk_test_Y2xvc2UtZ3J1Yi03MS5jbGVyay5hY2NvdW50cy5kZXYk",LH=rU([{element:ee.jsx(v7,{}),children:[{path:"/",element:ee.jsx(RH,{})},{path:"/sign-in/*",element:ee.jsx(IH,{})},{path:"/sign-up/*",element:ee.jsx(OH,{})}]},{element:ee.jsx(g7,{}),children:[{path:"/dashboard",element:ee.jsx(PH,{})},{path:"/chat-voice",element:ee.jsx(RW,{})}]}]);Qg.createRoot(document.getElementById("root")).render(ee.jsx(H.StrictMode,{children:ee.jsx(kx,{publishableKey:MH,children:ee.jsx(TU,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:ee.jsx("div",{className:"min-w-screen min-h-screen bg-black",children:ee.jsx(fU,{router:LH})})})})}));
